<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Online Agama Islam PERGUNU Situbondo</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --color-primary: #6a11cb;
            --color-secondary: #2575fc;
            --color-tertiary: #00c6fb;
            --color-success: #4CAF50;
            --color-error: #f44336;
            --color-warning: #ff9800;
            --color-info: #2196F3;
            --color-dark: #1a1a2e;
            --color-light: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary), var(--color-tertiary));
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Particle Background */
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
        }

        #celebration-particles {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            pointer-events: none;
            display: none;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        .logo {
            height: 80px;
            margin-bottom: 15px;
        }

        /* Card Styles */
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        /* Button Styles */
        .btn {
            display: inline-block;
            padding: 12px 25px;
            border-radius: 50px;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            text-decoration: none;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(37, 117, 252, 0.3);
            margin: 5px;
            text-align: center;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(37, 117, 252, 0.4);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-success {
            background: linear-gradient(to right, var(--color-success), #2ecc71);
        }

        .btn-danger {
            background: linear-gradient(to right, var(--color-error), #e74c3c);
        }

        .btn-warning {
            background: linear-gradient(to right, var(--color-warning), #f39c12);
        }

        .btn-info {
            background: linear-gradient(to right, var(--color-info), #3498db);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-secondary);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 0 3px rgba(37, 117, 252, 0.2);
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        /* Radio and Checkbox Styles */
        .radio-group, .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .radio-option, .checkbox-option {
            display: none;
        }

        .radio-label, .checkbox-label {
            padding: 10px 20px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .radio-option:checked + .radio-label,
        .checkbox-option:checked + .checkbox-label {
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            box-shadow: 0 4px 15px rgba(37, 117, 252, 0.3);
        }

        /* Animation Classes */
        .slide-in {
            animation: slideIn 0.5s forwards;
        }

        .slide-out {
            animation: slideOut 0.5s forwards;
        }

        .fade-in {
            animation: fadeIn 0.5s forwards;
        }

        .fade-out {
            animation: fadeOut 0.5s forwards;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-100%); opacity: 0; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        /* Timer Styles */
        .timer {
            font-size: 24px;
            font-weight: 700;
            text-align: center;
            margin: 20px 0;
            color: white;
            transition: all 0.3s ease;
        }

        .timer-warning {
            color: var(--color-warning);
            font-size: 28px;
        }

        .timer-danger {
            color: var(--color-error);
            font-size: 32px;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            z-index: 1000;
            animation: slideUp 0.5s forwards;
            max-width: 90%;
            text-align: center;
        }

        @keyframes slideUp {
            from { bottom: -50px; opacity: 0; }
            to { bottom: 20px; opacity: 1; }
        }

        /* Question Styles */
        .question-container {
            margin-bottom: 30px;
        }

        .question {
            font-size: 18px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .option {
            padding: 15px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .option.correct {
            background: var(--color-success);
            animation: correctAnswer 0.5s;
        }

        .option.incorrect {
            background: var(--color-error);
            animation: incorrectAnswer 0.5s;
        }

        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectAnswer {
            0% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-10px); }
            80% { transform: translateX(10px); }
            100% { transform: translateX(0); }
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            display: none;
        }

        /* Certificate Styles - REVISED FOR PRINTING */
        .certificate {
            background: white;
            color: #333;
            padding: 0;
            border-radius: 0;
            box-shadow: none;
            width: 210mm; /* A4 width */
            height: 297mm; /* A4 height */
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            background-image: url('https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/certificate.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            flex-direction: column;
            justify-content: center;
            page-break-after: avoid;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        .certificate-content {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 40px 60px;
            margin: 0 auto;
            width: 80%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .certificate-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--color-primary);
            text-transform: uppercase;
        }

        .certificate-code {
            font-size: 14px;
            margin-bottom: 30px;
            color: #555;
            letter-spacing: 1px;
        }

        .certificate-recipient {
            font-size: 48px;
            margin: 20px 0;
            font-weight: 600;
            color: #333;
            font-family: 'Dancing Script', cursive;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .certificate-body {
            font-size: 16px;
            line-height: 1.6;
            margin: 10px 0;
            color: #333;
        }

        .certificate-score {
            font-size: 28px;
            font-weight: 700;
            color: var(--color-primary);
            margin: 20px 0;
        }

        .certificate-motivation {
            font-style: italic;
            margin: 15px 0;
            font-size: 14px;
            color: #555;
        }

        .certificate-footer {
            margin-top: 30px;
            font-size: 12px;
            color: #555;
        }

        .certificate-signature {
            margin-top: 40px;
            font-size: 14px;
        }

        .certificate-barcode {
            margin: 15px auto;
            height: 80px;
            width: auto;
        }

        /* Floating Button Styles */
        .floating-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 100;
        }

        .floating-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .floating-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .floating-btn .tooltip {
            position: absolute;
            right: 60px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .floating-btn:hover .tooltip {
            opacity: 1;
            right: 70px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            color: #333;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalFadeIn 0.3s;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--color-primary);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        /* Roman numeral styles */
        .roman {
            font-family: 'Times New Roman', serif;
            font-style: italic;
        }

        /* Print Styles - REVISED FOR BETTER PRINTING */
        @media print {
            body * {
                visibility: hidden;
                background: white !important;
                color: black !important;
            }
            
            .certificate, 
            .certificate * {
                visibility: visible;
                background: transparent !important;
                color: #333 !important;
            }
            
            .certificate {
                position: absolute;
                left: 0;
                top: 0;
                width: 210mm !important;
                height: 297mm !important;
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                border-radius: 0 !important;
                background-image: url('https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/certificate.png') !important;
                background-size: cover !important;
                background-position: center !important;
                background-repeat: no-repeat !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                page-break-after: avoid !important;
                page-break-inside: avoid !important;
            }
            
            .certificate-content {
                padding: 40px 60px !important;
                margin: 0 auto !important;
                width: 80% !important;
                height: 100% !important;
                display: flex !important;
                flex-direction: column !important;
                justify-content: center !important;
            }
            
            .certificate-recipient {
                font-size: 48px !important;
                font-family: 'Dancing Script', cursive !important;
            }
            
            .floating-buttons, 
            .results-summary, 
            .result-actions {
                display: none !important;
            }
            
            @page {
                size: A4 portrait;
                margin: 0;
            }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .card {
                padding: 20px;
            }
            
            .certificate-content {
                padding: 30px;
                width: 90%;
            }
            
            .certificate-title {
                font-size: 24px;
            }
            
            .certificate-recipient {
                font-size: 36px;
            }
            
            .floating-buttons {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .btn {
                padding: 10px 20px;
                font-size: 14px;
            }
            
            .form-control {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            .certificate-content {
                padding: 20px;
                width: 95%;
            }
            
            .certificate-title {
                font-size: 20px;
            }
            
            .certificate-recipient {
                font-size: 28px;
            }
        }

        /* Admin Panel Specific Styles */
        .admin-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .admin-section h5 {
            color: var(--color-primary);
            margin-bottom: 15px;
            font-size: 18px;
        }

        .admin-controls {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .admin-control-group {
            margin-bottom: 15px;
        }

        .admin-control-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            font-size: 14px;
        }

        .admin-control-input {
            width: 100%;
            padding: 10px 12px;
            border-radius: 6px;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        .admin-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--color-success);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        .participant-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 10px;
        }

        .participant-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }

        .participant-item:last-child {
            border-bottom: none;
        }

        .export-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        /* Table Styles */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 14px;
        }

        .data-table th, .data-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .data-table th {
            background-color: #f5f5f5;
            font-weight: 600;
        }

        .data-table tr:hover {
            background-color: #f9f9f9;
        }

        /* Checkbox styles for participant selection */
        .select-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .select-all-checkbox {
            margin-right: 5px;
        }

        .participant-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        /* Search Box */
        .search-box {
            margin-bottom: 15px;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        /* Edit Participant Modal */
        .edit-participant-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .edit-participant-content {
            background: white;
            color: #333;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .edit-participant-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        /* Certificate Validation Section */
        .certificate-validation {
            margin-top: 20px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 8px;
        }

        .validation-result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        .valid-certificate {
            background-color: #dff0d8;
            color: #3c763d;
        }

        .invalid-certificate {
            background-color: #f2dede;
            color: #a94442;
        }

        /* Alert Styles */
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            font-size: 14px;
        }

        .alert-success {
            background-color: #dff0d8;
            color: #3c763d;
            border: 1px solid #d6e9c6;
        }

        .alert-danger {
            background-color: #f2dede;
            color: #a94442;
            border: 1px solid #ebccd1;
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div id="celebration-particles"></div>
    
    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="card slide-in">
            <div class="header">
                <img src="https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/logo.png" alt="PERGUNU Logo" class="logo">
                <h1>Ujian Online Agama Islam PERGUNU Situbondo</h1>
            </div>
            
            <div id="greeting-message">
                <p id="greeting-text">Selamat datang di sistem ujian online Agama Islam PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.</p>
            </div>
            
            <div class="form-group">
                <label for="login-code" class="form-label">Kode Login</label>
                <input type="password" id="login-code" class="form-control" placeholder="Masukkan kode login">
                <small class="text-muted">Kode login diberikan oleh admin</small>
            </div>
            
            <button id="login-btn" class="btn">Masuk</button>
        </div>
        
        <!-- Terms Screen (Hidden Initially) -->
        <div id="terms-screen" class="card" style="display: none;">
            <h2>Peraturan dan Kebijakan Ujian Online</h2>
            <div class="terms-content" style="max-height: 300px; overflow-y: auto; margin: 20px 0; padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                <p>1. Ujian ini dikembangkan oleh Cendhanu Tim Kreator PERGUNU Situbondo.</p>
                <p>2. Peserta wajib mengisi data diri dengan benar dan lengkap.</p>
                <p>3. Dilarang keras melakukan kecurangan selama ujian berlangsung.</p>
                <p>4. Waktu ujian akan berjalan terus dan tidak dapat dihentikan.</p>
                <p>5. Jawaban yang sudah dipilih tidak dapat diubah.</p>
                <p>6. Soal yang tidak dijawab akan dianggap salah.</p>
                <p>7. Hasil ujian akan ditampilkan setelah waktu habis atau peserta menyelesaikan ujian.</p>
                <p>8. Sertifikat akan diberikan kepada peserta yang menyelesaikan ujian.</p>
                <p>9. Keputusan panitia ujian bersifat mutlak dan tidak dapat diganggu gugat.</p>
            </div>
            
            <div class="form-group">
                <input type="checkbox" id="agree-terms" class="checkbox-option">
                <label for="agree-terms" class="checkbox-label">Saya menyetujui</label>
            </div>
            
            <button id="continue-btn" class="btn" disabled>Lanjut Ikut Ujian</button>
        </div>
        
        <!-- Participant Form (Hidden Initially) -->
        <div id="participant-form" class="card" style="display: none;">
            <h2>Formulir Data Peserta</h2>
            <p>Silakan isi data diri Anda dengan benar. Data ini akan digunakan untuk sertifikat ujian.</p>
            
            <div class="form-group">
                <label for="fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="fullname" class="form-control" placeholder="Masukkan nama lengkap" pattern="[A-Za-z ]+" title="Hanya huruf diperbolehkan" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Status</label>
                <div class="radio-group">
                    <input type="radio" id="status-student" name="status" value="pelajar" class="radio-option" checked>
                    <label for="status-student" class="radio-label">Pelajar</label>
                </div>
            </div>
            
            <!-- Student Fields -->
            <div id="student-fields">
                <div class="form-group">
                    <label for="school-name" class="form-label">Nama Sekolah</label>
                    <input type="text" id="school-name" class="form-control" placeholder="Masukkan nama sekolah">
                </div>
                
                <div class="form-group">
                    <label for="student-id" class="form-label">NIS (Nomor Induk Siswa)</label>
                    <input type="text" id="student-id" class="form-control" placeholder="Masukkan NIS" pattern="[0-9]+" title="Hanya angka diperbolehkan" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tujuan Ikut Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="purpose-task" name="purpose" value="Tugas Sekolah" class="radio-option">
                        <label for="purpose-task" class="radio-label">Tugas Sekolah</label>
                        
                        <input type="radio" id="purpose-exam" name="purpose" value="Tugas Ulangan" class="radio-option">
                        <label for="purpose-exam" class="radio-label">Tugas Ulangan</label>
                        
                        <input type="radio" id="purpose-test" name="purpose" value="Tes dan Belajar" class="radio-option">
                        <label for="purpose-test" class="radio-label">Tes dan Belajar</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tingkat Sekolah</label>
                    <div class="radio-group">
                        <input type="radio" id="level-elementary" name="level" value="SD" class="radio-option">
                        <label for="level-elementary" class="radio-label">SD</label>
                        
                        <input type="radio" id="level-junior" name="level" value="SMP" class="radio-option">
                        <label for="level-junior" class="radio-label">SMP</label>
                        
                        <input type="radio" id="level-senior" name="level" value="SMA/SMK" class="radio-option">
                        <label for="level-senior" class="radio-label">SMA/SMK</label>
                    </div>
                </div>
            </div>
            
            <!-- Grade Selection (Will be shown based on school level) -->
            <div id="grade-selection" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Kelas</label>
                    <div class="radio-group" id="grade-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Subject Selection -->
            <div id="subject-selection" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Pilih Jenis Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="subject-religion" name="subject" value="Agama Islam" class="radio-option" checked>
                        <label for="subject-religion" class="radio-label">Agama Islam</label>
                    </div>
                </div>
            </div>
            
            <!-- Admin Information -->
            <div class="form-group" id="admin-info" style="margin-top: 30px;">
                <p>Informasi berkala dari admin:</p>
                <div style="padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                    <p id="admin-message">Tidak ada informasi terbaru saat ini.</p>
                </div>
            </div>
            
            <button id="save-participant-btn" class="btn" disabled>Simpan & Ikut Ujian</button>
        </div>
        
        <!-- Exam Screen (Hidden Initially) -->
        <div id="exam-screen" class="card" style="display: none;">
            <div class="timer" id="exam-timer">02:00:00</div>
            
            <div class="question-container">
                <div class="question" id="question-text">Memuat soal...</div>
                <div id="question-image-container" style="margin-bottom: 15px;"></div>
                
                <div class="options" id="options-container">
                    <!-- Options will be populated by JavaScript -->
                </div>
                
                <div class="explanation" id="explanation-text">
                    <!-- Explanation will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="exam-controls">
                <button id="finish-exam-btn" class="btn btn-danger">Selesaikan Ujian Sekarang</button>
                <button id="skip-question-btn" class="btn btn-warning">Lewati Soal</button>
                <button id="unanswered-btn" class="btn btn-info">Soal Belum Dijawab</button>
            </div>
        </div>
        
        <!-- Results Screen (Hidden Initially) -->
        <div id="results-screen" class="card" style="display: none;">
            <h2>Hasil Ujian</h2>
            
            <div class="results-summary">
                <p>Nama: <span id="result-name"></span></p>
                <p>Status: <span id="result-status"></span></p>
                <p>Tingkat: <span id="result-level"></span></p>
                <p>Kelas: <span id="result-grade"></span></p>
                <p>Mata Ujian: <span id="result-subject"></span></p>
                <p>Jumlah Soal: <span id="total-questions"></span></p>
                <p>Jawaban Benar: <span id="correct-answers"></span></p>
                <p>Jawaban Salah: <span id="wrong-answers"></span></p>
                <p>Tidak Dijawab: <span id="unanswered-questions"></span></p>
                <p>Nilai: <span id="exam-score"></span></p>
            </div>
            
            <div class="certificate-container" id="certificate-container" style="display: none;">
                <!-- Certificate will be generated here -->
            </div>
            
            <div class="result-actions">
                <button id="print-certificate-btn" class="btn btn-success">Cetak Sertifikat</button>
                <button id="retake-exam-btn" class="btn btn-info">Ulangi Ujian</button>
            </div>
        </div>
    </div>
    
    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <button class="floating-btn" id="whatsapp-btn">
            <i class="fab fa-whatsapp"></i>
            <span class="tooltip">Chat Admin</span>
        </button>
        
        <button class="floating-btn" id="admin-panel-btn">
            <i class="fas fa-cog"></i>
            <span class="tooltip">Admin Panel</span>
        </button>
    </div>
    
    <!-- Admin Panel Modal -->
    <div class="modal" id="admin-panel-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Kontrol Panel Admin</h3>
                <button class="modal-close" id="close-admin-panel-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="admin-panel-code" class="form-label">Kode Admin</label>
                    <input type="password" id="admin-panel-code" class="form-control" placeholder="Masukkan kode admin" style="color: #333;">
                    <button id="submit-admin-panel-code" class="btn">Masuk</button>
                </div>
                
                <div id="admin-panel-content" style="display: none;">
                    <div class="admin-section">
                        <h5>Pengaturan Kode</h5>
                        <div class="form-group">
                            <label class="form-label">Kode Login Baru</label>
                            <input type="password" id="new-login-code" class="form-control" placeholder="Masukkan kode login baru" style="color: #333;">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Kode Admin Baru</label>
                            <input type="password" id="new-admin-code" class="form-control" placeholder="Masukkan kode admin baru" style="color: #333;">
                        </div>
                        
                        <button id="save-codes-btn" class="btn btn-success">Simpan Kode</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Ujian</h5>
                        <div class="admin-controls">
                            <div class="admin-control-group">
                                <label class="admin-control-label">Durasi Ujian (menit)</label>
                                <input type="number" id="exam-duration" class="admin-control-input" value="120" min="5" max="300">
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Konten</h5>
                        <div class="form-group">
                            <label class="form-label">Pesan Pembuka</label>
                            <textarea id="greeting-message-input" class="form-control" rows="3" style="color: #333;">Selamat datang di sistem ujian online Agama Islam PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Pesan Informasi Berkala</label>
                            <textarea id="admin-message-input" class="form-control" rows="3" style="color: #333;">Tidak ada informasi terbaru saat ini.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Nama Ketua PERGUNU</label>
                            <input type="text" id="chairman-name" class="form-control" value="Moh. Nuril Hudha, S.Pd., M.Si." style="color: #333;">
                        </div>
                        <button id="save-content-btn" class="btn btn-success">Simpan Perubahan</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Manajemen Peserta</h5>
                        <div class="search-box">
                            <input type="text" id="participant-search" class="search-input" placeholder="Cari peserta berdasarkan nama, NIS, atau kode sertifikat...">
                        </div>
                        <div class="participant-actions">
                            <button id="select-all-participants" class="btn btn-info">
                                <input type="checkbox" id="select-all-checkbox" class="select-all-checkbox">
                                Pilih Semua
                            </button>
                            <button id="edit-selected-participants" class="btn btn-warning" disabled>
                                <i class="fas fa-edit"></i> Edit Terpilih
                            </button>
                            <button id="delete-selected-participants" class="btn btn-danger" disabled>
                                <i class="fas fa-trash"></i> Hapus Terpilih
                            </button>
                        </div>
                        <div class="participant-list">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th width="30px">
                                            <!-- Select all checkbox -->
                                        </th>
                                        <th>Tanggal</th>
                                        <th>Nama</th>
                                        <th>NIS</th>
                                        <th>Status</th>
                                        <th>Tingkat</th>
                                        <th>Kelas</th>
                                        <th>Mata Ujian</th>
                                        <th>Nilai</th>
                                        <th>Kode Sertifikat</th>
                                    </tr>
                                </thead>
                                <tbody id="participants-table-body">
                                    <!-- Participant data will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Validasi Sertifikat</h5>
                        <div class="certificate-validation">
                            <div class="form-group">
                                <label class="form-label">Masukkan Kode Sertifikat</label>
                                <input type="text" id="certificate-code-input" class="form-control" placeholder="Masukkan kode sertifikat" style="color: #333;">
                                <button id="validate-certificate-btn" class="btn btn-info">Validasi</button>
                            </div>
                            <div id="validation-result" class="validation-result" style="display: none;">
                                <!-- Validation result will be shown here -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Aktifkan/Nonaktifkan Ujian</h5>
                        <div class="admin-control-group">
                            <label class="admin-control-label">Agama Islam</label>
                            <div class="admin-toggle">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="toggle-religion" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span id="religion-status">Aktif</span>
                            </div>
                        </div>
                        <button id="save-settings-btn" class="btn btn-success">Simpan Pengaturan</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Edit Participant Modal -->
    <div class="edit-participant-modal" id="edit-participant-modal">
        <div class="edit-participant-content">
            <span class="edit-participant-close" id="close-edit-participant-modal">&times;</span>
            <h3>Edit Data Peserta</h3>
            
            <div class="form-group">
                <label for="edit-fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="edit-fullname" class="form-control" style="color: #333;" pattern="[A-Za-z ]+" title="Hanya huruf diperbolehkan" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Status</label>
                <div class="radio-group">
                    <input type="radio" id="edit-status-student" name="edit-status" value="pelajar" class="radio-option" checked>
                    <label for="edit-status-student" class="radio-label">Pelajar</label>
                </div>
            </div>
            
            <div id="edit-student-fields">
                <div class="form-group">
                    <label for="edit-school-name" class="form-label">Nama Sekolah</label>
                    <input type="text" id="edit-school-name" class="form-control" style="color: #333;">
                </div>
                
                <div class="form-group">
                    <label for="edit-student-id" class="form-label">NIS (Nomor Induk Siswa)</label>
                    <input type="text" id="edit-student-id" class="form-control" style="color: #333;" pattern="[0-9]+" title="Hanya angka diperbolehkan" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tujuan Ikut Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="edit-purpose-task" name="edit-purpose" value="Tugas Sekolah" class="radio-option">
                        <label for="edit-purpose-task" class="radio-label">Tugas Sekolah</label>
                        
                        <input type="radio" id="edit-purpose-exam" name="edit-purpose" value="Tugas Ulangan" class="radio-option">
                        <label for="edit-purpose-exam" class="radio-label">Tugas Ulangan</label>
                        
                        <input type="radio" id="edit-purpose-test" name="edit-purpose" value="Tes dan Belajar" class="radio-option">
                        <label for="edit-purpose-test" class="radio-label">Tes dan Belajar</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tingkat Sekolah</label>
                    <div class="radio-group">
                        <input type="radio" id="edit-level-elementary" name="edit-level" value="SD" class="radio-option">
                        <label for="edit-level-elementary" class="radio-label">SD</label>
                        
                        <input type="radio" id="edit-level-junior" name="edit-level" value="SMP" class="radio-option">
                        <label for="edit-level-junior" class="radio-label">SMP</label>
                        
                        <input type="radio" id="edit-level-senior" name="edit-level" value="SMA/SMK" class="radio-option">
                        <label for="edit-level-senior" class="radio-label">SMA/SMK</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Kelas</label>
                    <div class="radio-group" id="edit-grade-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Mata Ujian</label>
                <select id="edit-subject" class="form-control" style="color: #333;">
                    <option value="Agama Islam">Agama Islam</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="edit-score" class="form-label">Nilai</label>
                <input type="number" id="edit-score" class="form-control" min="0" max="100" style="color: #333;">
            </div>
            
            <div class="form-group">
                <label for="edit-certificate-code" class="form-label">Kode Sertifikat</label>
                <input type="text" id="edit-certificate-code" class="form-control" style="color: #333;" readonly>
            </div>
            
            <button id="save-edit-participant-btn" class="btn btn-success">Simpan Perubahan</button>
            
            <input type="hidden" id="edit-participant-index">
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="time-warning" style="display: none;">
        Perhatian! Ujian akan berakhir dalam waktu 10 menit. Mohon pastikan semua jawaban telah diselesaikan dan diperiksa sebelum waktu habis. Terima kasih atas partisipasi Anda.
    </div>

    <!-- Audio Elements -->
    <audio id="button-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/audiotombol.mp3" preload="auto"></audio>
    <audio id="correct-answer-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/jawabanbenar.mp3" preload="auto"></audio>
    <audio id="wrong-answer-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/jawabansalah.mp3" preload="auto"></audio>
    <audio id="certificate-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/applause.mp3" preload="auto"></audio>
    <audio id="opening-sound" src="https://github.com/pergunu/ujian-online/raw/main/assets/audio/opening.mp3" preload="auto"></audio>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // Global variables
        let currentScreen = 'welcome';
        let participantData = {};
        let examData = {};
        let questions = [];
        let currentQuestionIndex = 0;
        let answeredQuestions = {};
        let examTimer;
        let examTimeLeft = 120 * 60; // 120 minutes in seconds
        let selectedParticipants = [];
        let questionOrder = []; // Untuk menyimpan urutan soal yang diacak
        
        // Audio elements
        const buttonSound = document.getElementById('button-sound');
        const correctAnswerSound = document.getElementById('correct-answer-sound');
        const wrongAnswerSound = document.getElementById('wrong-answer-sound');
        const certificateSound = document.getElementById('certificate-sound');
        const openingSound = document.getElementById('opening-sound');
        
        // Default codes (should be changed in production)
        const DEFAULT_LOGIN_CODE = '12345';
        const DEFAULT_ADMIN_PANEL_CODE = '65614222';
        
        // Store participants data
        let participantsData = JSON.parse(localStorage.getItem('participantsData')) || [];
        
        // Store admin settings
        let adminSettings = JSON.parse(localStorage.getItem('adminSettings')) || {
            loginCode: DEFAULT_LOGIN_CODE,
            adminCode: DEFAULT_ADMIN_PANEL_CODE,
            examDuration: 120,
            greetingMessage: "Selamat datang di sistem ujian online Agama Islam PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.",
            adminMessage: "Tidak ada informasi terbaru saat ini.",
            chairmanName: "Moh. Nuril Hudha, S.Pd., M.Si.",
            enabledSubjects: {
                "Agama Islam": true
            }
        };

        // Question bank structure with levels (Agama Islam only)
        // Dapat diubah secara manual di sini
        let QUESTION_BANK = {
            'SD': {
                'Agama Islam': [
                    {
                question: "Surah Al-Fatihah disebut juga sebagai Ummul Kitab. Jelaskan makna dari Ummul Kitab dan mengapa surah ini sangat penting dalam shalat!",
                options: [
                    "A. Ummul Kitab berarti 'induknya Al-Quran' karena mengandung inti ajaran Islam dan dibaca setiap rakaat shalat.",
                    "B. Ummul Kitab berarti 'surah terpanjang' karena mencakup semua hukum Islam.",
                    "C. Ummul Kitab adalah surah pertama yang diturunkan kepada Nabi Muhammad SAW.",
                    "D. Ummul Kitab adalah surah yang hanya dibaca pada shalat Jumat.",
                    "E. Ummul Kitab berarti 'penutup Al-Quran' karena selalu dibaca di akhir shalat."
                ],
                correctAnswer: 0,
                explanation: "Ummul Kitab berarti 'induknya Al-Quran' karena surah Al-Fatihah mengandung inti ajaran Islam seperti tauhid, ibadah, dan penghambaan kepada Allah. Surah ini sangat penting dalam shalat karena merupakan rukun shalat yang harus dibaca setiap rakaat."
            },
            {
                question: "Jelaskan perbedaan antara malaikat, jin, dan manusia berdasarkan sifat dan tugasnya menurut ajaran Islam!",
                options: [
                    "A. Malaikat diciptakan dari cahaya, selalu taat; jin dari api, bisa taat atau durhaka; manusia dari tanah, memiliki akal dan pilihan.",
                    "B. Malaikat, jin, dan manusia sama-sama diciptakan dari tanah dan memiliki akal.",
                    "C. Malaikat dan jin diciptakan dari api, sedangkan manusia dari cahaya.",
                    "D. Malaikat bisa durhaka, jin selalu taat, dan manusia tidak memiliki akal.",
                    "E. Malaikat dan manusia diciptakan untuk hidup abadi, sedangkan jin akan mati."
                ],
                correctAnswer: 0,
                explanation: "Malaikat diciptakan dari cahaya, selalu taat kepada Allah tanpa memiliki nafsu. Jin diciptakan dari api, memiliki nafsu, dan bisa memilih taat atau durhaka. Manusia diciptakan dari tanah, diberi akal dan nafsu, serta memiliki kebebasan memilih antara baik dan buruk."
            },
            {
                question: "Mengapa Nabi Muhammad SAW disebut sebagai khatamul anbiya? Jelaskan dengan menyebutkan dalil dari Al-Quran!",
                options: [
                    "A. Karena beliau adalah penutup para nabi dan rasul, sebagaimana firman Allah dalam QS. Al-Ahzab: 40.",
                    "B. Karena beliau adalah nabi pertama yang diutus ke muka bumi.",
                    "C. Karena beliau memiliki mukjizat terbanyak dibanding nabi lainnya.",
                    "D. Karena beliau diutus khusus untuk bangsa Arab saja.",
                    "E. Karena beliau adalah nabi yang akan datang setelah Nabi Isa AS."
                ],
                correctAnswer: 0,
                explanation: "Nabi Muhammad SAW disebut khatamul anbiya (penutup para nabi) karena tidak akan ada nabi setelahnya, sebagaimana firman Allah dalam QS. Al-Ahzab: 40: 'Muhammad itu sekali-kali bukanlah bapak dari seorang laki-laki di antara kamu, tetapi dia adalah Rasulullah dan penutup nabi-nabi.'"
            },
            {
                question: "Jelaskan makna dari Asmaul Husna 'Al-Adl' dan berikan contoh penerapannya dalam kehidupan sehari-hari!",
                options: [
                    "A. Al-Adl berarti Maha Adil, contohnya bersikap fair dalam menghakimi suatu perkara tanpa pilih kasih.",
                    "B. Al-Adl berarti Maha Pengampun, contohnya memaafkan kesalahan orang lain.",
                    "C. Al-Adl berarti Maha Kaya, contohnya memberi sedekah kepada fakir miskin.",
                    "D. Al-Adl berarti Maha Mengetahui, contohnya belajar dengan giat.",
                    "E. Al-Adl berarti Maha Penyayang, contohnya menyayangi hewan."
                ],
                correctAnswer: 0,
                explanation: "Asmaul Husna Al-Adl berarti Yang Maha Adil. Contoh penerapannya adalah bersikap adil dalam memutuskan perkara, tidak memihak kepada siapapun meskipun terhadap keluarga sendiri, serta memberikan hak kepada yang berhak menerimanya."
            },
            {
                question: "Apa yang dimaksud dengan hari akhir menurut ajaran Islam? Jelaskan pula mengapa iman kepada hari akhir termasuk rukun iman!",
                options: [
                    "A. Hari akhir adalah hari kiamat ketika alam semesta hancur dan manusia dibangkitkan untuk mempertanggungjawabkan amalnya. Termasuk rukun iman karena merupakan keyakinan dasar Islam.",
                    "B. Hari akhir adalah hari ketika Nabi Isa AS turun ke bumi.",
                    "C. Hari akhir adalah hari ketika semua manusia masuk surga.",
                    "D. Hari akhir adalah hari ketika malaikat Israfil meniup sangkakala pertama kali.",
                    "E. Hari akhir adalah hari ketika semua amal manusia diampuni."
                ],
                correctAnswer: 0,
                explanation: "Hari akhir adalah hari kiamat ketika seluruh alam semesta hancur dan manusia dibangkitkan dari kubur untuk dihisab amal perbuatannya. Iman kepada hari akhir termasuk rukun iman karena merupakan keyakinan dasar dalam Islam yang mempengaruhi perilaku manusia untuk selalu berbuat baik."
            },
            {
                question: "Jelaskan perbedaan antara zakat fitrah dan zakat mal dari segi waktu, kadar, dan penerimanya!",
                options: [
                    "A. Zakat fitrah wajib di bulan Ramadan dengan kadar beras 2.5 kg/orang untuk fakir miskin. Zakat mal dikeluarkan saat harta mencapai nisab setelah haul untuk 8 asnaf.",
                    "B. Zakat fitrah dan zakat mal sama dalam semua hal kecuali waktunya.",
                    "C. Zakat fitrah untuk orang kaya, zakat mal untuk orang miskin.",
                    "D. Zakat fitrah dikeluarkan setahun sekali, zakat mal setiap bulan.",
                    "E. Zakat fitrah berupa uang, zakat mal berupa makanan."
                ],
                correctAnswer: 0,
                explanation: "Zakat fitrah wajib dikeluarkan di bulan Ramadan sebelum shalat Id dengan kadar 2.5 kg beras/orang untuk fakir miskin. Zakat mal dikeluarkan ketika harta mencapai nisab dan telah dimiliki selama satu tahun (haul) untuk 8 golongan (asnaf) penerima zakat."
            },
            {
                question: "Apa hukumnya shalat Jumat bagi laki-laki muslim? Jelaskan syarat-syarat sah shalat Jumat menurut madzhab Syafi'i!",
                options: [
                    "A. Wajib bagi laki-laki muslim yang memenuhi syarat. Syarat sahnya: dilakukan berjamaah, minimal 40 orang, waktu zuhur, di tempat tetap, dan dua khutbah.",
                    "B. Sunnah muakkad bagi semua muslim tanpa syarat.",
                    "C. Wajib bagi perempuan dan laki-laki dengan syarat sama.",
                    "D. Hanya wajib bagi ulama dan imam masjid.",
                    "E. Tidak ada syarat khusus untuk shalat Jumat."
                ],
                correctAnswer: 0,
                explanation: "Shalat Jumat hukumnya wajib bagi laki-laki muslim yang memenuhi syarat. Menurut madzhab Syafi'i, syarat sah shalat Jumat adalah: (1) dilakukan berjamaah, (2) minimal 40 orang laki-laki dewasa, (3) dilaksanakan pada waktu zuhur, (4) di tempat yang tetap, dan (5) didahului dua khutbah."
            },
            {
                question: "Jelaskan pengertian jihad menurut Islam dan sebutkan 3 bentuk jihad yang bisa dilakukan seorang pelajar!",
                options: [
                    "A. Jihad adalah bersungguh-sungguh di jalan Allah. Contoh untuk pelajar: belajar giat, menghormati orang tua, dan berdakwah dengan sopan.",
                    "B. Jihad hanya berarti perang melawan orang kafir.",
                    "C. Jihad adalah ibadah khusus untuk orang dewasa saja.",
                    "D. Jihad tidak ada kaitannya dengan kehidupan pelajar.",
                    "E. Jihad hanya dilakukan dengan mengangkat senjata."
                ],
                correctAnswer: 0,
                explanation: "Jihad secara bahasa berarti bersungguh-sungguh. Dalam Islam, jihad adalah mengerahkan seluruh kemampuan di jalan Allah. Bagi pelajar, jihad bisa dilakukan dengan: (1) belajar giat untuk bekal masa depan, (2) berbakti kepada orang tua, dan (3) menyampaikan kebenaran dengan cara yang baik."
            },
            {
                question: "Apa yang dimaksud dengan ilmu tajwid? Jelaskan pentingnya mempelajari tajwid dalam membaca Al-Quran!",
                options: [
                    "A. Ilmu tentang cara membaca Al-Quran dengan benar. Penting untuk menjaga keaslian bacaan dan maknanya.",
                    "B. Ilmu tentang terjemahan Al-Quran ke bahasa lain.",
                    "C. Ilmu tentang sejarah turunnya Al-Quran.",
                    "D. Ilmu tentang menghafal Al-Quran dengan cepat.",
                    "E. Ilmu tentang tafsir ayat-ayat Al-Quran."
                ],
                correctAnswer: 0,
                explanation: "Ilmu tajwid adalah ilmu yang mempelajari cara membaca Al-Quran dengan benar, termasuk makhraj huruf, sifat huruf, dan hukum bacaan. Mempelajari tajwid sangat penting untuk menjaga keaslian bacaan Al-Quran dan menghindari kesalahan yang bisa mengubah makna."
            },
            {
                question: "Jelaskan perbedaan antara nabi dan rasul menurut aqidah Islam! Berikan contoh masing-masing 2 nama!",
                options: [
                    "A. Nabi menerima wahyu untuk dirinya, rasul mendapat wahyu untuk disampaikan. Contoh nabi: Yusuf, Harun. Contoh rasul: Nuh, Muhammad.",
                    "B. Nabi dan rasul sama saja, hanya istilah yang berbeda.",
                    "C. Nabi diutus untuk kaum tertentu, rasul untuk semua manusia.",
                    "D. Nabi memiliki kitab, rasul tidak memiliki kitab.",
                    "E. Nabi jumlahnya lebih sedikit dari rasul."
                ],
                correctAnswer: 0,
                explanation: "Perbedaan nabi dan rasul: (1) Nabi menerima wahyu untuk diamalkan sendiri, sedangkan rasul wajib menyampaikan kepada umat. (2) Setiap rasul pasti nabi, tetapi tidak sebaliknya. Contoh nabi: Nabi Yusuf AS, Nabi Harun AS. Contoh rasul: Nabi Nuh AS, Nabi Muhammad SAW."
            },
            {
                question: "Apa yang dimaksud dengan puasa sunnah Senin-Kamis? Jelaskan keutamaan dan hikmah melaksanakannya!",
                options: [
                    "A. Puasa di hari Senin dan Kamis yang dianjurkan Nabi. Keutamaannya: amal diperlihatkan kepada Allah, hikmahnya melatih kedisiplinan dan kesehatan.",
                    "B. Puasa wajib bagi umat Islam setiap minggu.",
                    "C. Puasa khusus untuk bulan Ramadan saja.",
                    "D. Puasa yang hanya dilakukan oleh para nabi.",
                    "E. Puasa untuk menebus dosa-dosa besar."
                ],
                correctAnswer: 0,
                explanation: "Puasa sunnah Senin-Kamis adalah puasa yang sangat dianjurkan Nabi Muhammad SAW. Keutamaannya: hari Senin adalah hari kelahiran Nabi dan turunnya Al-Quran, sedangkan amal manusia diperlihatkan kepada Allah setiap Senin dan Kamis. Hikmahnya: melatih kedisiplinan, menjaga kesehatan, dan mendekatkan diri kepada Allah."
            },
            {
                question: "Jelaskan makna dari syahadatain dan rukun-rukunnya! Mengapa syahadat disebut sebagai pondasi Islam?",
                options: [
                    "A. Syahadatain adalah dua kalimat syahadat. Rukunnya: mengucapkan dengan lisan, meyakini dengan hati, dan mengamalkan. Pondasi Islam karena menjadi pembeda antara muslim dan kafir.",
                    "B. Syahadatain adalah pernyataan masuk Islam tanpa syarat.",
                    "C. Syahadatain hanya diucapkan saat shalat saja.",
                    "D. Syahadatain tidak memiliki rukun khusus.",
                    "E. Syahadatain hanya wajib bagi orang yang baru masuk Islam."
                ],
                correctAnswer: 0,
                explanation: "Syahadatain terdiri dari syahadat tauhid (asyhadu alla ilaha illallah) dan syahadat rasul (wa asyhadu anna muhammadar rasulullah). Rukunnya: (1) mengucapkan dengan lisan, (2) meyakini dengan hati, dan (3) mengamalkan konsekuensinya. Syahadat disebut pondasi Islam karena merupakan inti dari semua ajaran Islam dan pembeda antara muslim dan kafir."
            },
            {
                question: "Apa hukumnya memakan makanan yang diharamkan dalam Islam? Jelaskan dampak negatifnya terhadap kehidupan manusia!",
                options: [
                    "A. Haram dan berdosa. Dampak negatif: merusak kesehatan, menjauhkan dari rahmat Allah, dan merusak akhlak.",
                    "B. Makruh jika sedikit dimakan.",
                    "C. Boleh dalam keadaan darurat.",
                    "D. Hukumnya sunnah untuk dicicipi.",
                    "E. Tidak ada dampak negatif selama enak rasanya."
                ],
                correctAnswer: 0,
                explanation: "Memakan makanan haram hukumnya haram dan termasuk dosa besar. Dampak negatifnya: (1) merusak kesehatan jasmani, (2) doa sulit dikabulkan, (3) menjauhkan dari rahmat Allah, (4) merusak akhlak, dan (5) membuat hati keras dan sulit menerima kebenaran."
            },
            {
                question: "Jelaskan pengertian akhlak mahmudah dan akhlak madzmumah beserta masing-masing 3 contohnya!",
                options: [
                    "A. Akhlak mahmudah adalah perilaku terpuji (jujur, sabar, rendah hati). Madzmumah adalah tercela (dengki, sombong, bohong).",
                    "B. Akhlak mahmudah dan madzmumah sama saja.",
                    "C. Akhlak mahmudah hanya untuk nabi, madzmumah untuk orang biasa.",
                    "D. Akhlak mahmudah adalah yang disukai manusia, madzmumah yang tidak disukai.",
                    "E. Tidak ada contoh pasti untuk kedua akhlak tersebut."
                ],
                correctAnswer: 0,
                explanation: "Akhlak mahmudah adalah perilaku terpuji yang dicontohkan Nabi Muhammad SAW, contohnya: jujur, sabar, rendah hati, dermawan, dan pemaaf. Akhlak madzmumah adalah perilaku tercela yang harus dihindari, contohnya: dengki, sombong, bohong, fitnah, dan kasar."
            },
            {
                question: "Mengapa Al-Quran disebut sebagai mukjizat terbesar Nabi Muhammad SAW? Jelaskan dengan menyebutkan bukti-buktinya!",
                options: [
                    "A. Karena keindahan bahasanya, kebenaran isinya yang tak terbantahkan, dan terjaga keasliannya hingga akhir zaman.",
                    "B. Karena Al-Quran diturunkan secara sekaligus.",
                    "C. Karena Al-Quran berisi cerita-cerita menarik.",
                    "D. Karena Al-Quran mudah dihafal oleh anak kecil.",
                    "E. Karena Al-Quran memiliki jumlah surah terbanyak."
                ],
                correctAnswer: 0,
                explanation: "Al-Quran disebut mukjizat terbesar karena: (1) Keindahan sastra Arabnya yang tak tertandingi, (2) Kandungan ilmiahnya yang sesuai dengan sains modern, (3) Ramalan masa depan yang terbukti benar, (4) Terjaga keasliannya tanpa perubahan sejak diturunkan, dan (5) Mempengaruhi peradaban manusia."
            },
            {
                question: "Apa yang dimaksud dengan khulafaur rasyidin? Sebutkan nama-nama mereka secara urut dan jelaskan jasa utama masing-masing!",
                options: [
                    "A. Empat khalifah pengganti Nabi yang mendapat petunjuk: Abu Bakar (memerangi nabi palsu), Umar (perluasan Islam), Utsman (pengumpulan Al-Quran), Ali (penegakan keadilan).",
                    "B. Para sahabat Nabi yang ikut hijrah ke Madinah.",
                    "C. Nama lain untuk para nabi sebelum Muhammad.",
                    "D. Gelar untuk para ulama besar di masa kini.",
                    "E. Para penjaga makam Nabi Muhammad SAW."
                ],
                correctAnswer: 0,
                explanation: "Khulafaur Rasyidin adalah empat khalifah pengganti Nabi yang mendapat petunjuk: (1) Abu Bakar Ash-Shiddiq (memerangi nabi palsu dan pemurtadan), (2) Umar bin Khattab (perluasan wilayah Islam dan penataan administrasi), (3) Utsman bin Affan (pengumpulan Al-Quran dalam satu mushaf), (4) Ali bin Abi Thalib (penegakan keadilan di tengah fitnah)."
            },
            {
                question: "Jelaskan pengertian qada dan qadar serta perbedaan keduanya! Berikan contoh dalam kehidupan sehari-hari!",
                options: [
                    "A. Qada adalah ketetapan Allah yang bersifat umum, qadar adalah ketetapan yang detail. Contoh: qada - ajal setiap makhluk, qadar - cara dan waktu kematian seseorang.",
                    "B. Qada dan qadar adalah dua nama untuk konsep yang sama.",
                    "C. Qada adalah takdir baik, qadar adalah takdir buruk.",
                    "D. Qada bisa diubah manusia, qadar tidak bisa diubah.",
                    "E. Qada untuk kehidupan dunia, qadar untuk akhirat."
                ],
                correctAnswer: 0,
                explanation: "Qada adalah ketetapan Allah yang bersifat umum seperti adanya hidup dan mati, sedangkan qadar adalah ketetapan Allah yang detail seperti cara dan waktu kematian seseorang. Contoh: qada - setiap manusia akan mati (umum), qadar - seseorang meninggal karena sakit pada usia tertentu (spesifik)."
            },
            {
                question: "Apa hukumnya mengingkari salah satu rukun iman? Jelaskan konsekuensinya menurut aqidah Islam!",
                options: [
                    "A. Kafir/murtad karena rukun iman adalah satu kesatuan. Konsekuensinya: tidak sah imannya dan terancam siksa neraka.",
                    "B. Hanya berdosa kecil karena itu urusan pribadi.",
                    "C. Tidak apa-apa selama masih percaya kepada Allah.",
                    "D. Hukumnya makruh jika tidak diucapkan.",
                    "E. Boleh asalkan masih melakukan shalat."
                ],
                correctAnswer: 0,
                explanation: "Mengingkari salah satu rukun iman hukumnya kafir/murtad karena rukun iman adalah satu kesatuan yang tidak bisa dipisah. Konsekuensinya: (1) tidak sah imannya, (2) ibadahnya tidak diterima, (3) jika mati dalam keadaan demikian terancam siksa neraka, (4) di dunia bisa dihukumi sebagai murtad jika terang-terangan mengingkari."
            },
            {
                question: "Jelaskan pengertian dan pentingnya amar ma'ruf nahi munkar dalam Islam! Berikan contoh penerapannya di lingkungan sekolah!",
                options: [
                    "A. Menyuruh kebaikan dan mencegah kemungkaran. Penting untuk menjaga kebaikan masyarakat. Contoh: mengajak teman shalat, melarang bullying.",
                    "B. Amar ma'ruf berarti berbuat baik kepada teman, nahi munkar berarti tidak jahat.",
                    "C. Hanya kewajiban ulama dan guru agama.",
                    "D. Tidak perlu dilakukan di sekolah karena urusan pribadi.",
                    "E. Sama dengan memberi nasihat biasa."
                ],
                correctAnswer: 0,
                explanation: "Amar ma'ruf nahi munkar berarti menyuruh kepada kebaikan dan mencegah dari kemungkaran. Penting untuk: (1) menjaga masyarakat dari kerusakan, (2) melaksanakan kewajiban sebagai muslim, (3) mendapatkan rahmat Allah. Contoh di sekolah: mengajak teman shalat tepat waktu, melarang menyontek, mencegah perundungan, dan menegur yang merokok."
            },
            {
                question: "Apa yang dimaksud dengan wudhu? Jelaskan syarat, rukun, dan hal-hal yang membatalkan wudhu!",
                options: [
                    "A. Bersuci untuk menghilangkan hadats kecil. Syarat: Islam, tamyiz, tidak haid. Rukun: niat, membasuh anggota wudhu. Batal: keluar sesuatu dari dua jalan, hilang akal, bersentuhan lawan jenis.",
                    "B. Wudhu adalah mandi wajib setelah junub.",
                    "C. Wudhu hanya diperlukan untuk shalat Jumat saja.",
                    "D. Tidak ada syarat khusus untuk wudhu.",
                    "E. Wudhu batal hanya jika buang air besar."
                ],
                correctAnswer: 0,
                explanation: "Wudhu adalah bersuci dari hadats kecil dengan air. Syarat wudhu: (1) Islam, (2) tamyiz (mampu membedakan), (3) tidak berhadats besar, (4) menggunakan air suci. Rukun wudhu: (1) niat, (2) membasuh muka, (3) membasuh tangan sampai siku, (4) mengusap kepala, (5) membasuh kaki sampai mata kaki, (6) tertib. Pembatal wudhu: (1) keluar sesuatu dari qubul/dubur, (2) hilang akal, (3) bersentuhan kulit dengan lawan jenis yang bukan mahram, (4) menyentuh kemaluan dengan telapak tangan."
            },
            {
                question: "Jelaskan perbedaan antara riba dan jual beli yang sah menurut Islam! Mengapa riba diharamkan?",
                options: [
                    "A. Riba adalah tambahan dalam pinjaman, jual beli sah ada pertukaran barang/jasa. Diharamkan karena zalim, merusak ekonomi, dan dosa besar.",
                    "B. Riba dan jual beli sama saja dalam Islam.",
                    "C. Riba hanya haram jika besar bunganya.",
                    "D. Jual beli tidak disukai dalam Islam.",
                    "E. Riba diperbolehkan dalam keadaan darurat."
                ],
                correctAnswer: 0,
                explanation: "Perbedaan riba dan jual beli sah: (1) Riba adalah tambahan yang dipersyaratkan dalam pinjaman, sedangkan jual beli ada pertukaran barang/jasa yang jelas. (2) Riba bersifat eksploitatif, jual beli suka sama suka. Riba diharamkan karena: (1) zalim kepada pihak lemah, (2) merusak sistem ekonomi, (3) termasuk dosa besar, (4) menghilangkan keberkahan harta, dan (5) diancam perang oleh Allah (QS. Al-Baqarah: 279)."
            },
            {
                question: "Apa yang dimaksud dengan sedekah jariyah? Berikan 5 contoh amal yang termasuk sedekah jariyah!",
                options: [
                    "A. Amal yang pahalanya terus mengalir meski pelaku telah wafat. Contoh: bangun masjid, mengajarkan ilmu, anak shaleh, sumur wakaf, menanam pohon.",
                    "B. Sedekah yang diberikan setiap hari Jumat.",
                    "C. Hanya wakaf tanah untuk kuburan.",
                    "D. Sedekah khusus di bulan Ramadan.",
                    "E. Memberi makan fakir miskin sekali saja."
                ],
                correctAnswer: 0,
                explanation: "Sedekah jariyah adalah amal kebajikan yang pahalanya terus mengalir kepada pelakunya meski telah meninggal dunia. Contohnya: (1) membangun masjid/madrasah, (2) mengajarkan ilmu yang bermanfaat, (3) meninggalkan anak yang shaleh dan mendoakannya, (4) membuat sumur wakaf, (5) menanam pohon yang buahnya dimakan orang, (6) mencetak mushaf Al-Quran, (7) membangun jembatan untuk kepentingan umum."
            },
            {
                question: "Jelaskan pengertian dan hukum shalat berjamaah dalam Islam! Apa keutamaan shalat berjamaah dibanding shalat sendirian?",
                options: [
                    "A. Shalat bersama dengan imam dan makmum. Hukumnya sunnah muakkad. Keutamaan: pahala 27 derajat, diampuni dosa, dijauhkan dari neraka.",
                    "B. Wajib bagi laki-laki dan perempuan setiap waktu.",
                    "C. Hanya sunnah biasa tanpa keutamaan khusus.",
                    "D. Lebih utama shalat sendirian di rumah.",
                    "E. Hukumnya makruh jika di masjid."
                ],
                correctAnswer: 0,
                explanation: "Shalat berjamaah adalah shalat yang dilakukan bersama-sama dengan seorang imam dan diikuti oleh makmum. Hukumnya sunnah muakkad (sangat dianjurkan) bagi laki-laki. Keutamaannya: (1) pahala 27 kali lipat dibanding shalat sendirian (HR. Bukhari-Muslim), (2) diampuni dosa-dosa (HR. Abu Dawud), (3) dijauhkan dari sifat munafik dan siksa neraka, (4) mempererat ukhuwah islamiyah."
            },
            {
                question: "Apa yang dimaksud dengan hijrah dalam Islam? Jelaskan bentuk hijrah yang bisa dilakukan seorang muslim di zaman modern!",
                options: [
                    "A. Berpindah dari keburukan kepada kebaikan. Bentuk modern: hijrah akidah (tinggalkan syirik), hijrah akhlak (tinggalkan maksiat), hijrah gaya hidup (ikuti sunnah).",
                    "B. Hanya berarti pindah tempat seperti Nabi dari Mekah ke Madinah.",
                    "C. Hijrah tidak relevan lagi di zaman sekarang.",
                    "D. Hanya untuk orang yang baru masuk Islam.",
                    "E. Berpindah dari desa ke kota untuk mencari ilmu."
                ],
                correctAnswer: 0,
                explanation: "Hijrah dalam Islam tidak hanya berarti berpindah tempat secara fisik, tetapi lebih luas yaitu berpindah dari keburukan kepada kebaikan. Bentuk hijrah modern: (1) Hijrah akidah - meninggalkan kesyirikan dan khurafat, (2) Hijrah ibadah - konsisten dalam shalat dan sunnah, (3) Hijrah akhlak - meninggalkan maksiat dan pergaulan buruk, (4) Hijrah gaya hidup - meninggalkan yang haram dan mengikuti sunnah Nabi."
            },
            {
                question: "Jelaskan pengertian dan kriteria makanan halal menurut Islam! Berikan contoh makanan yang halal tetapi tidak thayyib (baik)!",
                options: [
                    "A. Halal: diperbolehkan syariat. Kriteria: tidak haram, disembelih dengan benar, tidak najis. Contoh tidak thayyib: makanan berlebihan, tidak sehat, atau merusak tubuh.",
                    "B. Semua makanan halal pasti thayyib.",
                    "C. Makanan halal hanya yang disebutkan dalam Al-Quran.",
                    "D. Makanan halal harus berasal dari Arab.",
                    "E. Tidak ada makanan halal yang tidak thayyib."
                ],
                correctAnswer: 0,
                explanation: "Makanan halal adalah yang diperbolehkan menurut syariat Islam dengan kriteria: (1) bukan yang diharamkan (babi, bangkai, dll), (2) disembelih dengan menyebut nama Allah (khusus daging), (3) tidak terkena najis. Contoh halal tapi tidak thayyib: (1) makanan berlebihan sampai mubazir, (2) mengandung bahan yang merusak kesehatan meski halal, (3) makanan yang menyebabkan penyakit jika dikonsumsi berlebihan."
            },
            {
                question: "Apa yang dimaksud dengan istighfar? Jelaskan perbedaan antara istighfar dan taubat serta sebutkan adab-adab beristighfar!",
                options: [
                    "A. Istighfar memohon ampun dengan lisan, taubat lebih luas (menyesal, berhenti, bertekad tidak mengulang). Adab: ikhlas, menghadirkan hati, terus-menerus.",
                    "B. Istighfar dan taubat sama saja.",
                    "C. Istighfar hanya untuk dosa kecil, taubat untuk dosa besar.",
                    "D. Tidak ada adab khusus dalam beristighfar.",
                    "E. Istighfar cukup diucapkan sekali seumur hidup."
                ],
                correctAnswer: 0,
                explanation: "Istighfar adalah memohon ampunan kepada Allah dengan mengucapkan seperti 'astaghfirullah'. Taubat lebih luas mencakup: (1) menyesali dosa, (2) berhenti dari maksiat, (3) bertekad tidak mengulang, (4) mengembalikan hak orang jika ada. Adab istighfar: (1) ikhlas karena Allah, (2) menghadirkan hati, (3) mengakui kesalahan, (4) dilakukan terus-menerus, (5) disertai perbaikan diri."
            },
            {
                question: "Jelaskan pengertian dan hikmah dari ibadah kurban! Siapa saja yang wajib berkurban dan apa syarat-syarat hewan kurban?",
                options: [
                    "A. Menyembelih hewan tertentu di hari raya. Hikmah: mendekatkan diri kepada Allah, berbagi dengan fakir miskin. Wajib bagi muslim yang mampu. Syarat hewan: cukup umur, sehat, tidak cacat.",
                    "B. Kurban hanya sunnah tanpa hikmah khusus.",
                    "C. Hanya wajib untuk orang Arab.",
                    "D. Hewan kurban boleh yang cacat asalkan gemuk.",
                    "E. Kurban untuk menunjukkan kekayaan."
                ],
                correctAnswer: 0,
                explanation: "Ibadah kurban adalah menyembelih hewan ternak tertentu (unta, sapi, kambing) pada hari raya Idul Adha dan hari tasyriq. Hikmahnya: (1) meneladani ketaatan Nabi Ibrahim AS, (2) mendekatkan diri kepada Allah, (3) berbagi dengan fakir miskin, (4) mensyukuri nikmat Allah. Wajib bagi muslim yang mampu (memiliki kelebihan harta). Syarat hewan: (1) cukup umur (kambing 1 tahun, sapi 2 tahun), (2) sehat tidak sakit, (3) tidak cacat (buta, pincang, sangat kurus), (4) milik sendiri."
            },
            {
                question: "Apa hukumnya mengunjungi orang sakit dalam Islam? Jelaskan adab-adabnya dan keutamaannya berdasarkan hadis Nabi!",
                options: [
                    "A. Sunnah yang sangat dianjurkan. Adab: mendoakan, memberi semangat, tidak lama-lama. Keutamaan: didoakan malaikat, dipetik buah surga.",
                    "B. Wajib bagi keluarga dekat saja.",
                    "C. Makruh karena bisa mengganggu pasien.",
                    "D. Hanya untuk pasien muslim.",
                    "E. Tidak ada keutamaan khusus."
                ],
                correctAnswer: 0,
                explanation: "Mengunjungi orang sakit hukumnya sunnah muakkad (sangat dianjurkan). Adabnya: (1) mendoakan kesembuhan, (2) memberi semangat dan hiburan, (3) tidak berlama-lama mengganggu, (4) menasihati untuk sabar, (5) boleh mengingatkan tentang kematian jika kondisinya parah. Keutamaannya: (1) didoakan oleh 70.000 malaikat (HR. Muslim), (2) dipetik buah-buahan surga (HR. Tirmidzi), (3) mendapatkan rahmat Allah, (4) diampuni dosa-dosa."
            },
            {
                question: "Jelaskan pengertian dan kedudukan sunnah Nabi dalam Islam! Apa konsekuensi bagi muslim yang mengingkari sunnah?",
                options: [
                    "A. Sunnah adalah segala yang berasal dari Nabi (perkataan, perbuatan, persetujuan). Kedudukan: sumber hukum kedua setelah Al-Quran. Ingkar sunnah bisa sesat.",
                    "B. Sunnah hanya untuk Nabi bukan umatnya.",
                    "C. Sunnah tidak penting dalam beragama.",
                    "D. Mengingkari sunnah hanya dosa kecil.",
                    "E. Sunnah sama dengan budaya Arab."
                ],
                correctAnswer: 0,
                explanation: "Sunnah Nabi adalah segala yang berasal dari Rasulullah SAW baik berupa perkataan (qauli), perbuatan (fi'li), maupun persetujuan (taqriri). Kedudukannya sebagai sumber hukum Islam kedua setelah Al-Quran. Konsekuensi mengingkari sunnah: (1) sesat karena menolak sumber agama, (2) ibadahnya tidak sah jika menolak sunnah yang wajib, (3) terancam tidak diakui sebagai muslim jika mengingkari sunnah mutawatir, (4) tertutup dari pemahaman agama yang benar."
            },
            {
                question: "Apa yang dimaksud dengan ilmu faraid? Jelaskan pentingnya mempelajari ilmu waris dalam Islam!",
                options: [
                    "A. Ilmu tentang pembagian harta warisan. Penting: menjamin keadilan, menghindari sengketa, kewajiban agama, menjaga hak ahli waris.",
                    "B. Ilmu tentang pernikahan dan perceraian.",
                    "C. Hanya penting untuk para hakim pengadilan.",
                    "D. Tidak relevan di zaman modern.",
                    "E. Sama dengan hukum wasiat biasa."
                ],
                correctAnswer: 0,
                explanation: "Ilmu faraid adalah ilmu yang mempelajari tentang ketentuan pembagian harta warisan menurut Islam. Pentingnya mempelajari: (1) menjamin pembagian yang adil sesuai ketetapan Allah, (2) menghindari sengketa keluarga, (3) termasuk kewajiban agama yang sering diabaikan, (4) menjaga hak masing-masing ahli waris terutama wanita dan anak yatim, (5) melaksanakan perintah Allah dalam QS. An-Nisa' yang detail membahas warisan."
            }
                ]
            },
            'SMP': {
                'Agama Islam': [
                    {
                question: "Salah satu asmaul husna adalah Al-'Adl yang artinya Maha Adil. Jelaskan bagaimana konsep keadilan Allah SWT dalam kehidupan manusia berdasarkan QS. An-Nisa ayat 58 dan berikan contoh penerapannya dalam kehidupan sehari-hari!",
                options: [
                    "A. Keadilan Allah bersifat mutlak dan tidak memandang status sosial, contohnya dalam pembagian rezeki",
                    "B. Allah hanya adil kepada orang yang beriman saja, contohnya dalam pemberian nikmat",
                    "C. Keadilan Allah bersifat relatif tergantung amal manusia, contohnya dalam hisab di akhirat",
                    "D. Allah tidak perlu berbuat adil karena Dia adalah Pemilik mutlak segala sesuatu",
                    "E. Keadilan Allah hanya berlaku di akhirat saja, tidak di dunia"
                ],
                correctAnswer: 0,
                explanation: "QS. An-Nisa:58 menjelaskan bahwa Allah memerintahkan untuk menunaikan amanah dan berhukum dengan adil. Keadilan Allah bersifat universal dan mencakup semua aspek kehidupan, termasuk pembagian rezeki yang tidak memandang status sosial seseorang."
            },
            {
                question: "Jelaskan perbedaan antara takdir mubram dan takdir mu'allaq berdasarkan pemahaman aqidah Islam, sertakan contoh masing-masing dan bagaimana sikap muslim yang benar dalam menyikapi takdir tersebut!",
                options: [
                    "A. Takdir mubram adalah ketetapan mutlak yang tidak bisa diubah seperti kematian, sedangkan takdir mu'allaq bisa diubah dengan ikhtiar seperti rezeki",
                    "B. Takdir mubram dan mu'allaq sama-sama bisa diubah dengan doa dan usaha",
                    "C. Takdir mubram adalah ketetapan sementara, sedangkan mu'allaq adalah ketetapan akhir",
                    "D. Tidak ada perbedaan antara keduanya karena semua takdir sudah ditentukan",
                    "E. Takdir mubram berlaku untuk urusan dunia, sedangkan mu'allaq untuk urusan akhirat"
                ],
                correctAnswer: 0,
                explanation: "Takdir mubram adalah ketetapan Allah yang pasti terjadi dan tidak dapat diubah seperti kematian, jenis kelamin, atau hari kiamat. Sedangkan takdir mu'allaq adalah ketetapan yang tergantung pada usaha manusia seperti rezeki, kesehatan, atau prestasi. Muslim harus menerima takdir mubram dan berikhtiar untuk takdir mu'allaq."
            },
            {
                question: "Analisislah kandungan surat Al-Baqarah ayat 30 tentang konsep kekhalifahan manusia di bumi! Bagaimana implementasi konsep ini dalam menjaga lingkungan menurut pandangan Islam?",
                options: [
                    "A. Manusia ditugasi sebagai khalifah untuk memakmurkan bumi dengan tanggung jawab, termasuk menjaga kelestarian lingkungan",
                    "B. Kekhalifahan berarti dominasi mutlak manusia atas alam tanpa tanggung jawab",
                    "C. Konsep khalifah hanya berlaku untuk Nabi Adam dan para nabi saja",
                    "D. Menjaga lingkungan bukan bagian dari tanggung jawab kekhalifahan",
                    "E. Kekhalifahan adalah hak istimewa tanpa kewajiban apapun"
                ],
                correctAnswer: 0,
                explanation: "QS. Al-Baqarah:30 menjelaskan bahwa Allah menciptakan manusia sebagai khalifah di bumi yang bertugas memakmurkan dan mengelolanya dengan penuh tanggung jawab. Implementasinya termasuk menjaga keseimbangan ekosistem, tidak berbuat kerusakan, dan memanfaatkan sumber daya alam secara bijak."
            },
            {
                question: "Jelaskan perbedaan antara zakat fitrah dan zakat mal dari segi pengertian, waktu pelaksanaan, dan mustahiknya! Berikan analisis tentang hikmah disyariatkannya kedua jenis zakat tersebut dalam kehidupan sosial!",
                options: [
                    "A. Zakat fitrah bersifat tahunan dengan waktu tertentu dan untuk semua mustahik, sedangkan zakat mal berdasarkan harta dengan nisab tertentu",
                    "B. Zakat fitrah dan zakat mal sama dalam semua aspek kecuali jumlahnya",
                    "C. Zakat mal lebih penting daripada zakat fitrah",
                    "D. Zakat fitrah hanya untuk fakir miskin, sedangkan zakat mal untuk semua mustahik",
                    "E. Tidak ada perbedaan signifikan antara keduanya"
                ],
                correctAnswer: 0,
                explanation: "Zakat fitrah adalah zakat jiwa yang wajib dikeluarkan sebelum shalat Id dengan bahan makanan pokok, sedangkan zakat mal adalah zakat harta dengan nisab dan haul tertentu. Hikmahnya antara lain membersihkan harta, membantu kaum dhuafa, dan memperkuat solidaritas sosial."
            },
            {
                question: "Tafsirkan QS. Al-Hujurat ayat 13 tentang konsep persaudaraan dalam Islam dan bagaimana implementasinya dalam kehidupan multikultural di Indonesia!",
                options: [
                    "A. Ayat ini menegaskan bahwa kemuliaan manusia di sisi Allah berdasarkan ketakwaan, bukan suku atau ras",
                    "B. Ayat ini membatasi persaudaraan hanya sesama muslim",
                    "C. Konsep persaudaraan dalam ayat ini hanya berlaku untuk bangsa Arab",
                    "D. Ayat ini mengajarkan superioritas suatu bangsa atas bangsa lain",
                    "E. Tidak ada relevansi ayat ini dengan kehidupan multikultural"
                ],
                correctAnswer: 0,
                explanation: "QS. Al-Hujurat:13 menegaskan bahwa Allah menciptakan manusia berbangsa-bangsa untuk saling mengenal, dan yang paling mulia adalah yang paling bertakwa. Implementasinya di Indonesia adalah dengan sikap toleransi, menghargai perbedaan, dan menjalin kerjasama dalam kebajikan."
            },
            {
                question: "Jelaskan secara rinci tahapan-tahapan perkembangan fiqih Islam sejak masa Rasulullah SAW hingga masa kodifikasi! Apa kontribusi penting Imam Mazhab dalam perkembangan ilmu fiqih?",
                options: [
                    "A. Dimulai dari masa Rasulullah, sahabat, tabi'in, hingga kodifikasi dengan kontribusi sistematisasi metodologi ijtihad",
                    "B. Fiqih berkembang secara instan tanpa tahapan",
                    "C. Perkembangan fiqih hanya terjadi pada masa modern",
                    "D. Imam Mazhab tidak memberikan kontribusi berarti",
                    "E. Fiqih sudah sempurna sejak awal tanpa perlu perkembangan"
                ],
                correctAnswer: 0,
                explanation: "Perkembangan fiqih melalui: 1) Masa Rasulullah (fiqih bersumber langsung dari wahyu), 2) Masa sahabat (ijtihad berdasarkan kebutuhan), 3) Masa tabi'in (pengembangan regional), 4) Masa kodifikasi (sistematisasi ilmu). Imam Mazhab berkontribusi dengan metodologi ijtihad yang terstruktur."
            },
            {
                question: "Analisislah hadis tentang niat (innamal a'malu binniyat) dari segi sanad, matan, dan relevansinya dengan kehidupan modern! Bagaimana penerapan konsep niat yang benar dalam ibadah dan muamalah?",
                options: [
                    "A. Hadis sahih dengan sanad muttasil, matan jelas, dan relevan sebagai fondasi semua amal",
                    "B. Hadis ini termasuk hadis dhaif yang tidak bisa diamalkan",
                    "C. Konsep niat hanya berlaku untuk ibadah mahdhah saja",
                    "D. Niat tidak penting selama amalannya benar",
                    "E. Hadis ini hanya untuk kalangan tertentu"
                ],
                correctAnswer: 0,
                explanation: "Hadis tentang niat diriwayatkan oleh Bukhari-Muslim dengan sanad sahih. Penerapannya: 1) Dalam ibadah: niat membedakan antara ibadah dan adat, 2) Dalam muamalah: niat baik menjadikan aktivitas dunia bernilai ibadah."
            },
            {
                question: "Jelaskan konsep jihad menurut Islam yang sebenarnya dengan merujuk pada QS. Al-Ankabut ayat 69 dan hadis-hadis sahih! Bagaimana membedakan antara jihad yang benar dengan tindakan radikalisme?",
                options: [
                    "A. Jihad mencakup perjuangan spiritual dan fisik dengan aturan ketat, berbeda dengan radikalisme yang melampaui batas",
                    "B. Jihad identik dengan radikalisme dan kekerasan",
                    "C. Jihad hanya berarti perang tanpa batasan",
                    "D. Konsep jihad sudah tidak relevan di zaman modern",
                    "E. Radikalisme adalah bentuk jihad yang paling utama"
                ],
                correctAnswer: 0,
                explanation: "QS. Al-Ankabut:69 menjelaskan jihad sebagai usaha sungguh-sungguh di jalan Allah. Bentuk jihad: 1) Jihad nafs (melawan hawa nafsu), 2) Jihad ilmi (menuntut ilmu), 3) Jihad qital (perang dengan aturan ketat). Radikalisme bertentangan dengan prinsip Islam yang melarang membunuh tanpa hak."
            },
            {
                question: "Jelaskan hakikat muamalah dalam Islam dengan merujuk pada QS. Al-Baqarah ayat 275-279 tentang larangan riba! Bagaimana penerapan sistem ekonomi Islam yang sesuai dengan prinsip syariah di era modern?",
                options: [
                    "A. Muamalah harus adil, transparan, dan bebas riba dengan alternatif sistem bagi hasil",
                    "B. Sistem ekonomi Islam sama saja dengan kapitalisme",
                    "C. Riba diperbolehkan dalam kondisi tertentu",
                    "D. Tidak ada sistem ekonomi khusus dalam Islam",
                    "E. Prinsip syariah tidak bisa diterapkan di era modern"
                ],
                correctAnswer: 0,
                explanation: "QS. Al-Baqarah 275-279 melarang riba karena mengandung kezaliman. Penerapan ekonomi syariah: 1) Perbankan syariah dengan sistem bagi hasil, 2) Kontrak bisnis yang jelas (mudharabah, musyarakah), 3) Zakat sebagai instrumen distribusi kekayaan."
            },
            {
                question: "Analisislah sejarah pembukuan Al-Qur'an dari masa Rasulullah SAW hingga masa Khalifah Utsman bin Affan! Mengapa proses kodifikasi ini penting bagi umat Islam?",
                options: [
                    "A. Tahapannya: penghafalan dan pencatatan terpisah di masa Nabi, pengumpulan di masa Abu Bakar, penyatuan mushaf di masa Utsman",
                    "B. Al-Qur'an langsung dibukukan sempurna di masa Nabi",
                    "C. Proses pembukuan hanya terjadi di masa modern",
                    "D. Pembukuan Al-Qur'an tidak penting karena cukup dihafal",
                    "E. Khalifah Utsman mengubah isi Al-Qur'an"
                ],
                correctAnswer: 0,
                explanation: "Proses pembukuan penting untuk: 1) Menjaga kemurnian Al-Qur'an, 2) Standarisasi bacaan, 3) Memudahkan pembelajaran generasi berikut. Mushaf Utsmani menjadi rujukan umat Islam hingga kini."
            },
            {
                question: "Jelaskan konsep hablum minallah dan hablum minannas dalam Islam serta kaitannya dengan pembentukan karakter muslim yang paripurna! Berikan contoh praktis penerapannya dalam kehidupan remaja!",
                options: [
                    "A. Keseimbangan hubungan vertikal dengan Allah dan horizontal dengan manusia, contoh: shalat tepat waktu dan berbuat baik kepada teman",
                    "B. Hanya hablum minallah yang penting untuk kesalehan pribadi",
                    "C. Hablum minannas lebih utama daripada ibadah ritual",
                    "D. Keduanya tidak perlu diseimbangkan",
                    "E. Konsep ini hanya untuk orang dewasa"
                ],
                correctAnswer: 0,
                explanation: "Muslim paripurna menjaga kedua hubungan: 1) Hablum minallah melalui ibadah mahdhah, 2) Hablum minannas melalui akhlak mulia. Contoh remaja: disiplin mengaji (hablum minallah) dan tidak bullying (hablum minannas)."
            },
            {
                question: "Jelaskan perbedaan antara ilmu kalam, tasawuf, dan filsafat Islam dalam metodologi dan fokus kajiannya! Bagaimana ketiganya dapat saling melengkapi dalam pengembangan pemikiran Islam?",
                options: [
                    "A. Ilmu kalam fokus pada akidah dengan pendekatan logika, tasawuf pada penyucian jiwa, filsafat pada pemikiran mendalam",
                    "B. Ketiganya sama saja tanpa perbedaan",
                    "C. Hanya ilmu kalam yang benar dalam Islam",
                    "D. Tasawuf bertentangan dengan ajaran Islam",
                    "E. Filsafat haram dipelajari dalam Islam"
                ],
                correctAnswer: 0,
                explanation: "Ketiganya melengkapi: 1) Ilmu kalam menjaga kemurnian akidah, 2) Tasawuf menginternalisasi nilai spiritual, 3) Filsafat mengembangkan pemikiran kritis. Integrasinya terlihat dalam karya Al-Ghazali yang menguasai ketiganya."
            },
            {
                question: "Analisislah perkembangan seni budaya Islam dari masa klasik hingga modern dengan menyoroti prinsip-prinsip syariah yang mengaturnya! Bagaimana menyikapi fenomena kontemporer seperti musik dan seni lukis dalam perspektif fiqih Islam?",
                options: [
                    "A. Seni Islam berkembang dengan prinsip tidak mengandung syirik, maksiat, atau melalaikan dari Allah",
                    "B. Semua bentuk seni haram dalam Islam",
                    "C. Tidak ada batasan syariah dalam berekspresi seni",
                    "D. Seni budaya hanya boleh meniru tradisi Arab",
                    "E. Seni modern tidak mungkin sesuai dengan syariah"
                ],
                correctAnswer: 0,
                explanation: "Prinsip seni Islam: 1) Tidak menampilkan yang haram, 2) Tidak melalaikan dari kewajiban, 3) Bernilai estetika dan edukasi. Seni kontemporer boleh selama memenuhi kriteria syariah dan tidak bertentangan dengan nilai Islam."
            },
            {
                question: "Jelaskan konsep amar ma'ruf nahi munkar menurut QS. Ali Imran ayat 104 dan bagaimana strategi efektif menerapkannya di kalangan remaja masa kini!",
                options: [
                    "A. Menyeru kebaikan dan mencegah kemungkaran dengan hikmah dan teladan baik, khususnya melalui media yang digemari remaja",
                    "B. Amar ma'ruf berarti memaksa orang untuk taat",
                    "C. Nahi munkar hanya tugas ulama bukan remaja",
                    "D. Metode kekerasan diperbolehkan dalam nahi munkar",
                    "E. Konsep ini sudah tidak relevan untuk zaman sekarang"
                ],
                correctAnswer: 0,
                explanation: "Strategi efektif: 1) Pendekatan persuasif bukan konfrontatif, 2) Memanfaatkan media sosial untuk dakwah kreatif, 3) Menjadi teladan sebelum menasihati, 4) Kolaborasi dengan komunitas positif."
            },
            {
                question: "Analisislah peran masjid sebagai pusat peradaban Islam berdasarkan sejarah masa Rasulullah SAW! Bagaimana revitalisasi fungsi masjid di era modern untuk menjawab tantangan umat?",
                options: [
                    "A. Masjid bukan hanya tempat shalat tetapi pusat pendidikan, sosial, dan pembinaan umat seperti Masjid Nabawi dulu",
                    "B. Fungsi masjid hanya untuk ibadah ritual semata",
                    "C. Masjid harus menutup diri dari perkembangan zaman",
                    "D. Tidak mungkin mengembalikan peran masjid seperti dulu",
                    "E. Masjid hanya untuk kalangan tertentu"
                ],
                correctAnswer: 0,
                explanation: "Revitalisasi fungsi masjid: 1) Pusat pembelajaran sepanjang hayat, 2) Layanan sosial (kesehatan, konseling), 3) Inkubator usaha halal, 4) Ruang dialog antar generasi dan budaya dengan tetap menjaga kesuciannya."
            },
            {
                question: "Jelaskan hakikat kebahagiaan dalam perspektif Islam dengan merujuk pada konsep al-falah dalam QS. Al-Mu'minun ayat 1-11! Bagaimana mencapainya di tengah tantangan kehidupan modern?",
                options: [
                    "A. Kebahagiaan sejati adalah ketenangan hati dengan iman dan taqwa, bukan sekadar materi",
                    "B. Kebahagiaan identik dengan kekayaan dan kesenangan duniawi",
                    "C. Konsep al-falah hanya untuk akhirat bukan dunia",
                    "D. Tidak mungkin bahagia di zaman modern",
                    "E. Kebahagiaan adalah mitos dalam agama"
                ],
                correctAnswer: 0,
                explanation: "Mencapai al-falah di era modern: 1) Keseimbangan dunia-akhirat, 2) Bersyukur atas nikmat sekecil apapun, 3) Memaknai kesulitan sebagai ujian, 4) Membangun relasi positif dengan Allah dan manusia, 5) Hidup dengan tujuan jelas sesuai syariah."
            },
            {
                question: "Jelaskan perkembangan tafsir Al-Qur'an dari periode klasik hingga kontemporer dengan menyebutkan karakteristik dan metode masing-masing periode!",
                options: [
                    "A. Tafsir bi alma'tsur (riwayat), bi ra'yi (akal), tematik, dan kontekstual dengan pendekatan masing-masing",
                    "B. Metode tafsir tidak pernah berkembang sejak dulu",
                    "C. Hanya tafsir klasik yang valid dalam Islam",
                    "D. Tafsir kontemporer menyimpang dari ajaran Islam",
                    "E. Tidak perlu mempelajari berbagai metode tafsir"
                ],
                correctAnswer: 0,
                explanation: "Perkembangan tafsir: 1) Klasik (fokus pada bahasa dan riwayat), 2) Pertengahan (analisis lebih sistematis), 3) Modern (tematik dan kontekstual). Masing-masing periode memiliki kelebihan dan saling melengkapi dalam memahami Al-Qur'an."
            },
            {
                question: "Analisislah peran wanita dalam peradaban Islam berdasarkan sejarah para shahabiyah! Bagaimana mengaktualisasikan keteladanan mereka di era kesetaraan gender saat ini?",
                options: [
                    "A. Wanita muslimah memiliki peran multidimensional (pendidikan, sosial, ekonomi) dengan tetap menjaga nilai syariah",
                    "B. Wanita hanya boleh di rumah tanpa peran publik",
                    "C. Kesetaraan gender berarti menolak semua nilai agama",
                    "D. Tidak ada teladan dari shahabiyah untuk era modern",
                    "E. Peran wanita dalam Islam sangat terbatas"
                ],
                correctAnswer: 0,
                explanation: "Aktualisasi keteladanan shahabiyah: 1) Khadijah sebagai pebisnis sukses yang mendukung dakwah, 2) Aisyah sebagai ilmuwan dan pendidik, 3) Nusaybah sebagai pejuang. Peran wanita modern dapat seluas mungkin selama menjaga aurat, adab, dan tidak mengabaikan tanggung jawab utama."
            },
            {
                question: "Jelaskan konsep ukhuwah islamiyah menurut QS. Al-Hujurat ayat 10 dan tantangan penerapannya di era media sosial! Bagaimana membangun persaudaraan sejati di tengah perbedaan pendapat?",
                options: [
                    "A. Ukhuwah adalah persaudaraan atas dasar iman yang harus dijaga meski berbeda pendapat, dengan etika bermedia sosial yang baik",
                    "B. Ukhuwah hanya untuk yang sepaham dalam semua hal",
                    "C. Media sosial harus dihindari karena merusak ukhuwah",
                    "D. Perbedaan pendapat menghancurkan ukhuwah islamiyah",
                    "E. Konsep ukhuwah tidak mungkin diterapkan di dunia digital"
                ],
                correctAnswer: 0,
                explanation: "Membangun ukhuwah di media sosial: 1) Menyebarkan konten positif, 2) Menghindari debat kusir, 3) Menghormati perbedaan yang masih dalam koridor syariah, 4) Fokus pada persamaan bukan perbedaan, 5) Menjaga adab berkomunikasi."
            },
            {
                question: "Jelaskan makna hakiki dari tauhid rububiyah, uluhiyah, dan asma wa sifat beserta implikasinya dalam kehidupan sehari-hari!",
                options: [
                    "A. Tauhid rububiyah (pengakuan Allah sebagai Pencipta), uluhiyah (penghambaan hanya kepada-Nya), asma wa sifat (menetapkan nama dan sifat Allah tanpa tahrif)",
                    "B. Ketiganya adalah konsep yang sama tanpa perbedaan",
                    "C. Hanya tauhid uluhiyah yang penting dalam Islam",
                    "D. Tauhid asma wa sifat berarti menyerupakan Allah dengan makhluk",
                    "E. Konsep tauhid tidak mempengaruhi kehidupan sehari-hari"
                ],
                correctAnswer: 0,
                explanation: "Implikasi tauhid: 1) Rububiyah: meyakini semua kejadian atas kehendak Allah, 2) Uluhiyah: mengikhlaskan ibadah hanya untuk Allah, 3) Asma wa sifat: meneladani sifat-sifat Allah yang boleh diteladani (seperti Ar-Rahman dalam berbuat baik)."
            },
            {
                question: "Analisislah fenomena hijrah di kalangan selebriti dan dampaknya terhadap pemahaman agama masyarakat! Bagaimana menyikapinya secara bijak menurut prinsip-prinsip dakwah Islam?",
                options: [
                    "A. Hijrah positif jika meningkatkan ketakwaan, tetapi perlu pendampingan agar pemahaman agama tidak dangkal",
                    "B. Hijrah selebriti hanya pencitraan tanpa makna",
                    "C. Semua hijrah selebriti pasti baik dan harus diikuti",
                    "D. Fenomena hijrah merusak citra agama",
                    "E. Selebriti tidak boleh menyebarkan ajaran agama"
                ],
                correctAnswer: 0,
                explanation: "Sikap bijak: 1) Apresiasi niat baik hijrah, 2) Kritisi konten yang tidak sesuai syariah, 3) Saring sebelum sharing konten keagamaan, 4) Merujuk kepada ulama yang kompeten, 5) Fokus pada substansi bukan figur tertentu."
            },
            {
                question: "Jelaskan konsep waris dalam Islam berdasarkan QS. An-Nisa ayat 11-12 dan hikmah di balik pembagian yang tidak sama antara laki-laki dan perempuan!",
                options: [
                    "A. Pembagian berdasarkan tanggung jawab finansial dimana laki-laki menanggung lebih banyak kewajiban",
                    "B. Sistem waris Islam mendiskriminasi perempuan",
                    "C. Pembagian sama rata lebih adil daripada sistem Islam",
                    "D. Hanya laki-laki yang berhak mendapat warisan",
                    "E. Hikmah pembagian warisan tidak bisa dipahami manusia"
                ],
                correctAnswer: 0,
                explanation: "Hikmah pembagian: 1) Laki-laki bertanggung jawab atas nafkah keluarga, 2) Perempuan mendapat mahar dan tidak wajib menafkahi, 3) Keadilan Islam bersifat komprehensif bukan parsial, 4) Hak perempuan sudah dijamin dalam bentuk lain seperti nafkah dari suami dan keluarga."
            },
            {
                question: "Jelaskan kriteria makanan halal dan thayyib menurut Islam serta tantangan penerapannya di era globalisasi! Bagaimana strategi mempertahankan identitas halal lifestyle di tengah dominasi produk global?",
                options: [
                    "A. Halal: sesuai syariah, thayyib: bergizi dan aman; dengan strategi sertifikasi halal, edukasi, dan penguatan produk lokal",
                    "B. Kriteria halal hanya untuk daging saja",
                    "C. Di era globalisasi tidak mungkin menjaga makanan halal",
                    "D. Makanan thayyib tidak penting selama halal",
                    "E. Lifestyle halal bertentangan dengan modernitas"
                ],
                correctAnswer: 0,
                explanation: "Strategi halal lifestyle: 1) Kesadaran konsumen muslim, 2) Dukungan regulasi pemerintah, 3) Inovasi produk halal yang kompetitif, 4) Kolaborasi industri halal global, 5) Edukasi sejak dini tentang pentingnya konsumsi halal thayyib."
            },
            {
                question: "Analisislah perbedaan pendapat ulama tentang hukum demokrasi dalam Islam! Bagaimana menyikapi perbedaan tersebut dalam konteks kehidupan berbangsa di Indonesia?",
                options: [
                    "A. Ada yang membolehkan dengan syarat tidak bertentangan dengan syariah, ada yang menolak; sikap bijak adalah menghargai perbedaan pendapat yang ilmiah",
                    "B. Semua ulama sepakat demokrasi haram",
                    "C. Demokrasi mutlak sesuai dengan Islam",
                    "D. Tidak boleh ada perbedaan pendapat dalam masalah ini",
                    "E. Indonesia harus meninggalkan demokrasi karena tidak islami"
                ],
                correctAnswer: 0,
                explanation: "Sikap bijak: 1) Menghargai ijtihad ulama yang berkompeten, 2) Fokus pada nilai-nilai universal yang sejalan dengan Islam (keadilan, musyawarah), 3) Menjaga persatuan bangsa meski berbeda pandangan, 4) Berpartisipasi positif dalam sistem yang ada selama tidak bertentangan dengan akidah."
            },
            {
                question: "Jelaskan konsep khilafah dalam pemikiran Islam klasik dan modern serta relevansinya dengan sistem negara bangsa saat ini!",
                options: [
                    "A. Konsep khilafah berkembang sesuai konteks sejarah; sistem negara modern bisa diterima selama menjamin penerapan syariah",
                    "B. Khilafah adalah satu-satunya sistem pemerintahan yang sah dalam Islam",
                    "C. Konsep khilafah sudah usang dan tidak relevan",
                    "D. Semua negara wajib menerapkan khilafah secara formal",
                    "E. Tidak ada konsep pemerintahan dalam Islam"
                ],
                correctAnswer: 0,
                explanation: "Relevansi konsep: 1) Nilai-nilai universal khilafah (keadilan, musyawarah) bisa diadopsi dalam berbagai sistem, 2) Formalisme institusi kurang penting dibanding substansi penerapan syariah, 3) Konteks negara bangsa memungkinkan keragaman model pemerintahan selama prinsip Islam terjaga."
            },
            {
                question: "Jelaskan sejarah perkembangan ilmu hadis dari masa Rasulullah SAW hingga masa pentadwinan! Apa kontribusi utama para imam hadis seperti Bukhari dan Muslim dalam menjaga kemurnian hadis?",
                options: [
                    "A. Tahapannya: penghafalan, pencatatan terpisah, seleksi ketat, kodifikasi dengan metode kritik sanad dan matan",
                    "B. Ilmu hadis muncul tiba-tiba tanpa perkembangan",
                    "C. Imam Bukhari dan Muslim menulis semua hadis tanpa seleksi",
                    "D. Kritik hadis tidak penting dalam Islam",
                    "E. Semua hadis sama sahihnya tanpa perlu verifikasi"
                ],
                correctAnswer: 0,
                explanation: "Kontribusi imam hadis: 1) Metode verifikasi sanad (mata rantai periwayat), 2) Kritik matan (kandungan hadis), 3) Klasifikasi hadis (sahih, hasan, dhaif), 4) Penyusunan kitab sistematis yang menjadi rujukan umat."
            },
            {
                question: "Analisislah dampak positif dan negatif perkembangan teknologi digital terhadap akhlak remaja muslim! Bagaimana strategi pendidikan Islam dalam menghadapi tantangan tersebut?",
                options: [
                    "A. Dampak positif: akses ilmu luas; negatif: konten tidak pantas; strategi: literasi digital, penguatan karakter, dan pendampingan",
                    "B. Teknologi digital hanya berdampak negatif bagi remaja",
                    "C. Tidak perlu adaptasi karena teknologi bersifat netral",
                    "D. Remaja muslim harus menghindari semua teknologi",
                    "E. Pendidikan Islam tidak bisa menjawab tantangan digital"
                ],
                correctAnswer: 0,
                explanation: "Strategi pendidikan: 1) Integrasi nilai Islam dalam penggunaan teknologi, 2) Pembekalan fiqih kontemporer terkait dunia digital, 3) Keteladanan guru/dai di media sosial, 4) Penguatan kontrol diri dan tanggung jawab, 5) Kolaborasi dengan orang tua dalam pengawasan."
            },
            {
                question: "Jelaskan hakikat dan urgensi pendidikan akhlak dalam Islam merujuk pada konsep Rasulullah SAW yang diutus untuk menyempurnakan akhlak! Bagaimana implementasinya dalam kurikulum pendidikan modern?",
                options: [
                    "A. Akhlak adalah inti ajaran Islam yang harus diintegrasikan dalam semua mata pelajaran dengan metode keteladanan dan pembiasaan",
                    "B. Pendidikan akhlak hanya untuk sekolah agama",
                    "C. Akhlak tidak perlu diajarkan secara formal",
                    "D. Kurikulum modern tidak mungkin mengakomodasi pendidikan akhlak",
                    "E. Akhlak tidak relevan dengan pendidikan akademik"
                ],
                correctAnswer: 0,
                explanation: "Implementasi: 1) Integrasi nilai-nilai akhlak dalam semua mata pelajaran, 2) Program pembiasaan positif (kultur sekolah), 3) Keteladanan guru dan staf sekolah, 4) Evaluasi tidak hanya kognitif tetapi juga afektif, 5) Kolaborasi dengan keluarga dan masyarakat."
            },
            {
                question: "Jelaskan perbedaan antara madrasah dan sekolah umum dari perspektif filosofis dan kurikulum pendidikan Islam! Bagaimana membangun sinergi antara keduanya untuk kemajuan pendidikan nasional?",
                options: [
                    "A. Madrasah menekankan integrasi ilmu agama dan umum dengan ciri khas keislaman; sinergi bisa dibangun dengan saling melengkapi keunggulan masing-masing",
                    "B. Madrasah lebih unggul dalam semua aspek",
                    "C. Sekolah umum lebih baik daripada madrasah",
                    "D. Tidak mungkin ada sinergi antara keduanya",
                    "E. Perbedaan keduanya hanya pada nama saja"
                ],
                correctAnswer: 0,
                explanation: "Membangun sinergi: 1) Pertukaran best practice, 2) Pengayaan kurikulum (sekolah umum bisa adopsi pendidikan karakter ala madrasah), 3) Madrasah memperkuat penguasaan sains dan teknologi, 4) Kerjasama dalam penelitian dan pengembangan pendidikan, 5) Saling mendukung dalam mencapai tujuan pendidikan nasional."
            },
            {
                question: "Analisislah konsep Islam Rahmatan lil 'Alamin dalam konteks kehidupan global saat ini! Bagaimana implementasinya dalam hubungan antarumat beragama di Indonesia?",
                options: [
                    "A. Islam membawa rahmat untuk semua dengan prinsip keadilan, toleransi yang aktif, dan kerjasama dalam kebaikan",
                    "B. Konsep rahmat hanya untuk muslim saja",
                    "C. Rahmatan lil 'alamin berarti mengislamkan semua orang",
                    "D. Tidak mungkin implementasi di masyarakat majemuk",
                    "E. Konsep ini bertentangan dengan globalisasi"
                ],
                correctAnswer: 0,
                explanation: "Implementasi: 1) Menjadi teladan akhlak mulia, 2) Dialog konstruktif antariman, 3) Kerjasama membangun kemaslahatan umum, 4) Menolak segala bentuk kekerasan dan diskriminasi, 5) Menjaga hak-hak minoritas dengan prinsip keadilan Islam."
            }
                ]
            },
            'SMA/SMK': {
                'Agama Islam': [
                    {
                question: "Analisislah konsep tauhid rububiyah, uluhiyah, dan asma wa sifat beserta contoh penerapannya dalam kehidupan modern!",
                options: [
                    "A. Tauhid rububiyah mengakui Allah sebagai pencipta, uluhiyah sebagai satu-satunya yang berhak disembah, asma wa sifat sebagai nama dan sifat Allah. Contoh: penggunaan teknologi dengan tetap meyakini Allah sebagai penentu hasil.",
                    "B. Tauhid hanya tentang mengakui Allah sebagai pencipta tanpa perlu menyembah-Nya secara khusus.",
                    "C. Konsep tauhid tidak relevan dengan kehidupan modern karena bersifat tradisional.",
                    "D. Tauhid uluhiyah berarti mengakui banyak tuhan selama tuhan utama adalah Allah.",
                    "E. Asma wa sifat hanya untuk diketahui tanpa perlu diimani."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A benar karena mencakup tiga konsep tauhid secara komprehensif dan memberikan contoh relevan di era modern."
            },
            {
                question: "Tafsirkan QS. Al-Baqarah: 30 tentang konsep kekhalifahan manusia di bumi dan implikasinya terhadap tanggung jawab ekologis menurut pandangan ulama kontemporer!",
                options: [
                    "A. Kekhalifahan adalah mandat untuk memakmurkan bumi dengan prinsip lestari, menurut Yusuf Qaradawi hal ini mencakup pelestarian lingkungan.",
                    "B. Kekhalifahan berarti dominasi mutlak manusia atas alam tanpa batasan.",
                    "C. Ayat ini hanya metafora tanpa implikasi praktis.",
                    "D. Tanggung jawab ekologis bertentangan dengan konsep kekhalifahan.",
                    "E. Ulama sepakat bahwa eksploitasi alam adalah bagian dari kekhalifahan."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A tepat karena merujuk pada tafsir otoritatif yang mengintegrasikan spiritualitas dengan tanggung jawab lingkungan."
            },
            {
                question: "Bandingkan pendapat Imam Syafi'i dan Imam Malik tentang hukum musik dalam Islam dengan menyertakan dalil-dalil yang mereka gunakan!",
                options: [
                    "A. Imam Malik membolehkan dengan syarat, Imam Syafi'i melarang kecuali rebana pada acara khusus. Keduanya berpegang pada hadis berbeda.",
                    "B. Keduanya sepakat mutlak melarang semua jenis musik.",
                    "C. Keduanya membolehkan tanpa batasan selama untuk hiburan.",
                    "D. Hanya musik klasik yang diperbolehkan oleh kedua imam.",
                    "E. Tidak ada dalil sahih yang digunakan oleh mereka."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A akurat karena mencerminkan perbedaan pendapat madzhab dengan dasar dalil yang valid."
            },
            {
                question: "Kritik historis terhadap perkembangan hadis palsu (maudhu') pasca wafatnya Nabi Muhammad hingga abad ke-3 Hijriah!",
                options: [
                    "A. Motif politik, kesukuan, dan sufisme ekstrem memicu pemalsuan hadis, seperti doktrin Abbasiah vs Umayyah.",
                    "B. Semua hadis palsu muncul sebelum tahun 100 Hijriah.",
                    "C. Ulama tidak pernah melakukan verifikasi hadis.",
                    "D. Hadis palsu hanya terkait hukum waris.",
                    "E. Tidak ada metodologi untuk mendeteksi hadis palsu."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A komprehensif dengan menyebut faktor multidimensional dan contoh konkret konflik sejarah."
            },
            {
                question: "Analisis kritis terhadap konsep 'jihad' dalam konteks negara minoritas Muslim menurut fatwa Majelis Ulama Eropa!",
                options: [
                    "A. Jihad utama adalah dakwah damai dan pembangunan institusi, bukan fisik, sebagaimana fatwa No. 23/2004 MUE.",
                    "B. Jihad harus selalu berupa perlawanan bersenjata.",
                    "C. Muslim minoritas dilarang berjihad dalam bentuk apapun.",
                    "D. Konsep jihad tidak berlaku di luar Darul Islam.",
                    "E. Jihad hanya wajib di bulan Ramadhan."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A sesuai dengan fatwa kontemporer yang menekankan adaptasi kontekstual tanpa kekerasan."
            },
            {
                question: "Rekonstruksi sejarah perkembangan ilmu kalam dari era Khawarij hingga Asy'ariyah dengan fokus pada perdebatan tentang dosa besar!",
                options: [
                    "A. Khawarij mengkafirkan pelaku dosa besar, Murji'ah menunda vonis ke akhirat, Asy'ariyah mengambil jalan tengah.",
                    "B. Semua aliran sepakat pelaku dosa besar tetap mukmin.",
                    "C. Hanya Mu'tazilah yang membahas dosa besar.",
                    "D. Dosa besar tidak pernah jadi tema utama ilmu kalam.",
                    "E. Pelaku dosa besar otomatis murtad menurut semua aliran."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A menggambarkan evolusi pemikiran teologis secara kronologis dan substantif."
            },
            {
                question: "Evaluasi etis terhadap praktik fintech syariah di Indonesia ditinjau dari maqashid syariah (dharuriyyat al-khams)!",
                options: [
                    "A. Fintech syariah harus melindungi agama, jiwa, akal, keturunan, dan harta melalui transaksi tanpa riba sesuai OJK No.77/2016.",
                    "B. Fintech konvensional dan syariah tidak berbeda secara prinsip.",
                    "C. Blockchain haram dalam semua bentuk fintech syariah.",
                    "D. Maqashid syariah tidak relevan untuk ekonomi digital.",
                    "E. Semua fintech otomatis halal selama ada label syariah."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A mengintegrasikan regulasi modern dengan prinsip dasar syariah secara komprehensif."
            },
            {
                question: "Perbandingan konsep negara Islam menurut Abul A'la Maududi dan Ali Abdur Raziq beserta implikasi politiknya!",
                options: [
                    "A. Maududi wajibkan negara teokratis, Raziq pisahkan agama-politik secara radikal, mempengaruhi gerakan Islam global vs sekuler.",
                    "B. Keduanya mendukung khilafah kontemporer.",
                    "C. Raziq menolak semua bentuk pemerintahan.",
                    "D. Maududi mendukung sekularisme.",
                    "E. Tidak ada perbedaan signifikan antara kedua pemikir."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A menunjukkan polarisasi pemikiran politik Islam modern dengan akurasi historis."
            },
            {
                question: "Kritik epistemologis terhadap islamisasi ilmu pengetahuan menurut Syed Muhammad Naquib al-Attas vs pendekatan sekularisasi ilmu!",
                options: [
                    "A. Al-Attas menekankan konsep ta'dib dan integrasi wahyu-akal, berlawanan dengan sekularisasi yang memisahkan nilai agama dari sains.",
                    "B. Islamisasi ilmu berarti menolak semua temuan sains Barat.",
                    "C. Sekularisasi ilmu adalah satu-satunya metode valid.",
                    "D. Tidak mungkin mengislamkan ilmu modern.",
                    "E. Kedua pendekatan identik secara metodologis."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A mempresentasikan kontras paradigmatik dengan merujuk konsep kunci ta'dib."
            },
            {
                question: "Analisis sosio-historis tentang resistensi umat Islam Indonesia terhadap radikalisme pasca Reformasi berdasarkan teori kulturalisasi agama!",
                options: [
                    "A. Tradisi nahdlatul ulama, lokalitas, dan Pancasila menjadi benteng melalui pendekatan kultural, sebagaimana riset LP3ES 2020.",
                    "B. Radikalisme diterima luas di Indonesia.",
                    "C. Tidak ada upaya sistematis melawan radikalisme.",
                    "D. Kulturalisasi justru memicu radikalisme.",
                    "E. Hanya pemerintah yang berperan melawan radikalisme."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A didukung data empiris dan kerangka teori yang relevan."
            },
            // Soal 11-20
            {
                question: "Deconstruct konsep hijab dalam tafsir feminis Muslim kontemporer seperti Amina Wadud vs pandangan tradisional ulama fiqh!",
                options: [
                    "A. Wadud anggap hijab sebagai pilihan personal bukan kewajiban syar'i, berbeda dengan konsensus ulama klasik yang mewajibkan.",
                    "B. Semua feminis Muslim menolak hijab secara mutlak.",
                    "C. Ulama kontemporer sepakat hijab tidak wajib.",
                    "D. Hijab hanya budaya Arab tanpa dasar teologis.",
                    "E. Wadud mendukung pemaksaan hijab oleh negara."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A menunjukkan perdebatan kontemporer dengan merujuk aktor kunci secara tepat."
            },
            {
                question: "Evaluasi kritis terhadap pelaksanaan wakaf produktif di Indonesia ditinjau dari UU No.41/2004 dan fatwa DSN-MUI!",
                options: [
                    "A. Potensi besar tetapi terkendala regulasi parsial dan SDM, perlu optimalisasi seperti contoh Bogor Agricultural Wakaf.",
                    "B. Wakaf produktif haram menurut DSN-MUI.",
                    "C. Seluruh aset wakaf harus digunakan untuk masjid saja.",
                    "D. UU No.41/2004 melarang wakaf uang.",
                    "E. Tidak ada contoh sukses wakaf produktif di Indonesia."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A memberikan penilaian berimbang antara potensi dan tantangan dengan contoh konkret."
            },
            {
                question: "Studi komparatif tentang konsep ketuhanan dalam filsafat Ibn Arabi (wahdatul wujud) dan kritikusnya Ibn Taymiyyah!",
                options: [
                    "A. Ibn Arabi tegas pantheisme transenden, Ibn Taymiyyah tolak dengan keras melalui kitab Naqdh al-Mantiq.",
                    "B. Keduanya sepakat tentang wahdatul wujud.",
                    "C. Ibn Taymiyyah mendukung semua pemikiran Ibn Arabi.",
                    "D. Konsep ketuhanan tidak penting dalam filsafat Islam.",
                    "E. Wahdatul wujud berarti penyatuan fisik Tuhan dan alam."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A menggambarkan polarisasi pemikiran sufisme vs salafisme secara akurat."
            },
            {
                question: "Kritik metodologis terhadap islamisasi sains modern menurut Ziauddin Sardar!",
                options: [
                    "A. Perlunya dewesternisasi ilmu melalui epistemologi tawhidi dan etika Islam, bukan hanya pelabelan syariah.",
                    "B. Islamisasi sains berarti menolak semua teori Barat.",
                    "C. Sains modern sudah islami secara inherent.",
                    "D. Tidak mungkin mengislamkan sains.",
                    "E. Sardar menolak semua bentuk sains kontemporer."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A merangkum proposal Sardar tentang rekonstruksi epistemologi sains."
            },
            {
                question: "Analisis dampak sosial-media terhadap penyebaran paham takfiri di kalangan pemuda Muslim perkotaan!",
                options: [
                    "A. Algoritma echo chamber memperkuat radikalisasi diam-diam, berdasarkan studi PNAS 2018 tentang filter bubble digital.",
                    "B. Media sosial tidak berpengaruh pada radikalisasi.",
                    "C. Semua konten keagamaan di media sosial bersifat moderat.",
                    "D. Pemuda perkotaan kebal terhadap paham takfiri.",
                    "E. Tidak ada korelasi antara media sosial dan pemikiran keagamaan."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A didukung penelitian mutakhir tentang mekanisme radikalisasi digital."
            },
            {
                question: "Telaah kritis terhadap gerakan hijrah fenomenal di Indonesia ditinjau dari konsep al-wala' wal bara'!",
                options: [
                    "A. Hijrah positif jika meningkatkan taqwa, negatif jika memicu eksklusivisme sosial, menurut analisis Haidlir Almar 2022.",
                    "B. Semua gerakan hijrah pasti salah.",
                    "C. Konsep al-wala' wal bara' tidak relevan dengan hijrah.",
                    "D. Hijrah harus berarti mengisolasi diri dari masyarakat umum.",
                    "E. Tidak ada contoh hijrah yang sukses."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A memberikan evaluasi berimbang dengan kerangka konseptual yang valid."
            },
            {
                question: "Studi kasus kontroversi bank syariah di Eropa ditinjau dari teori darurah (kebutuhan mendesak)!",
                options: [
                    "A. Beberapa bank mengkompromikan prinsip untuk adaptasi regulasi lokal, memicu debat tentang batas darurah menurut ECJ Case C-539/19.",
                    "B. Semua bank syariah di Eropa fully compliant.",
                    "C. Tidak ada tantangan khusus untuk bank syariah di Eropa.",
                    "D. Teori darurah membolehkan semua bentuk riba di Barat.",
                    "E. Bank syariah dilarang sama sekali di Eropa."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A mengangkat dilema praktis dengan merujuk yurisprudensi terkini."
            },
            {
                question: "Perbandingan konsep pendidikan karakter dalam pesantren salaf vs madrasah reformis!",
                options: [
                    "A. Pesantren tekankan adab melalui sorogan, madrasah kembangkan critical thinking via kurikulum terintegrasi, menurut penelitian Azra 2015.",
                    "B. Tidak ada perbedaan antara kedua model.",
                    "C. Pesantren salaf tidak mengajarkan karakter.",
                    "D. Madrasah reformis tolak semua nilai tradisional.",
                    "E. Hanya madrasah yang relevan di era modern."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A membandingkan keunggulan masing-masing model secara akademik."
            },
            {
                question: "Analisis semiotik terhadap representasi jihad dalam film The Message (1976) vs serial Kingdom of Heaven!",
                options: [
                    "A. The Message gunakan simbol-simbol damai, Kingdom of Heaven lebih ambigu dengan narasi perang salib kompleks.",
                    "B. Keduanya menggambarkan jihad sebagai terorisme.",
                    "C. Tidak ada perbedaan signifikan antara kedua film.",
                    "D. Film tidak boleh mengangkat tema jihad.",
                    "E. Kingdom of Heaven adalah propaganda Islam."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A menunjukkan pemahaman mendalam tentang analisis media dan teologi."
            },
            {
                question: "Evaluasi kritis terhadap praktik sertifikasi halal global ditinjau dari teori siyasah syar'iyyah!",
                options: [
                    "A. Sertifikasi wajib untuk melindungi konsumen tetapi jangan sampai menjadi alat proteksionisme, sesuai fatwa MUI No.80/2018.",
                    "B. Sertifikasi halal tidak diperlukan sama sekali.",
                    "C. Hanya produk Muslim yang perlu sertifikasi.",
                    "D. Semua produk non-Muslim otomatis haram.",
                    "E. Sertifikasi halal bertentangan dengan syariah."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A menyeimbangkan antara idealisme syariah dan realitas geopolitik ekonomi."
            },
            // Soal 21-30
            {
                question: "Kritik historis terhadap gerakan pembaruan Islam Muhammad Abduh dan pengaruhnya terhadap modernisme Islam di Asia Tenggara!",
                options: [
                    "A. Abduh perkenalkan rasionalisasi tafsir yang mempengaruhi Kaum Muda di Minangkabau, tetapi ditolak oleh tradisionalis pesantren.",
                    "B. Abduh tidak berpengaruh di luar Mesir.",
                    "C. Semua ulama Asia Tenggara menolak pemikiran Abduh.",
                    "D. Modernisme Islam identik dengan westernisasi.",
                    "E. Pembaruan Islam hanya terjadi di Timur Tengah."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A menunjukkan tracing pengaruh intelektual lintas kawasan secara akurat."
            },
            {
                question: "Analisis komparatif zakat profesi menurut Yusuf Qaradawi vs pandangan ulama Saudi kontemporer!",
                options: [
                    "A. Qaradawi wajibkan berdasarkan qiyas pada hasil pertanian, ulama Saudi tolak karena tidak ada nash spesifik.",
                    "B. Keduanya sepakat tentang kewajiban zakat profesi.",
                    "C. Zakat profesi haram menurut semua mazhab.",
                    "D. Hanya berlaku untuk dokter dan pengacara.",
                    "E. Ulama Saudi mendukung zakat profesi tanpa syarat."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A memetakan perbedaan pendapat berdasarkan metodologi istinbath yang berbeda."
            },
            {
                question: "Studi kritis tentang relasi Islam dan demokrasi dalam pemikiran Rachid Ghannouchi!",
                options: [
                    "A. Ghannouchi usung konsep 'musyarakat madani' yang kompatibel dengan demokrasi selama tidak bertentangan maqashid syariah.",
                    "B. Islam tidak mungkin berdamai dengan demokrasi.",
                    "C. Ghannouchi menolak semua bentuk pemilu.",
                    "D. Demokrasi harus sepenuhnya tunduk pada syariah formal.",
                    "E. Tidak ada pemikir Muslim yang mendukung demokrasi."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A merangkum sintesis kreatif Ghannouchi antara nilai Islam dan politik modern."
            },
            {
                question: "Deconstruct narasi sejarah Perang Salib dari perspektif Ibn al-Athir vs historiografi Barat kontemporer!",
                options: [
                    "A. Ibn al-Athir sajikan sebagai pertahanan Islam, sejarawan Barat seperti Tyerman tekankan aspek kolonialisme Kristen.",
                    "B. Kedua perspektif identik dalam narasinya.",
                    "C. Hanya versi Muslim yang akurat.",
                    "D. Perang Salib tidak pernah terjadi secara faktual.",
                    "E. Historiografi Barat mengakui kesalahan total Tentara Salib."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A menunjukkan pemahaman multi-perspektif dalam penulisan sejarah."
            },
            {
                question: "Evaluasi praktik arbitrase syariah di Indonesia berdasarkan UU No.30/1999 dan Kompilasi Hukum Ekonomi Syariah!",
                options: [
                    "A. Arbitrase efektif untuk sengketa bisnis syariah tetapi masih kurang dimanfaatkan, perlu sosialisasi seperti kasus BANI Syariah 2021.",
                    "B. Arbitrase syariah tidak diakui oleh hukum Indonesia.",
                    "C. Semua sengketa harus diselesaikan di pengadilan agama.",
                    "D. KHES hanya berlaku untuk pernikahan.",
                    "E. UU No.30/1999 melarang arbitrase syariah."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A memberikan penilaian realistis dengan contoh implementasi."
            },
            {
                question: "Analisis kontroversi penggunaan CRISPR-Cas9 dalam editing gen manusia ditinjau dari konsep istihsan dan maslahah mursalah!",
                options: [
                    "A. Boleh untuk terapi penyakit genetik tetapi haram untuk enhancement, berdasarkan fatwa Dar al-Ifta Mesir No.43/2020.",
                    "B. Semua bentuk editing gen mutlak haram.",
                    "C. CRISPR boleh digunakan tanpa batasan etika.",
                    "D. Istihsan tidak relevan untuk isu sains modern.",
                    "E. Tidak ada pandangan ulama tentang bioteknologi."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A menunjukkan pemahaman kompleksitas bioetika Islam kontemporer."
            },
            {
                question: "Studi komparatif tentang konsep kenabian dalam filsafat Ibn Sina dan Al-Ghazali!",
                options: [
                    "A. Ibn Sina anggap nabi sebagai 'akal aktif sempurna', Al-Ghazali tolak filosofisasi kenabian dan tekankan wahyu.",
                    "B. Keduanya sepakat nabi hanya politisi ulung.",
                    "C. Konsep kenabian tidak penting dalam filsafat Islam.",
                    "D. Al-Ghazali mendukung seluruhnya pandangan Ibn Sina.",
                    "E. Nabi hanyalah mitos menurut kedua filsuf."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A memetakan perbedaan paradigmatik antara filosof dan teolog."
            },
            {
                question: "Kritik terhadap implementasi ekonomi syariah di Malaysia dari perspektif maqashid syariah Muhammad Tahir al-Azhari!",
                options: [
                    "A. Sukses secara makro tetapi masih ada ketimpangan distribusi, perlu penguatan aspek keadilan (al-'adl) sebagaimana dikritik ISRA 2019 Report.",
                    "B. Malaysia gagal total menerapkan ekonomi syariah.",
                    "C. Semua produk keuangan Malaysia fully syariah compliant.",
                    "D. Maqashid syariah tidak berlaku untuk ekonomi modern.",
                    "E. Tidak ada kelemahan dalam model Malaysia."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A memberikan penilaian objektif dengan merujuk penelitian otoritatif."
            },
            {
                question: "Analisis perkembangan tafsir tematik (maudhu'i) di Indonesia era reformasi dengan studi kasus Tafsir Al-Misbah!",
                options: [
                    "A. Tafsir tematik menjawab isu aktual dengan pendekatan kontekstual, seperti Quraish Shihab bahas feminisme dalam QS. An-Nisa.",
                    "B. Tafsir tematik dilarang di Indonesia.",
                    "C. Hanya tafsir klasik yang valid.",
                    "D. Tafsir Al-Misbah bersifat literal semata.",
                    "E. Tidak ada perkembangan tafsir pasca reformasi."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A menunjukkan pemahaman dinamika penafsiran kontemporer di Indonesia."
            },
            {
                question: "Evaluasi kritis terhadap gerakan Islamisasi pengetahuan di Turki era Erdogan berdasarkan teori Mohammed Arkoun!",
                options: [
                    "A. Ada upaya sistematis tetapi terjebak politisasi, belum mencapai dekonstruksi epistemologis sebagaimana diusung Arkoun.",
                    "B. Turki sepenuhnya gagal mengislamkan pengetahuan.",
                    "C. Erdogan menolak semua bentuk sains Barat.",
                    "D. Islamisasi pengetahuan sudah sempurna di Turki.",
                    "E. Mohammed Arkoun mendukung semua kebijakan Erdogan."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A memberikan analisis berimbang dengan kerangka teori kritis."
            },
            {
                question: "Proyeksi masa depan fiqh minoritas Muslim (fiqh al-aqalliyyat) di Eropa berdasarkan fatwa European Council for Fatwa and Research!",
                options: [
                    "A. Akan berkembang dengan pendekatan darurah dan maslahah, seperti fatwa tentang pembangunan masjid dengan arsitektur lokal.",
                    "B. Fiqh minoritas tidak diperlukan di Eropa.",
                    "C. Muslim Eropa harus sepenuhnya mengikuti fiqh negara asal.",
                    "D. Tidak ada adaptasi syariah dalam konteks minoritas.",
                    "E. ECFR menolak semua bentuk ijtihad kontemporer."
                ],
                correctAnswer: 0,
                explanation: "Jawaban A memprediksi tren dengan merujuk perkembangan fatwa mutakhir."
            }
                ]
            }
        };

        // Motivational messages based on score
        const MOTIVATIONAL_MESSAGES = {
            '90-100': 'Sempurna! Anda sangat luar biasa dalam menguasai materi agama Islam. Pertahankan prestasi ini.',
            '80-89': 'Hasil yang sangat baik! Anda telah menunjukkan pemahaman yang mendalam tentang agama Islam.',
            '70-79': 'Kerja bagus! Anda memiliki pemahaman yang baik tentang materi agama Islam ini.',
            '60-69': 'Hasil yang cukup baik. Tingkatkan lagi pemahaman Anda untuk hasil yang lebih baik.',
            '50-59': 'Anda sudah memahami dasar-dasarnya. Terus berlatih untuk meningkatkan pemahaman agama.',
            '0-49': 'Jangan menyerah! Gunakan hasil ini sebagai motivasi untuk belajar agama lebih giat lagi.'
        };
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize particles.js for background
            particlesJS('particles-js', {
                "particles": {
                    "number": {
                        "value": 80,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": "#ffffff"
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.5,
                        "random": false,
                        "anim": {
                            "enable": false,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 3,
                        "random": true,
                        "anim": {
                            "enable": false,
                            "speed": 40,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#ffffff",
                        "opacity": 0.4,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 2,
                        "direction": "none",
                        "random": false,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 140,
                            "line_linked": {
                                "opacity": 1
                            }
                        },
                        "bubble": {
                            "distance": 400,
                            "size": 40,
                            "duration": 2,
                            "opacity": 8,
                            "speed": 3
                        },
                        "repulse": {
                            "distance": 200,
                            "duration": 0.4
                        },
                        "push": {
                            "particles_nb": 4
                        },
                        "remove": {
                            "particles_nb": 2
                        }
                    }
                },
                "retina_detect": true
            });
            
            // Initialize celebration particles (hidden by default)
            particlesJS('celebration-particles', {
                "particles": {
                    "number": {
                        "value": 150,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": ["#FF0000", "#00FF00", "#0000FF", "#FFFF00", "#FF00FF", "#00FFFF"]
                    },
                    "shape": {
                        "type": ["circle", "triangle", "star"],
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.7,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 5,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 4,
                            "size_min": 0.3,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": false
                    },
                    "move": {
                        "enable": true,
                        "speed": 6,
                        "direction": "none",
                        "random": true,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": false
                        },
                        "onclick": {
                            "enable": false
                        },
                        "resize": true
                    }
                },
                "retina_detect": true
            });
            
            // Load admin settings
            loadAdminSettings();
            
            // Set greeting message from admin settings
            document.getElementById('greeting-text').textContent = adminSettings.greetingMessage;
            document.getElementById('admin-message').textContent = adminSettings.adminMessage;
            
            // Event listeners for buttons with sound
            document.querySelectorAll('button').forEach(button => {
                button.addEventListener('click', function() {
                    // Play button sound if not disabled
                    if (!this.disabled) {
                        buttonSound.currentTime = 0;
                        buttonSound.play().catch(e => console.log("Button sound prevented:", e));
                    }
                });
            });
            
            // Event listeners
            document.getElementById('login-btn').addEventListener('click', handleLogin);
            document.getElementById('agree-terms').addEventListener('change', toggleContinueButton);
            document.getElementById('continue-btn').addEventListener('click', showParticipantForm);
            
            // Status radio buttons
            document.querySelectorAll('input[name="status"]').forEach(radio => {
                radio.addEventListener('change', toggleParticipantFields);
            });
            
            // School level radio buttons
            document.querySelectorAll('input[name="level"]').forEach(radio => {
                radio.addEventListener('change', showGradeSelection);
            });
            
            document.getElementById('save-participant-btn').addEventListener('click', startExam);
            document.getElementById('finish-exam-btn').addEventListener('click', finishExam);
            document.getElementById('skip-question-btn').addEventListener('click', skipQuestion);
            document.getElementById('unanswered-btn').addEventListener('click', showUnansweredQuestions);
            document.getElementById('print-certificate-btn').addEventListener('click', printCertificate);
            document.getElementById('retake-exam-btn').addEventListener('click', retakeExam);
            
            // Floating buttons
            document.getElementById('whatsapp-btn').addEventListener('click', contactAdmin);
            document.getElementById('admin-panel-btn').addEventListener('click', showAdminPanelModal);
            
            // Modal close buttons
            document.getElementById('close-admin-panel-modal').addEventListener('click', hideAdminPanelModal);
            document.getElementById('close-edit-participant-modal').addEventListener('click', hideEditParticipantModal);
            
            // Modal submit buttons
            document.getElementById('submit-admin-panel-code').addEventListener('click', submitAdminPanelCode);
            
            // Check form validity when fields change
            document.getElementById('fullname').addEventListener('input', function() {
                // Convert input to uppercase automatically
                this.value = this.value.toUpperCase();
                checkParticipantFormValidity();
            });
            
            document.getElementById('school-name').addEventListener('input', checkParticipantFormValidity);
            document.getElementById('student-id').addEventListener('input', checkParticipantFormValidity);
            document.querySelectorAll('input[name="purpose"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });
            document.querySelectorAll('input[name="level"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });
            document.querySelectorAll('input[name="grade"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });
            document.querySelectorAll('input[name="subject"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });

            // Admin panel toggle switches
            document.querySelectorAll('.toggle-switch input').forEach(toggle => {
                toggle.addEventListener('change', function() {
                    const statusElement = document.getElementById(`${this.id}-status`);
                    statusElement.textContent = this.checked ? 'Aktif' : 'Nonaktif';
                });
            });

            // Admin panel buttons
            document.getElementById('save-codes-btn').addEventListener('click', saveCodes);
            document.getElementById('save-content-btn').addEventListener('click', saveContent);
            document.getElementById('save-settings-btn').addEventListener('click', saveSettings);
            
            // Participant management buttons
            document.getElementById('select-all-participants').addEventListener('click', toggleSelectAllParticipants);
            document.getElementById('edit-selected-participants').addEventListener('click', editSelectedParticipants);
            document.getElementById('delete-selected-participants').addEventListener('click', deleteSelectedParticipants);
            document.getElementById('validate-certificate-btn').addEventListener('click', validateCertificate);
            
            // Search functionality
            document.getElementById('participant-search').addEventListener('input', searchParticipants);
            
            // Edit participant form
            document.getElementById('save-edit-participant-btn').addEventListener('click', saveEditedParticipant);
            document.querySelectorAll('input[name="edit-status"]').forEach(radio => {
                radio.addEventListener('change', toggleEditParticipantFields);
            });
            document.querySelectorAll('input[name="edit-level"]').forEach(radio => {
                radio.addEventListener('change', showEditGradeSelection);
            });
            
            // Auto uppercase for edit fullname field
            document.getElementById('edit-fullname').addEventListener('input', function() {
                this.value = this.value.toUpperCase();
            });
        });
        
        // Functions
        function loadAdminSettings() {
            // Load exam duration
            document.getElementById('exam-duration').value = adminSettings.examDuration;
            
            // Load greeting message
            document.getElementById('greeting-message-input').value = adminSettings.greetingMessage;
            
            // Load admin message
            document.getElementById('admin-message-input').value = adminSettings.adminMessage;
            
            // Load chairman name
            document.getElementById('chairman-name').value = adminSettings.chairmanName;
            
            // Load subject toggle
            document.getElementById('toggle-religion').checked = adminSettings.enabledSubjects["Agama Islam"];
            document.getElementById('religion-status').textContent = adminSettings.enabledSubjects["Agama Islam"] ? 'Aktif' : 'Nonaktif';
        }
        
        function saveParticipantsData() {
            localStorage.setItem('participantsData', JSON.stringify(participantsData));
        }
        
        function saveAdminSettings() {
            localStorage.setItem('adminSettings', JSON.stringify(adminSettings));
        }
        
        function handleLogin() {
            const loginCode = document.getElementById('login-code').value;
            
            if (loginCode === adminSettings.loginCode) {
                // Play opening sound
                openingSound.play().catch(e => console.log("Opening sound prevented:", e));
                
                // Hide welcome screen with slide out animation
                document.getElementById('welcome-screen').classList.add('slide-out');
                
                // Show terms screen after animation completes
                setTimeout(() => {
                    document.getElementById('welcome-screen').style.display = 'none';
                    document.getElementById('terms-screen').style.display = 'block';
                    document.getElementById('terms-screen').classList.add('slide-in');
                    currentScreen = 'terms';
                }, 500);
            } else {
                alert('Kode login salah. Silakan coba lagi.');
            }
        }
        
        function toggleContinueButton() {
            const agreeCheckbox = document.getElementById('agree-terms');
            document.getElementById('continue-btn').disabled = !agreeCheckbox.checked;
        }
        
        function showParticipantForm() {
            // Hide terms screen with slide out animation
            document.getElementById('terms-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('terms-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
            }, 500);
        }
        
        function toggleParticipantFields() {
            // Only student status is available now
            document.getElementById('student-fields').style.display = 'block';
            checkParticipantFormValidity();
        }
        
        function showGradeSelection() {
            const level = document.querySelector('input[name="level"]:checked').value;
            const gradeOptions = document.getElementById('grade-options');
            
            // Clear previous options
            gradeOptions.innerHTML = '';
            
            // Add options based on level
            if (level === 'SD') {
                addGradeOption('grade-4', 'Kelas <span class="roman">IV</span>', '4');
                addGradeOption('grade-5', 'Kelas <span class="roman">V</span>', '5');
                addGradeOption('grade-6', 'Kelas <span class="roman">VI</span>', '6');
            } else if (level === 'SMP') {
                addGradeOption('grade-7', 'Kelas <span class="roman">VII</span>', '7');
                addGradeOption('grade-8', 'Kelas <span class="roman">VIII</span>', '8');
                addGradeOption('grade-9', 'Kelas <span class="roman">IX</span>', '9');
            } else if (level === 'SMA/SMK') {
                addGradeOption('grade-10', 'Kelas <span class="roman">X</span>', '10');
                addGradeOption('grade-11', 'Kelas <span class="roman">XI</span>', '11');
                addGradeOption('grade-12', 'Kelas <span class="roman">XII</span>', '12');
            }
            
            document.getElementById('grade-selection').style.display = 'block';
            checkParticipantFormValidity();
        }
        
        function addGradeOption(id, label, value) {
            const container = document.getElementById('grade-options');
            
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.id = id;
            radio.name = 'grade';
            radio.value = value;
            radio.className = 'radio-option';
            
            const radioLabel = document.createElement('label');
            radioLabel.htmlFor = id;
            radioLabel.className = 'radio-label';
            radioLabel.innerHTML = label;
            
            // Add event listener for grade selection
            radio.addEventListener('change', function() {
                document.getElementById('subject-selection').style.display = 'block';
                checkParticipantFormValidity();
            });
            
            container.appendChild(radio);
            container.appendChild(radioLabel);
        }
        
        function checkParticipantFormValidity() {
            let isValid = true;
            
            // Check common fields
            const fullname = document.getElementById('fullname').value.trim();
            if (!fullname || !/^[A-Za-z ]+$/.test(fullname)) {
                isValid = false;
            }
            
            // Check student fields
            if (!document.getElementById('school-name').value.trim()) {
                isValid = false;
            }
            
            const studentId = document.getElementById('student-id').value.trim();
            if (!studentId || !/^[0-9]+$/.test(studentId)) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="purpose"]:checked')) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="level"]:checked')) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="grade"]:checked')) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="subject"]:checked')) {
                isValid = false;
            }
            
            document.getElementById('save-participant-btn').disabled = !isValid;
        }
        
        function startExam() {
            // Collect participant data
            participantData = {
                fullname: document.getElementById('fullname').value.trim(),
                status: 'pelajar',
                purpose: document.querySelector('input[name="purpose"]:checked')?.value,
                level: document.querySelector('input[name="level"]:checked')?.value,
                grade: document.querySelector('input[name="grade"]:checked')?.value,
                subject: document.querySelector('input[name="subject"]:checked')?.value,
                school: document.getElementById('school-name')?.value.trim(),
                studentId: document.getElementById('student-id')?.value.trim(),
                examDate: new Date().toISOString()
            };
            
            // Load questions based on level - hanya Agama Islam
            if (participantData.level && QUESTION_BANK[participantData.level]['Agama Islam']) {
                // Acak urutan soal
                const originalQuestions = QUESTION_BANK[participantData.level]['Agama Islam'];
                questions = shuffleArray(originalQuestions);
                
                // Simpan urutan soal yang diacak
                questionOrder = questions.map((_, index) => index);
            } else {
                // Default questions (SD)
                const originalQuestions = QUESTION_BANK['SD']['Agama Islam'];
                questions = shuffleArray(originalQuestions);
                questionOrder = questions.map((_, index) => index);
            }
            
            // Initialize exam data
            examData = {
                startTime: new Date(),
                answered: 0,
                correct: 0,
                wrong: 0,
                unanswered: questions.length,
                answers: Array(questions.length).fill(null)
            };
            
            // Set exam time from admin settings
            examTimeLeft = adminSettings.examDuration * 60;
            
            // Hide participant form with slide out animation
            document.getElementById('participant-form').classList.add('slide-out');
            
            // Show exam screen after animation completes
            setTimeout(() => {
                document.getElementById('participant-form').style.display = 'none';
                document.getElementById('exam-screen').style.display = 'block';
                document.getElementById('exam-screen').classList.add('slide-in');
                currentScreen = 'exam';
                
                // Start timer
                startTimer();
                
                // Load first question
                loadQuestion(0);
            }, 500);
        }
        
        // Fungsi untuk mengacak array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        function startTimer() {
            // Update timer display immediately
            updateTimerDisplay();
            
            // Start timer interval
            examTimer = setInterval(function() {
                examTimeLeft--;
                updateTimerDisplay();
                
                // Check if time is up
                if (examTimeLeft <= 0) {
                    clearInterval(examTimer);
                    finishExam();
                }
                
                // Show warning when 10 minutes left
                if (examTimeLeft === 600) { // 10 minutes = 600 seconds
                    showTimeWarning();
                }
                
                // Hide warning when 1 minute left
                if (examTimeLeft === 60) {
                    hideTimeWarning();
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const hours = Math.floor(examTimeLeft / 3600);
            const minutes = Math.floor((examTimeLeft % 3600) / 60);
            const seconds = examTimeLeft % 60;
            
            const timerElement = document.getElementById('exam-timer');
            timerElement.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Change style based on remaining time
            if (examTimeLeft <= 600) { // 10 minutes or less
                timerElement.classList.add('timer-warning');
                
                if (examTimeLeft <= 60) { // 1 minute or less
                    timerElement.classList.remove('timer-warning');
                    timerElement.classList.add('timer-danger');
                }
            } else {
                timerElement.classList.remove('timer-warning', 'timer-danger');
            }
        }
        
        function showTimeWarning() {
            const notification = document.getElementById('time-warning');
            notification.style.display = 'block';
            
            // Auto hide after 9 minutes (540 seconds)
            setTimeout(() => {
                notification.style.display = 'none';
            }, 540 * 1000);
        }
        
        function hideTimeWarning() {
            document.getElementById('time-warning').style.display = 'none';
        }
        
        function loadQuestion(index) {
            if (index < 0 || index >= questions.length) return;
            
            currentQuestionIndex = index;
            const question = questions[index];
            
            // Update question text (tampilkan nomor urut asli dari questionOrder)
            const originalQuestionNumber = questionOrder[index] + 1;
            document.getElementById('question-text').textContent = `Soal ${originalQuestionNumber}: ${question.question}`;
            
            // Clear previous image if exists
            const imageContainer = document.getElementById('question-image-container');
            imageContainer.innerHTML = '';
            
            // Add image if exists
            if (question.image) {
                const img = document.createElement('img');
                img.src = question.image;
                img.style.maxWidth = '100%';
                img.style.maxHeight = '200px';
                img.style.marginBottom = '15px';
                img.style.display = 'block';
                imageContainer.appendChild(img);
            }
            
            // Clear previous options
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            // Add new options
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                
                // Check if this question was already answered
                if (examData.answers[index] !== null) {
                    if (examData.answers[index] === i) {
                        if (i === question.correctAnswer) {
                            optionElement.classList.add('correct');
                        } else {
                            optionElement.classList.add('incorrect');
                        }
                    } else if (i === question.correctAnswer) {
                        optionElement.classList.add('correct');
                    }
                    
                    // Show explanation if answered
                    document.getElementById('explanation-text').style.display = 'block';
                    document.getElementById('explanation-text').innerHTML = `<strong>Penjelasan:</strong> ${question.explanation}`;
                } else {
                    // Add click event for unanswered questions
                    optionElement.addEventListener('click', function() {
                        selectAnswer(index, i);
                    });
                }
                
                optionsContainer.appendChild(optionElement);
            });
            
            // Hide explanation if question not answered
            if (examData.answers[index] === null) {
                document.getElementById('explanation-text').style.display = 'none';
            }
        }
        
        function selectAnswer(questionIndex, answerIndex) {
            const question = questions[questionIndex];
            
            // Record answer
            examData.answers[questionIndex] = answerIndex;
            
            // Update counters
            examData.answered++;
            examData.unanswered--;
            
            if (answerIndex === question.correctAnswer) {
                examData.correct++;
                // Play correct answer sound
                correctAnswerSound.currentTime = 0;
                correctAnswerSound.play().catch(e => console.log("Correct answer sound prevented:", e));
            } else {
                examData.wrong++;
                // Play wrong answer sound
                wrongAnswerSound.currentTime = 0;
                wrongAnswerSound.play().catch(e => console.log("Wrong answer sound prevented:", e));
            }
            
            // Reload question to show result
            loadQuestion(questionIndex);
            
            // Auto move to next question after delay if not last question
            if (questionIndex < questions.length - 1) {
                setTimeout(() => {
                    loadQuestion(questionIndex + 1);
                }, 2000);
            }
        }
        
        function skipQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                loadQuestion(currentQuestionIndex + 1);
            }
        }
        
        function showUnansweredQuestions() {
            // Find first unanswered question
            const unansweredIndex = examData.answers.findIndex(answer => answer === null);
            
            if (unansweredIndex !== -1) {
                loadQuestion(unansweredIndex);
            } else {
                alert('Semua soal sudah dijawab.');
            }
        }
        
        function finishExam() {
            clearInterval(examTimer);
            
            // Calculate unanswered questions
            examData.unanswered = examData.answers.filter(answer => answer === null).length;
            
            // Generate certificate code
            const certificateCode = generateUniqueCode();
            
            // Add participant to data store
            const score = Math.round((examData.correct / questions.length) * 100);
            participantsData.push({
                ...participantData,
                score: score,
                examDate: new Date().toISOString(),
                certificateCode: certificateCode
            });
            saveParticipantsData();
            
            // Hide exam screen with slide out animation
            document.getElementById('exam-screen').classList.add('slide-out');
            
            // Show results screen after animation completes
            setTimeout(() => {
                document.getElementById('exam-screen').style.display = 'none';
                document.getElementById('results-screen').style.display = 'block';
                document.getElementById('results-screen').classList.add('slide-in');
                currentScreen = 'results';
                
                // Display results
                displayResults();
                
                // Generate certificate
                generateCertificate(certificateCode);
                
                // Show celebration particles
                showCelebration();
                
                // Play certificate sound (applause)
                certificateSound.currentTime = 0;
                certificateSound.play().catch(e => console.log("Certificate sound prevented:", e));
            }, 500);
        }
        
        function displayResults() {
            document.getElementById('result-name').textContent = participantData.fullname;
            document.getElementById('result-status').textContent = 'Pelajar';
            document.getElementById('result-level').textContent = participantData.level || '-';
            document.getElementById('result-grade').textContent = participantData.grade ? `Kelas ${participantData.grade}` : '-';
            document.getElementById('result-subject').textContent = participantData.subject || '-';
            document.getElementById('total-questions').textContent = questions.length;
            document.getElementById('correct-answers').textContent = examData.correct;
            document.getElementById('wrong-answers').textContent = examData.wrong;
            document.getElementById('unanswered-questions').textContent = examData.unanswered;
            
            // Calculate score (percentage)
            const score = Math.round((examData.correct / questions.length) * 100);
            document.getElementById('exam-score').textContent = `${score}%`;
        }
        
        function generateCertificate(certificateCode) {
            const certificateContainer = document.getElementById('certificate-container');
            certificateContainer.innerHTML = '';
            
            // Calculate score
            const score = Math.round((examData.correct / questions.length) * 100);
            
            // Get current date
            const now = new Date();
            const dateString = now.toLocaleDateString('id-ID', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            }).replace(/\//g, '');
            
            // Get motivational message based on score
            let motivation = '';
            for (const range in MOTIVATIONAL_MESSAGES) {
                const [min, max] = range.split('-').map(Number);
                if (score >= min && score <= max) {
                    motivation = MOTIVATIONAL_MESSAGES[range];
                    break;
                }
            }
            
            // Create certificate HTML
            const certificate = document.createElement('div');
            certificate.className = 'certificate';
            
            certificate.innerHTML = `
                <div class="certificate-content">
                    <h1 class="certificate-title">SERTIFIKAT PRESTASI</h1>
                    <p class="certificate-code">${formatName(participantData.fullname)}/PELAJAR/${participantData.level || 'UMUM'}/${participantData.subject || 'UMUM'}/${dateString}/${certificateCode}/PERGUNU-STB</p>
                    <p>Diberikan Kepada</p>
                    <h2 class="certificate-recipient">${formatName(participantData.fullname)}</h2>
                    <p class="certificate-body">
                        Atas Partisipasi & Pencapaian Luar Biasa Dalam<br>
                        Ujian Agama Islam Pergunu Situbondo
                    </p>
                    <p class="certificate-body">
                        Sebagai penghargaan atas dedikasi dalam memahami materi agama Islam dan meningkatkan keimanan, 
                        sertifikat ini diberikan sebagai motivasi untuk terus berkembang dalam ilmu agama.
                    </p>
                    <div class="certificate-score">Nilai: ${score}%</div>
                    <p class="certificate-motivation">${motivation}</p>
                    <div class="certificate-footer">
                        <p>Ditetapkan di: Situbondo, ${now.toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })}</p>
                        <div class="certificate-signature">
                            <p>Ketua Pergunu Situbondo</p>
                            <p><strong>${adminSettings.chairmanName}</strong></p>
                        </div>
                        <img src="https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/BARCODE.png" alt="Barcode" class="certificate-barcode">
                    </div>
                </div>
            `;
            
            certificateContainer.appendChild(certificate);
            certificateContainer.style.display = 'block';
        }
        
        function showCelebration() {
            // Show celebration particles
            document.getElementById('celebration-particles').style.display = 'block';
            
            // Hide after 5 seconds
            setTimeout(() => {
                document.getElementById('celebration-particles').style.display = 'none';
            }, 5000);
        }
        
        function formatName(name) {
            return name.split(' ').map(word => 
                word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()
            ).join(' ');
        }
        
        function generateUniqueCode() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = '';
            
            for (let i = 0; i < 4; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            result += '-';
            
            for (let i = 0; i < 4; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            return result;
        }
        
        function printCertificate() {
            // Hide floating buttons
            document.querySelector('.floating-buttons').style.display = 'none';
            
            // Hide other elements in results screen
            document.querySelector('.results-summary').style.display = 'none';
            document.querySelector('.result-actions').style.display = 'none';
            
            // Print the certificate
            window.print();
            
            // Show elements again after printing
            setTimeout(() => {
                document.querySelector('.floating-buttons').style.display = 'flex';
                document.querySelector('.results-summary').style.display = 'block';
                document.querySelector('.result-actions').style.display = 'block';
            }, 500);
        }
        
        function retakeExam() {
            // Hide results screen with slide out animation
            document.getElementById('results-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('results-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
                
                // Reset timer
                examTimeLeft = adminSettings.examDuration * 60;
            }, 500);
        }
        
        function contactAdmin() {
            const message = encodeURIComponent("Assalamualaikum mas admin, saya mau tanya sesuatu nih...");
            window.open(`https://wa.me/6285647709114?text=${message}`, '_blank');
        }
        
        function showAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'flex';
        }
        
        function hideAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'none';
        }
        
        function submitAdminPanelCode() {
            const code = document.getElementById('admin-panel-code').value;
            
            if (code === adminSettings.adminCode) {
                // Show admin panel content
                document.getElementById('admin-panel-content').style.display = 'block';
                // Load participants data
                loadParticipantsData();
            } else {
                alert('Kode admin salah. Silakan coba lagi.');
            }
        }

        function loadParticipantsData() {
            const tableBody = document.getElementById('participants-table-body');
            tableBody.innerHTML = '';
            
            if (participantsData.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="10" style="text-align: center;">Belum ada data peserta</td></tr>';
                return;
            }
            
            // Sort by date (newest first)
            const sortedData = [...participantsData].sort((a, b) => 
                new Date(b.examDate) - new Date(a.examDate));
            
            sortedData.forEach((participant, index) => {
                const date = new Date(participant.examDate);
                const dateStr = date.toLocaleDateString('id-ID', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const row = document.createElement('tr');
                row.dataset.index = index;
                row.innerHTML = `
                    <td>
                        <input type="checkbox" class="select-checkbox" data-index="${index}" onchange="toggleParticipantSelection(${index})">
                    </td>
                    <td>${dateStr}</td>
                    <td>${participant.fullname}</td>
                    <td>${participant.studentId || '-'}</td>
                    <td>Pelajar</td>
                    <td>${participant.level || '-'}</td>
                    <td>${participant.grade ? `Kelas ${participant.grade}` : '-'}</td>
                    <td>${participant.subject || '-'}</td>
                    <td>${participant.score}%</td>
                    <td>${participant.certificateCode || '-'}</td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Reset selected participants
            selectedParticipants = [];
            updateParticipantActionButtons();
        }
        
        function toggleParticipantSelection(index) {
            const checkbox = document.querySelector(`.select-checkbox[data-index="${index}"]`);
            if (checkbox.checked) {
                if (!selectedParticipants.includes(index)) {
                    selectedParticipants.push(index);
                }
            } else {
                selectedParticipants = selectedParticipants.filter(i => i !== index);
            }
            
            // Update select all checkbox
            updateSelectAllCheckbox();
            
            // Update action buttons
            updateParticipantActionButtons();
        }
        
        function toggleSelectAllParticipants() {
            const selectAllCheckbox = document.getElementById('select-all-checkbox');
            const checkboxes = document.querySelectorAll('.select-checkbox');
            
            selectAllCheckbox.checked = !selectAllCheckbox.checked;
            const isChecked = selectAllCheckbox.checked;
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = isChecked;
                const index = parseInt(checkbox.dataset.index);
                
                if (isChecked) {
                    if (!selectedParticipants.includes(index)) {
                        selectedParticipants.push(index);
                    }
                } else {
                    selectedParticipants = selectedParticipants.filter(i => i !== index);
                }
            });
            
            // Update action buttons
            updateParticipantActionButtons();
        }
        
        function updateSelectAllCheckbox() {
            const checkboxes = document.querySelectorAll('.select-checkbox');
            const selectAllCheckbox = document.getElementById('select-all-checkbox');
            
            if (checkboxes.length === 0) {
                selectAllCheckbox.checked = false;
                return;
            }
            
            const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
            selectAllCheckbox.checked = allChecked;
        }
        
        function updateParticipantActionButtons() {
            const hasSelection = selectedParticipants.length > 0;
            
            document.getElementById('edit-selected-participants').disabled = !hasSelection;
            document.getElementById('delete-selected-participants').disabled = !hasSelection;
        }
        
        function editSelectedParticipants() {
            if (selectedParticipants.length === 0) return;
            
            // For now, we'll just edit the first selected participant
            // In a real app, you might want to implement bulk editing
            const index = selectedParticipants[0];
            editParticipant(index);
        }
        
        function editParticipant(index) {
            const participant = participantsData[index];
            
            // Fill the edit form
            document.getElementById('edit-fullname').value = participant.fullname;
            
            // Set status to student (only option now)
            document.getElementById('edit-status-student').checked = true;
            document.getElementById('edit-student-fields').style.display = 'block';
            
            // Fill student fields
            document.getElementById('edit-school-name').value = participant.school || '';
            document.getElementById('edit-student-id').value = participant.studentId || '';
            
            // Set purpose
            if (participant.purpose) {
                const purposeRadio = document.querySelector(`input[name="edit-purpose"][value="${participant.purpose}"]`);
                if (purposeRadio) purposeRadio.checked = true;
            }
            
            // Set level
            if (participant.level) {
                const levelRadio = document.querySelector(`input[name="edit-level"][value="${participant.level}"]`);
                if (levelRadio) levelRadio.checked = true;
                
                // Show grade selection
                showEditGradeSelection();
                
                // Set grade
                if (participant.grade) {
                    const gradeRadio = document.querySelector(`input[name="edit-grade"][value="${participant.grade}"]`);
                    if (gradeRadio) gradeRadio.checked = true;
                }
            }
            
            // Set subject
            if (participant.subject) {
                document.getElementById('edit-subject').value = participant.subject;
            }
            
            // Set score
            document.getElementById('edit-score').value = participant.score;
            
            // Set certificate code
            document.getElementById('edit-certificate-code').value = participant.certificateCode || '-';
            
            // Store index for saving
            document.getElementById('edit-participant-index').value = index;
            
            // Show the modal
            document.getElementById('edit-participant-modal').style.display = 'flex';
        }
        
        function toggleEditParticipantFields() {
            // Only student status is available now
            document.getElementById('edit-student-fields').style.display = 'block';
        }
        
        function showEditGradeSelection() {
            const level = document.querySelector('input[name="edit-level"]:checked')?.value;
            const gradeOptions = document.getElementById('edit-grade-options');
            
            // Clear previous options
            gradeOptions.innerHTML = '';
            
            if (!level) return;
            
            // Add options based on level
            if (level === 'SD') {
                addEditGradeOption('edit-grade-4', 'Kelas <span class="roman">IV</span>', '4');
                addEditGradeOption('edit-grade-5', 'Kelas <span class="roman">V</span>', '5');
                addEditGradeOption('edit-grade-6', 'Kelas <span class="roman">VI</span>', '6');
            } else if (level === 'SMP') {
                addEditGradeOption('edit-grade-7', 'Kelas <span class="roman">VII</span>', '7');
                addEditGradeOption('edit-grade-8', 'Kelas <span class="roman">VIII</span>', '8');
                addEditGradeOption('edit-grade-9', 'Kelas <span class="roman">IX</span>', '9');
            } else if (level === 'SMA/SMK') {
                addEditGradeOption('edit-grade-10', 'Kelas <span class="roman">X</span>', '10');
                addEditGradeOption('edit-grade-11', 'Kelas <span class="roman">XI</span>', '11');
                addEditGradeOption('edit-grade-12', 'Kelas <span class="roman">XII</span>', '12');
            }
        }
        
        function addEditGradeOption(id, label, value) {
            const container = document.getElementById('edit-grade-options');
            
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.id = id;
            radio.name = 'edit-grade';
            radio.value = value;
            radio.className = 'radio-option';
            
            const radioLabel = document.createElement('label');
            radioLabel.htmlFor = id;
            radioLabel.className = 'radio-label';
            radioLabel.innerHTML = label;
            
            container.appendChild(radio);
            container.appendChild(radioLabel);
        }
        
        function saveEditedParticipant() {
            const index = document.getElementById('edit-participant-index').value;
            if (!index) return;
            
            const participant = participantsData[index];
            
            // Update participant data
            participant.fullname = document.getElementById('edit-fullname').value.trim();
            participant.status = 'pelajar';
            participant.school = document.getElementById('edit-school-name').value.trim();
            participant.studentId = document.getElementById('edit-student-id').value.trim();
            participant.purpose = document.querySelector('input[name="edit-purpose"]:checked')?.value || '';
            participant.level = document.querySelector('input[name="edit-level"]:checked')?.value || '';
            participant.grade = document.querySelector('input[name="edit-grade"]:checked')?.value || '';
            participant.subject = document.getElementById('edit-subject').value;
            participant.score = parseInt(document.getElementById('edit-score').value);
            
            // Save to localStorage
            saveParticipantsData();
            
            // Reload participants data
            loadParticipantsData();
            
            // Hide modal
            hideEditParticipantModal();
            
            alert('Perubahan data peserta berhasil disimpan!');
        }
        
        function hideEditParticipantModal() {
            document.getElementById('edit-participant-modal').style.display = 'none';
        }
        
        function deleteSelectedParticipants() {
            if (selectedParticipants.length === 0) return;
            
            if (!confirm(`Apakah Anda yakin ingin menghapus ${selectedParticipants.length} peserta terpilih?`)) {
                return;
            }
            
            // Sort in descending order to avoid index issues when deleting
            const sortedIndices = [...selectedParticipants].sort((a, b) => b - a);
            
            // Delete participants
            sortedIndices.forEach(index => {
                participantsData.splice(index, 1);
            });
            
            // Save to localStorage
            saveParticipantsData();
            
            // Reload participants data
            loadParticipantsData();
            
            alert(`${sortedIndices.length} peserta berhasil dihapus!`);
        }
        
        function searchParticipants() {
            const searchTerm = document.getElementById('participant-search').value.toLowerCase();
            const rows = document.querySelectorAll('#participants-table-body tr');
            
            rows.forEach(row => {
                const index = parseInt(row.dataset.index);
                const participant = participantsData[index];
                const rowText = `
                    ${participant.fullname.toLowerCase()} 
                    ${participant.studentId || ''} 
                    ${participant.certificateCode || ''}
                `;
                
                if (rowText.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
        
        function validateCertificate() {
            const code = document.getElementById('certificate-code-input').value.trim();
            const validationResult = document.getElementById('validation-result');
            
            if (!code) {
                alert('Silakan masukkan kode sertifikat');
                return;
            }
            
            // Find participant with this certificate code
            const participant = participantsData.find(p => p.certificateCode === code);
            
            if (participant) {
                validationResult.innerHTML = `
                    <p class="valid-certificate">Sertifikat Valid!</p>
                    <p>Nama: ${participant.fullname}</p>
                    <p>Status: Pelajar</p>
                    <p>Tingkat: ${participant.level || '-'}</p>
                    <p>Kelas: ${participant.grade ? `Kelas ${participant.grade}` : '-'}</p>
                    <p>Mata Ujian: ${participant.subject || '-'}</p>
                    <p>Nilai: ${participant.score}%</p>
                    <p>Tanggal Ujian: ${new Date(participant.examDate).toLocaleDateString('id-ID')}</p>
                `;
                validationResult.style.display = 'block';
            } else {
                validationResult.innerHTML = '<p class="invalid-certificate">Sertifikat Tidak Valid!</p>';
                validationResult.style.display = 'block';
            }
        }
        
        function saveCodes() {
            const newLoginCode = document.getElementById('new-login-code').value;
            const newAdminCode = document.getElementById('new-admin-code').value;
            
            if (newLoginCode) {
                adminSettings.loginCode = newLoginCode;
                document.getElementById('new-login-code').value = '';
            }
            
            if (newAdminCode) {
                adminSettings.adminCode = newAdminCode;
                document.getElementById('new-admin-code').value = '';
            }
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Kode berhasil diubah!');
        }
        
        function saveContent() {
            const greetingMessage = document.getElementById('greeting-message-input').value;
            const adminMessage = document.getElementById('admin-message-input').value;
            const chairmanName = document.getElementById('chairman-name').value;
            
            // Update admin settings
            adminSettings.greetingMessage = greetingMessage;
            adminSettings.adminMessage = adminMessage;
            adminSettings.chairmanName = chairmanName;
            
            // Update UI
            document.getElementById('greeting-text').textContent = greetingMessage;
            document.getElementById('admin-message').textContent = adminMessage;
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Perubahan konten berhasil disimpan!');
        }
        
        function saveSettings() {
            const examDuration = parseInt(document.getElementById('exam-duration').value);
            
            // Update admin settings
            adminSettings.examDuration = examDuration;
            
            // Update subject toggle
            adminSettings.enabledSubjects = {
                "Agama Islam": document.getElementById('toggle-religion').checked
            };
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Pengaturan berhasil disimpan!');
        }
    </script>
</body>
</html>
