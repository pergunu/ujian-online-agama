<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Online Agama Islam PERGUNU Situbondo</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --color-primary: #6a11cb;
            --color-secondary: #2575fc;
            --color-tertiary: #00c6fb;
            --color-success: #4CAF50;
            --color-error: #f44336;
            --color-warning: #ff9800;
            --color-info: #2196F3;
            --color-dark: #1a1a2e;
            --color-light: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary), var(--color-tertiary));
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Particle Background */
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
        }

        #celebration-particles {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            pointer-events: none;
            display: none;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        .logo {
            height: 80px;
            margin-bottom: 15px;
        }

        /* Card Styles */
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        /* Button Styles */
        .btn {
            display: inline-block;
            padding: 12px 25px;
            border-radius: 50px;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            text-decoration: none;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(37, 117, 252, 0.3);
            margin: 5px;
            text-align: center;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(37, 117, 252, 0.4);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-success {
            background: linear-gradient(to right, var(--color-success), #2ecc71);
        }

        .btn-danger {
            background: linear-gradient(to right, var(--color-error), #e74c3c);
        }

        .btn-warning {
            background: linear-gradient(to right, var(--color-warning), #f39c12);
        }

        .btn-info {
            background: linear-gradient(to right, var(--color-info), #3498db);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-secondary);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 0 3px rgba(37, 117, 252, 0.2);
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        /* Radio and Checkbox Styles */
        .radio-group, .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .radio-option, .checkbox-option {
            display: none;
        }

        .radio-label, .checkbox-label {
            padding: 10px 20px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .radio-option:checked + .radio-label,
        .checkbox-option:checked + .checkbox-label {
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            box-shadow: 0 4px 15px rgba(37, 117, 252, 0.3);
        }

        /* Animation Classes */
        .slide-in {
            animation: slideIn 0.5s forwards;
        }

        .slide-out {
            animation: slideOut 0.5s forwards;
        }

        .fade-in {
            animation: fadeIn 0.5s forwards;
        }

        .fade-out {
            animation: fadeOut 0.5s forwards;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-100%); opacity: 0; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        /* Timer Styles */
        .timer {
            font-size: 24px;
            font-weight: 700;
            text-align: center;
            margin: 20px 0;
            color: white;
            transition: all 0.3s ease;
        }

        .timer-warning {
            color: var(--color-warning);
            font-size: 28px;
        }

        .timer-danger {
            color: var(--color-error);
            font-size: 32px;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            z-index: 1000;
            animation: slideUp 0.5s forwards;
            max-width: 90%;
            text-align: center;
        }

        @keyframes slideUp {
            from { bottom: -50px; opacity: 0; }
            to { bottom: 20px; opacity: 1; }
        }

        /* Question Styles */
        .question-container {
            margin-bottom: 30px;
        }

        .question {
            font-size: 18px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .option {
            padding: 15px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .option.correct {
            background: var(--color-success);
            animation: correctAnswer 0.5s;
        }

        .option.incorrect {
            background: var(--color-error);
            animation: incorrectAnswer 0.5s;
        }

        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectAnswer {
            0% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-10px); }
            80% { transform: translateX(10px); }
            100% { transform: translateX(0); }
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            display: none;
        }

        /* Certificate Styles - REVISED FOR PRINTING */
        .certificate {
            background: white;
            color: #333;
            padding: 0;
            border-radius: 0;
            box-shadow: none;
            width: 210mm; /* A4 width */
            height: 297mm; /* A4 height */
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            background-image: url('https://raw.githubusercontent.com/pergunu/ujian-online-agama/main/assets/images/certificate.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            flex-direction: column;
            justify-content: center;
            page-break-after: avoid;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        .certificate-content {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 40px 60px;
            margin: 0 auto;
            width: 80%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .certificate-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--color-primary);
            text-transform: uppercase;
        }

        .certificate-code {
            font-size: 14px;
            margin-bottom: 30px;
            color: #555;
            letter-spacing: 1px;
        }

        .certificate-recipient {
            font-size: 48px;
            margin: 20px 0;
            font-weight: 600;
            color: #333;
            font-family: 'Dancing Script', cursive;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .certificate-body {
            font-size: 16px;
            line-height: 1.6;
            margin: 10px 0;
            color: #333;
        }

        .certificate-score {
            font-size: 28px;
            font-weight: 700;
            color: var(--color-primary);
            margin: 20px 0;
        }

        .certificate-motivation {
            font-style: italic;
            margin: 15px 0;
            font-size: 14px;
            color: #555;
        }

        .certificate-footer {
            margin-top: 30px;
            font-size: 12px;
            color: #555;
        }

        .certificate-signature {
            margin-top: 40px;
            font-size: 14px;
        }

        .certificate-barcode {
            margin: 15px auto;
            height: 80px;
            width: auto;
        }

        /* Floating Button Styles */
        .floating-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 100;
        }

        .floating-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .floating-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .floating-btn .tooltip {
            position: absolute;
            right: 60px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .floating-btn:hover .tooltip {
            opacity: 1;
            right: 70px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            color: #333;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalFadeIn 0.3s;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--color-primary);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        /* Roman numeral styles */
        .roman {
            font-family: 'Times New Roman', serif;
            font-style: italic;
        }

        /* Print Styles - REVISED FOR BETTER PRINTING */
        @media print {
            body * {
                visibility: hidden;
                background: white !important;
                color: black !important;
            }
            
            .certificate, 
            .certificate * {
                visibility: visible;
                background: transparent !important;
                color: #333 !important;
            }
            
            .certificate {
                position: absolute;
                left: 0;
                top: 0;
                width: 210mm !important;
                height: 297mm !important;
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                border-radius: 0 !important;
                background-image: url('https://raw.githubusercontent.com/pergunu/ujian-online-agama/main/assets/images/certificate.png') !important;
                background-size: cover !important;
                background-position: center !important;
                background-repeat: no-repeat !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                page-break-after: avoid !important;
                page-break-inside: avoid !important;
            }
            
            .certificate-content {
                padding: 40px 60px !important;
                margin: 0 auto !important;
                width: 80% !important;
                height: 100% !important;
                display: flex !important;
                flex-direction: column !important;
                justify-content: center !important;
            }
            
            .certificate-recipient {
                font-size: 48px !important;
                font-family: 'Dancing Script', cursive !important;
            }
            
            .floating-buttons, 
            .results-summary, 
            .result-actions {
                display: none !important;
            }
            
            @page {
                size: A4 portrait;
                margin: 0;
            }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .card {
                padding: 20px;
            }
            
            .certificate-content {
                padding: 30px;
                width: 90%;
            }
            
            .certificate-title {
                font-size: 24px;
            }
            
            .certificate-recipient {
                font-size: 36px;
            }
            
            .floating-buttons {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .btn {
                padding: 10px 20px;
                font-size: 14px;
            }
            
            .form-control {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            .certificate-content {
                padding: 20px;
                width: 95%;
            }
            
            .certificate-title {
                font-size: 20px;
            }
            
            .certificate-recipient {
                font-size: 28px;
            }
        }

        /* Admin Panel Specific Styles */
        .admin-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .admin-section h5 {
            color: var(--color-primary);
            margin-bottom: 15px;
            font-size: 18px;
        }

        .admin-controls {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .admin-control-group {
            margin-bottom: 15px;
        }

        .admin-control-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            font-size: 14px;
        }

        .admin-control-input {
            width: 100%;
            padding: 10px 12px;
            border-radius: 6px;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        .admin-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--color-success);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        .participant-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 10px;
        }

        .participant-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }

        .participant-item:last-child {
            border-bottom: none;
        }

        .export-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        /* Table Styles */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 14px;
        }

        .data-table th, .data-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .data-table th {
            background-color: #f5f5f5;
            font-weight: 600;
        }

        .data-table tr:hover {
            background-color: #f9f9f9;
        }

        /* Checkbox styles for participant selection */
        .select-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .select-all-checkbox {
            margin-right: 5px;
        }

        .participant-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        /* Search Box */
        .search-box {
            margin-bottom: 15px;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        /* Edit Participant Modal */
        .edit-participant-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .edit-participant-content {
            background: white;
            color: #333;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .edit-participant-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        /* Certificate Validation Section */
        .certificate-validation {
            margin-top: 20px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 8px;
        }

        .validation-result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        .valid-certificate {
            background-color: #dff0d8;
            color: #3c763d;
        }

        .invalid-certificate {
            background-color: #f2dede;
            color: #a94442;
        }

        /* Alert Styles */
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            font-size: 14px;
        }

        .alert-success {
            background-color: #dff0d8;
            color: #3c763d;
            border: 1px solid #d6e9c6;
        }

        .alert-danger {
            background-color: #f2dede;
            color: #a94442;
            border: 1px solid #ebccd1;
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div id="celebration-particles"></div>
    
    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="card slide-in">
            <div class="header">
                <img src="https://raw.githubusercontent.com/pergunu/ujian-online-agama/main/assets/images/logo.png" alt="PERGUNU Logo" class="logo">
                <h1>Ujian Online Agama Islam PERGUNU Situbondo</h1>
            </div>
            
            <div id="greeting-message">
                <p id="greeting-text">Selamat datang di sistem ujian online Agama Islam PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.</p>
            </div>
            
            <div class="form-group">
                <label for="login-code" class="form-label">Kode Login</label>
                <input type="password" id="login-code" class="form-control" placeholder="Masukkan kode login">
                <small class="text-muted">Kode login diberikan oleh admin</small>
            </div>
            
            <button id="login-btn" class="btn">Masuk</button>
        </div>
        
        <!-- Terms Screen (Hidden Initially) -->
        <div id="terms-screen" class="card" style="display: none;">
            <h2>Peraturan dan Kebijakan Ujian Online</h2>
            <div class="terms-content" style="max-height: 300px; overflow-y: auto; margin: 20px 0; padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                <p>1. Ujian ini dikembangkan oleh Cendhanu Tim Kreator PERGUNU Situbondo.</p>
                <p>2. Peserta wajib mengisi data diri dengan benar dan lengkap.</p>
                <p>3. Dilarang keras melakukan kecurangan selama ujian berlangsung.</p>
                <p>4. Waktu ujian akan berjalan terus dan tidak dapat dihentikan.</p>
                <p>5. Jawaban yang sudah dipilih tidak dapat diubah.</p>
                <p>6. Soal yang tidak dijawab akan dianggap salah.</p>
                <p>7. Hasil ujian akan ditampilkan setelah waktu habis atau peserta menyelesaikan ujian.</p>
                <p>8. Sertifikat akan diberikan kepada peserta yang menyelesaikan ujian.</p>
                <p>9. Keputusan panitia ujian bersifat mutlak dan tidak dapat diganggu gugat.</p>
            </div>
            
            <div class="form-group">
                <input type="checkbox" id="agree-terms" class="checkbox-option">
                <label for="agree-terms" class="checkbox-label">Saya menyetujui</label>
            </div>
            
            <button id="continue-btn" class="btn" disabled>Lanjut Ikut Ujian</button>
        </div>
        
        <!-- Participant Form (Hidden Initially) -->
        <div id="participant-form" class="card" style="display: none;">
            <h2>Formulir Data Peserta</h2>
            <p>Silakan isi data diri Anda dengan benar. Data ini akan digunakan untuk sertifikat ujian.</p>
            
            <div class="form-group">
                <label for="fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="fullname" class="form-control" placeholder="Masukkan nama lengkap" pattern="[A-Za-z ]+" title="Hanya huruf diperbolehkan" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Status</label>
                <div class="radio-group">
                    <input type="radio" id="status-student" name="status" value="pelajar" class="radio-option" checked>
                    <label for="status-student" class="radio-label">Pelajar</label>
                </div>
            </div>
            
            <!-- Student Fields -->
            <div id="student-fields">
                <div class="form-group">
                    <label for="school-name" class="form-label">Nama Sekolah</label>
                    <input type="text" id="school-name" class="form-control" placeholder="Masukkan nama sekolah">
                </div>
                
                <div class="form-group">
                    <label for="student-id" class="form-label">NIS (Nomor Induk Siswa)</label>
                    <input type="text" id="student-id" class="form-control" placeholder="Masukkan NIS" pattern="[0-9]+" title="Hanya angka diperbolehkan" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tujuan Ikut Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="purpose-task" name="purpose" value="Tugas Sekolah" class="radio-option">
                        <label for="purpose-task" class="radio-label">Tugas Sekolah</label>
                        
                        <input type="radio" id="purpose-exam" name="purpose" value="Tugas Ulangan" class="radio-option">
                        <label for="purpose-exam" class="radio-label">Tugas Ulangan</label>
                        
                        <input type="radio" id="purpose-test" name="purpose" value="Tes dan Belajar" class="radio-option">
                        <label for="purpose-test" class="radio-label">Tes dan Belajar</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tingkat Sekolah</label>
                    <div class="radio-group">
                        <input type="radio" id="level-elementary" name="level" value="SD" class="radio-option">
                        <label for="level-elementary" class="radio-label">SD</label>
                        
                        <input type="radio" id="level-junior" name="level" value="SMP" class="radio-option">
                        <label for="level-junior" class="radio-label">SMP</label>
                        
                        <input type="radio" id="level-senior" name="level" value="SMA/SMK" class="radio-option">
                        <label for="level-senior" class="radio-label">SMA/SMK</label>
                    </div>
                </div>
            </div>
            
            <!-- Grade Selection (Will be shown based on school level) -->
            <div id="grade-selection" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Kelas</label>
                    <div class="radio-group" id="grade-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Subject Selection -->
            <div id="subject-selection" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Pilih Jenis Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="subject-religion" name="subject" value="Agama Islam" class="radio-option" checked>
                        <label for="subject-religion" class="radio-label">Agama Islam</label>
                    </div>
                </div>
            </div>
            
            <!-- Admin Information -->
            <div class="form-group" id="admin-info" style="margin-top: 30px;">
                <p>Informasi berkala dari admin:</p>
                <div style="padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                    <p id="admin-message">Tidak ada informasi terbaru saat ini.</p>
                </div>
            </div>
            
            <button id="save-participant-btn" class="btn" disabled>Simpan & Ikut Ujian</button>
        </div>
        
        <!-- Exam Screen (Hidden Initially) -->
        <div id="exam-screen" class="card" style="display: none;">
            <div class="timer" id="exam-timer">02:00:00</div>
            
            <div class="question-container">
                <div class="question" id="question-text">Memuat soal...</div>
                <div id="question-image-container" style="margin-bottom: 15px;"></div>
                
                <div class="options" id="options-container">
                    <!-- Options will be populated by JavaScript -->
                </div>
                
                <div class="explanation" id="explanation-text">
                    <!-- Explanation will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="exam-controls">
                <button id="finish-exam-btn" class="btn btn-danger">Selesaikan Ujian Sekarang</button>
                <button id="skip-question-btn" class="btn btn-warning">Lewati Soal</button>
                <button id="unanswered-btn" class="btn btn-info">Soal Belum Dijawab</button>
            </div>
        </div>
        
        <!-- Results Screen (Hidden Initially) -->
        <div id="results-screen" class="card" style="display: none;">
            <h2>Hasil Ujian</h2>
            
            <div class="results-summary">
                <p>Nama: <span id="result-name"></span></p>
                <p>Status: <span id="result-status"></span></p>
                <p>Tingkat: <span id="result-level"></span></p>
                <p>Kelas: <span id="result-grade"></span></p>
                <p>Mata Ujian: <span id="result-subject"></span></p>
                <p>Jumlah Soal: <span id="total-questions"></span></p>
                <p>Jawaban Benar: <span id="correct-answers"></span></p>
                <p>Jawaban Salah: <span id="wrong-answers"></span></p>
                <p>Tidak Dijawab: <span id="unanswered-questions"></span></p>
                <p>Nilai: <span id="exam-score"></span></p>
            </div>
            
            <div class="certificate-container" id="certificate-container" style="display: none;">
                <!-- Certificate will be generated here -->
            </div>
            
            <div class="result-actions">
                <button id="print-certificate-btn" class="btn btn-success">Cetak Sertifikat</button>
                <button id="retake-exam-btn" class="btn btn-info">Ulangi Ujian</button>
            </div>
        </div>
    </div>
    
    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <button class="floating-btn" id="whatsapp-btn">
            <i class="fab fa-whatsapp"></i>
            <span class="tooltip">Chat Admin</span>
        </button>
        
        <button class="floating-btn" id="admin-panel-btn">
            <i class="fas fa-cog"></i>
            <span class="tooltip">Admin Panel</span>
        </button>
    </div>
    
    <!-- Admin Panel Modal -->
    <div class="modal" id="admin-panel-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Kontrol Panel Admin</h3>
                <button class="modal-close" id="close-admin-panel-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="admin-panel-code" class="form-label">Kode Admin</label>
                    <input type="password" id="admin-panel-code" class="form-control" placeholder="Masukkan kode admin" style="color: #333;">
                    <button id="submit-admin-panel-code" class="btn">Masuk</button>
                </div>
                
                <div id="admin-panel-content" style="display: none;">
                    <div class="admin-section">
                        <h5>Pengaturan Kode</h5>
                        <div class="form-group">
                            <label class="form-label">Kode Login Baru</label>
                            <input type="password" id="new-login-code" class="form-control" placeholder="Masukkan kode login baru" style="color: #333;">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Kode Admin Baru</label>
                            <input type="password" id="new-admin-code" class="form-control" placeholder="Masukkan kode admin baru" style="color: #333;">
                        </div>
                        
                        <button id="save-codes-btn" class="btn btn-success">Simpan Kode</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Ujian</h5>
                        <div class="admin-controls">
                            <div class="admin-control-group">
                                <label class="admin-control-label">Durasi Ujian (menit)</label>
                                <input type="number" id="exam-duration" class="admin-control-input" value="120" min="5" max="300">
                            </div>
                            <div class="admin-control-group">
                                <label class="admin-control-label">Jumlah Soal</label>
                                <select id="question-count" class="admin-control-input">
                                    <option value="5">5</option>
                                    <option value="10">10</option>
                                    <option value="15">15</option>
                                    <option value="20">20</option>
                                    <option value="25">25</option>
                                    <option value="30">30</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                    <option value="150">150</option>
                                </select>
                            </div>
                        </div>
                        <div class="admin-control-group">
                            <label class="admin-control-label">Acak Soal</label>
                            <div class="admin-toggle">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="randomize-questions" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span id="randomize-status">Aktif</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Konten</h5>
                        <div class="form-group">
                            <label class="form-label">Pesan Pembuka</label>
                            <textarea id="greeting-message-input" class="form-control" rows="3" style="color: #333;">Selamat datang di sistem ujian online Agama Islam PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Pesan Informasi Berkala</label>
                            <textarea id="admin-message-input" class="form-control" rows="3" style="color: #333;">Tidak ada informasi terbaru saat ini.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Nama Ketua PERGUNU</label>
                            <input type="text" id="chairman-name" class="form-control" value="Moh. Nuril Hudha, S.Pd., M.Si." style="color: #333;">
                        </div>
                        <button id="save-content-btn" class="btn btn-success">Simpan Perubahan</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Manajemen Peserta</h5>
                        <div class="search-box">
                            <input type="text" id="participant-search" class="search-input" placeholder="Cari peserta berdasarkan nama, NIS, atau kode sertifikat...">
                        </div>
                        <div class="participant-actions">
                            <button id="select-all-participants" class="btn btn-info">
                                <input type="checkbox" id="select-all-checkbox" class="select-all-checkbox">
                                Pilih Semua
                            </button>
                            <button id="edit-selected-participants" class="btn btn-warning" disabled>
                                <i class="fas fa-edit"></i> Edit Terpilih
                            </button>
                            <button id="delete-selected-participants" class="btn btn-danger" disabled>
                                <i class="fas fa-trash"></i> Hapus Terpilih
                            </button>
                        </div>
                        <div class="participant-list">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th width="30px">
                                            <!-- Select all checkbox -->
                                        </th>
                                        <th>Tanggal</th>
                                        <th>Nama</th>
                                        <th>NIS</th>
                                        <th>Status</th>
                                        <th>Tingkat</th>
                                        <th>Kelas</th>
                                        <th>Mata Ujian</th>
                                        <th>Nilai</th>
                                        <th>Kode Sertifikat</th>
                                    </tr>
                                </thead>
                                <tbody id="participants-table-body">
                                    <!-- Participant data will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Validasi Sertifikat</h5>
                        <div class="certificate-validation">
                            <div class="form-group">
                                <label class="form-label">Masukkan Kode Sertifikat</label>
                                <input type="text" id="certificate-code-input" class="form-control" placeholder="Masukkan kode sertifikat" style="color: #333;">
                                <button id="validate-certificate-btn" class="btn btn-info">Validasi</button>
                            </div>
                            <div id="validation-result" class="validation-result" style="display: none;">
                                <!-- Validation result will be shown here -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Aktifkan/Nonaktifkan Ujian</h5>
                        <div class="admin-control-group">
                            <label class="admin-control-label">Agama Islam</label>
                            <div class="admin-toggle">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="toggle-religion" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span id="religion-status">Aktif</span>
                            </div>
                        </div>
                        <button id="save-settings-btn" class="btn btn-success">Simpan Pengaturan</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Edit Participant Modal -->
    <div class="edit-participant-modal" id="edit-participant-modal">
        <div class="edit-participant-content">
            <span class="edit-participant-close" id="close-edit-participant-modal">&times;</span>
            <h3>Edit Data Peserta</h3>
            
            <div class="form-group">
                <label for="edit-fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="edit-fullname" class="form-control" style="color: #333;" pattern="[A-Za-z ]+" title="Hanya huruf diperbolehkan" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Status</label>
                <div class="radio-group">
                    <input type="radio" id="edit-status-student" name="edit-status" value="pelajar" class="radio-option" checked>
                    <label for="edit-status-student" class="radio-label">Pelajar</label>
                </div>
            </div>
            
            <div id="edit-student-fields">
                <div class="form-group">
                    <label for="edit-school-name" class="form-label">Nama Sekolah</label>
                    <input type="text" id="edit-school-name" class="form-control" style="color: #333;">
                </div>
                
                <div class="form-group">
                    <label for="edit-student-id" class="form-label">NIS (Nomor Induk Siswa)</label>
                    <input type="text" id="edit-student-id" class="form-control" style="color: #333;" pattern="[0-9]+" title="Hanya angka diperbolehkan" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tujuan Ikut Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="edit-purpose-task" name="edit-purpose" value="Tugas Sekolah" class="radio-option">
                        <label for="edit-purpose-task" class="radio-label">Tugas Sekolah</label>
                        
                        <input type="radio" id="edit-purpose-exam" name="edit-purpose" value="Tugas Ulangan" class="radio-option">
                        <label for="edit-purpose-exam" class="radio-label">Tugas Ulangan</label>
                        
                        <input type="radio" id="edit-purpose-test" name="edit-purpose" value="Tes dan Belajar" class="radio-option">
                        <label for="edit-purpose-test" class="radio-label">Tes dan Belajar</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tingkat Sekolah</label>
                    <div class="radio-group">
                        <input type="radio" id="edit-level-elementary" name="edit-level" value="SD" class="radio-option">
                        <label for="edit-level-elementary" class="radio-label">SD</label>
                        
                        <input type="radio" id="edit-level-junior" name="edit-level" value="SMP" class="radio-option">
                        <label for="edit-level-junior" class="radio-label">SMP</label>
                        
                        <input type="radio" id="edit-level-senior" name="edit-level" value="SMA/SMK" class="radio-option">
                        <label for="edit-level-senior" class="radio-label">SMA/SMK</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Kelas</label>
                    <div class="radio-group" id="edit-grade-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Mata Ujian</label>
                <select id="edit-subject" class="form-control" style="color: #333;">
                    <option value="Agama Islam">Agama Islam</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="edit-score" class="form-label">Nilai</label>
                <input type="number" id="edit-score" class="form-control" min="0" max="100" style="color: #333;">
            </div>
            
            <div class="form-group">
                <label for="edit-certificate-code" class="form-label">Kode Sertifikat</label>
                <input type="text" id="edit-certificate-code" class="form-control" style="color: #333;" readonly>
            </div>
            
            <button id="save-edit-participant-btn" class="btn btn-success">Simpan Perubahan</button>
            
            <input type="hidden" id="edit-participant-index">
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="time-warning" style="display: none;">
        Perhatian! Ujian akan berakhir dalam waktu 10 menit. Mohon pastikan semua jawaban telah diselesaikan dan diperiksa sebelum waktu habis. Terima kasih atas partisipasi Anda.
    </div>

    <!-- Audio Elements -->
    <audio id="button-sound" src="https://github.com/pergunu/ujian-online-agama/raw/main/assets/audio/audiotombol.mp3" preload="auto"></audio>
    <audio id="correct-answer-sound" src="https://github.com/pergunu/ujian-online-agama/raw/main/assets/audio/jawabanbenar.mp3" preload="auto"></audio>
    <audio id="wrong-answer-sound" src="https://github.com/pergunu/ujian-online-agama/raw/main/assets/audio/jawabansalah.mp3" preload="auto"></audio>
    <audio id="certificate-sound" src="https://github.com/pergunu/ujian-online-agama/raw/main/assets/audio/applause.mp3" preload="auto"></audio>
    <audio id="opening-sound" src="https://github.com/pergunu/ujian-online-agama/raw/main/assets/audio/opening.mp3" preload="auto"></audio>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // Global variables
        let currentScreen = 'welcome';
        let participantData = {};
        let examData = {};
        let questions = [];
        let currentQuestionIndex = 0;
        let answeredQuestions = {};
        let examTimer;
        let examTimeLeft = 120 * 60; // 120 minutes in seconds
        let selectedParticipants = [];
        
        // Audio elements
        const buttonSound = document.getElementById('button-sound');
        const correctAnswerSound = document.getElementById('correct-answer-sound');
        const wrongAnswerSound = document.getElementById('wrong-answer-sound');
        const certificateSound = document.getElementById('certificate-sound');
        const openingSound = document.getElementById('opening-sound');
        
        // Default codes (should be changed in production)
        const DEFAULT_LOGIN_CODE = '12345';
        const DEFAULT_ADMIN_PANEL_CODE = '65614222';
        
        // Store participants data
        let participantsData = JSON.parse(localStorage.getItem('participantsData')) || [];
        
        // Store admin settings
        let adminSettings = JSON.parse(localStorage.getItem('adminSettings')) || {
            loginCode: DEFAULT_LOGIN_CODE,
            adminCode: DEFAULT_ADMIN_PANEL_CODE,
            examDuration: 120,
            questionCount: 50,
            randomizeQuestions: true,
            greetingMessage: "Selamat datang di sistem ujian online Agama Islam PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.",
            adminMessage: "Tidak ada informasi terbaru saat ini.",
            chairmanName: "Moh. Nuril Hudha, S.Pd., M.Si.",
            enabledSubjects: {
                "Agama Islam": true
            }
        };

        // Question bank structure with levels (Agama Islam only)
        let QUESTION_BANK = {
            'SD': {
                'Agama Islam': [
                    {
                question: "Rukun Islam yang pertama adalah...",
                options: [
                    "A. Shalat lima waktu",
                    "B. Puasa Ramadhan",
                    "C. Mengucapkan dua kalimat syahadat",
                    "D. Zakat",
                    "E. Haji jika mampu"
                ],
                correctAnswer: 2,
                explanation: "Rukun Islam yang pertama adalah mengucapkan dua kalimat syahadat, yaitu bersaksi bahwa tidak ada Tuhan selain Allah dan Muhammad adalah utusan Allah."
            },
            {
                question: "Nabi Muhammad SAW menerima wahyu pertama kali di...",
                options: [
                    "A. Masjidil Haram",
                    "B. Gua Hira",
                    "C. Jabal Nur",
                    "D. Masjid Nabawi",
                    "E. Bukit Thursina"
                ],
                correctAnswer: 1,
                explanation: "Nabi Muhammad SAW menerima wahyu pertama kali di Gua Hira ketika beliau berusia 40 tahun. Wahyu pertama adalah surat Al-Alaq ayat 1-5."
            },
            {
                question: "Malaikat yang bertugas menyampaikan wahyu kepada nabi dan rasul adalah...",
                options: [
                    "A. Malaikat Jibril",
                    "B. Malaikat Mikail",
                    "C. Malaikat Israfil",
                    "D. Malaikat Izrail",
                    "E. Malaikat Munkar"
                ],
                correctAnswer: 0,
                explanation: "Malaikat Jibril bertugas menyampaikan wahyu dari Allah SWT kepada para nabi dan rasul, termasuk kepada Nabi Muhammad SAW."
            },
            {
                question: "Kitab suci yang diturunkan kepada Nabi Musa AS adalah...",
                options: [
                    "A. Zabur",
                    "B. Taurat",
                    "C. Injil",
                    "D. Al-Quran",
                    "E. Shuhuf"
                ],
                correctAnswer: 1,
                explanation: "Kitab Taurat diturunkan kepada Nabi Musa AS sebagai petunjuk bagi Bani Israil. Kitab ini berisi hukum-hukum dasar dan ajaran tauhid."
            },
            {
                question: "Shalat wajib yang dilaksanakan pada pagi hari sebelum matahari terbit adalah...",
                options: [
                    "A. Shalat Dzuhur",
                    "B. Shalat Ashar",
                    "C. Shalat Maghrib",
                    "D. Shalat Isya",
                    "E. Shalat Subuh"
                ],
                correctAnswer: 4,
                explanation: "Shalat Subuh adalah shalat wajib yang dilaksanakan pada waktu fajar hingga sebelum matahari terbit, terdiri dari 2 rakaat."
            },
            {
                question: "Nabi yang diberi mukjizat bisa berbicara dengan hewan adalah...",
                options: [
                    "A. Nabi Ibrahim AS",
                    "B. Nabi Musa AS",
                    "C. Nabi Isa AS",
                    "D. Nabi Sulaiman AS",
                    "E. Nabi Yusuf AS"
                ],
                correctAnswer: 3,
                explanation: "Nabi Sulaiman AS diberi mukjizat oleh Allah SWT untuk bisa berbicara dengan hewan dan menguasai bangsa jin serta angin."
            },
            {
                question: "Surat dalam Al-Quran yang pertama kali diturunkan secara lengkap adalah...",
                options: [
                    "A. Al-Fatihah",
                    "B. Al-Ikhlas",
                    "C. Al-Alaq",
                    "D. An-Nas",
                    "E. Al-Baqarah"
                ],
                correctAnswer: 0,
                explanation: "Surat Al-Fatihah adalah surat pertama yang diturunkan secara lengkap kepada Nabi Muhammad SAW dan disebut juga sebagai Ummul Quran (induk Al-Quran)."
            },
            {
                question: "Rukun iman yang ketiga adalah iman kepada...",
                options: [
                    "A. Allah SWT",
                    "B. Malaikat",
                    "C. Kitab-kitab Allah",
                    "D. Rasul",
                    "E. Hari akhir"
                ],
                correctAnswer: 2,
                explanation: "Rukun iman yang ketiga adalah iman kepada kitab-kitab Allah, yaitu percaya bahwa Allah telah menurunkan kitab suci kepada para nabi sebagai petunjuk."
            },
            {
                question: "Nabi Muhammad SAW dilahirkan di kota...",
                options: [
                    "A. Madinah",
                    "B. Mekah",
                    "C. Yatsrib",
                    "D. Thaif",
                    "E. Yerusalem"
                ],
                correctAnswer: 1,
                explanation: "Nabi Muhammad SAW dilahirkan di kota Mekah pada tanggal 12 Rabiul Awal tahun Gajah. Kelahirannya membawa rahmat bagi seluruh alam."
            },
            {
                question: "Sifat wajib bagi Allah SWT yang berarti Maha Esa adalah...",
                options: [
                    "A. Qidam",
                    "B. Baqa",
                    "C. Wahdaniyah",
                    "D. Qudrat",
                    "E. Iradat"
                ],
                correctAnswer: 2,
                explanation: "Wahdaniyah adalah sifat wajib Allah yang berarti Maha Esa, tidak ada sekutu bagi-Nya dalam dzat, sifat, maupun perbuatan."
            },
            {
                question: "Tempat suci umat Islam yang menjadi kiblat shalat adalah...",
                options: [
                    "A. Masjid Nabawi",
                    "B. Masjidil Aqsa",
                    "C. Ka'bah",
                    "D. Jabal Rahmah",
                    "E. Gua Hira"
                ],
                correctAnswer: 2,
                explanation: "Ka'bah yang terletak di Masjidil Haram, Mekah, adalah kiblat umat Islam di seluruh dunia ketika melaksanakan shalat."
            },
            {
                question: "Nabi yang terkenal dengan kesabarannya meskipun diuji dengan berbagai cobaan adalah...",
                options: [
                    "A. Nabi Adam AS",
                    "B. Nabi Nuh AS",
                    "C. Nabi Ayyub AS",
                    "D. Nabi Yunus AS",
                    "E. Nabi Hud AS"
                ],
                correctAnswer: 2,
                explanation: "Nabi Ayyub AS terkenal dengan kesabarannya yang luar biasa ketika diuji Allah dengan kehilangan harta, keluarga, dan kesehatan selama bertahun-tahun."
            },
            {
                question: "Waktu yang mustajab untuk berdoa adalah ketika...",
                options: [
                    "A. Sebelum tidur",
                    "B. Saat matahari terbit",
                    "C. Di antara adzan dan iqamah",
                    "D. Setelah makan",
                    "E. Saat hujan turun"
                ],
                correctAnswer: 2,
                explanation: "Waktu antara adzan dan iqamah adalah waktu yang mustajab untuk berdoa, sebagaimana disebutkan dalam hadits Rasulullah SAW."
            },
            {
                question: "Nama lain dari hari kiamat adalah Yaumul...",
                options: [
                    "A. Mizan",
                    "B. Hisab",
                    "C. Jaza",
                    "D. Qiyamah",
                    "E. Ba'ts"
                ],
                correctAnswer: 3,
                explanation: "Hari kiamat disebut juga Yaumul Qiyamah yang berarti hari berbangkit, yaitu hari ketika seluruh makhluk dibangkitkan dari kubur untuk mempertanggungjawabkan amal perbuatannya."
            },
            {
                question: "Malaikat yang bertugas meniup sangkakala pada hari kiamat adalah...",
                options: [
                    "A. Malaikat Jibril",
                    "B. Malaikat Mikail",
                    "C. Malaikat Israfil",
                    "D. Malaikat Izrail",
                    "E. Malaikat Raqib"
                ],
                correctAnswer: 2,
                explanation: "Malaikat Israfil bertugas meniup sangkakala (terompet) pada hari kiamat. Tiupan pertama menghancurkan alam semesta, tiupan kedua membangkitkan manusia."
            },
            {
                question: "Nabi Muhammad SAW melakukan Isra' Mi'raj dari Masjidil Haram ke...",
                options: [
                    "A. Masjid Nabawi",
                    "B. Masjidil Aqsa",
                    "C. Masjid Quba",
                    "D. Masjid Qiblatain",
                    "E. Masjid Kuba"
                ],
                correctAnswer: 1,
                explanation: "Dalam peristiwa Isra' Mi'raj, Nabi Muhammad SAW melakukan perjalanan dari Masjidil Haram di Mekah ke Masjidil Aqsa di Palestina, kemudian naik ke Sidratul Muntaha."
            },
            {
                question: "Puasa yang diwajibkan bagi umat Islam adalah puasa di bulan...",
                options: [
                    "A. Syawal",
                    "B. Rajab",
                    "C. Ramadhan",
                    "D. Dzulhijjah",
                    "E. Muharram"
                ],
                correctAnswer: 2,
                explanation: "Puasa Ramadhan adalah puasa wajib yang dilaksanakan selama satu bulan penuh di bulan Ramadhan, sebagai rukun Islam yang keempat."
            },
            {
                question: "Zakat yang wajib dikeluarkan setelah melaksanakan puasa Ramadhan disebut zakat...",
                options: [
                    "A. Fitrah",
                    "B. Mal",
                    "C. Perniagaan",
                    "D. Pertanian",
                    "E. Emas"
                ],
                correctAnswer: 0,
                explanation: "Zakat fitrah adalah zakat yang wajib dikeluarkan oleh setiap muslim sebelum pelaksanaan shalat Idul Fitri, berupa bahan makanan pokok sebesar 2,5 kg atau setara."
            },
            {
                question: "Nabi Muhammad SAW mendapatkan gelar Al-Amin yang berarti...",
                options: [
                    "A. Yang bijaksana",
                    "B. Yang dapat dipercaya",
                    "C. Yang pemberani",
                    "D. Yang penyayang",
                    "E. Yang sabar"
                ],
                correctAnswer: 1,
                explanation: "Al-Amin berarti 'yang dapat dipercaya', gelar yang diberikan kepada Nabi Muhammad SAW oleh masyarakat Mekah karena kejujuran dan integritas beliau."
            },
            {
                question: "Surah dalam Al-Quran yang menjelaskan tentang tauhid adalah...",
                options: [
                    "A. Al-Fatihah",
                    "B. Al-Ikhlas",
                    "C. An-Nas",
                    "D. Al-Falaq",
                    "E. Al-Kautsar"
                ],
                correctAnswer: 1,
                explanation: "Surat Al-Ikhlas menjelaskan tentang konsep tauhid yang murni, menyatakan keesaan Allah SWT dan penolakan terhadap segala bentuk syirik."
            },
            {
                question: "Tempat berkumpulnya manusia pada hari kiamat disebut...",
                options: [
                    "A. Surga",
                    "B. Neraka",
                    "C. Mahsyar",
                    "D. Shirath",
                    "E. Mizan"
                ],
                correctAnswer: 2,
                explanation: "Padang Mahsyar adalah tempat berkumpulnya seluruh manusia setelah dibangkitkan dari kubur untuk menunggu proses hisab (perhitungan amal)."
            },
            {
                question: "Malaikat yang bertugas mencabut nyawa adalah...",
                options: [
                    "A. Malaikat Jibril",
                    "B. Malaikat Mikail",
                    "C. Malaikat Israfil",
                    "D. Malaikat Izrail",
                    "E. Malaikat Munkar"
                ],
                correctAnswer: 3,
                explanation: "Malaikat Izrail bertugas mencabut nyawa semua makhluk hidup ketika ajal telah tiba sesuai dengan ketetapan Allah SWT."
            },
            {
                question: "Nabi yang diberi mukjizat bisa membelah laut adalah...",
                options: [
                    "A. Nabi Ibrahim AS",
                    "B. Nabi Musa AS",
                    "C. Nabi Isa AS",
                    "D. Nabi Yusuf AS",
                    "E. Nabi Yunus AS"
                ],
                correctAnswer: 1,
                explanation: "Nabi Musa AS diberi mukjizat oleh Allah SWT untuk membelah laut dengan tongkatnya ketika dikejar oleh Firaun dan tentaranya."
            },
            {
                question: "Shalat sunnah yang dilaksanakan sebelum shalat Subuh adalah...",
                options: [
                    "A. Tahajud",
                    "B. Witir",
                    "C. Rawatib",
                    "D. Dhuha",
                    "E. Qabliyah Subuh"
                ],
                correctAnswer: 4,
                explanation: "Shalat sunnah qabliyah Subuh atau shalat sunnah fajar adalah shalat sunnah 2 rakaat yang dilaksanakan sebelum shalat Subuh."
            },
            {
                question: "Nabi yang pertama kali diberikan kemampuan membuat baju besi adalah...",
                options: [
                    "A. Nabi Daud AS",
                    "B. Nabi Sulaiman AS",
                    "C. Nabi Ibrahim AS",
                    "D. Nabi Musa AS",
                    "E. Nabi Isa AS"
                ],
                correctAnswer: 0,
                explanation: "Nabi Daud AS diberi keahlian oleh Allah untuk melunakkan besi dan membuat baju besi, sebagaimana disebutkan dalam Al-Quran surat Saba' ayat 10-11."
            },
            {
                question: "Tahun kelahiran Nabi Muhammad SAW dikenal sebagai tahun...",
                options: [
                    "A. Tahun Gajah",
                    "B. Tahun Kelaparan",
                    "C. Tahun Kemenangan",
                    "D. Tahun Hijrah",
                    "E. Tahun Penaklukan"
                ],
                correctAnswer: 0,
                explanation: "Nabi Muhammad SAW dilahirkan pada tahun Gajah, yaitu tahun ketika pasukan gajah pimpinan Abrahah menyerang Ka'bah tetapi dihancurkan oleh Allah SWT."
            },
            {
                question: "Malaikat yang bertugas mencatat amal baik manusia adalah...",
                options: [
                    "A. Malaikat Raqib",
                    "B. Malaikat Atid",
                    "C. Malaikat Munkar",
                    "D. Malaikat Nakir",
                    "E. Malaikat Malik"
                ],
                correctAnswer: 0,
                explanation: "Malaikat Raqib bertugas mencatat semua amal baik manusia, sedangkan Malaikat Atid mencatat amal buruk, sebagaimana disebutkan dalam Al-Quran surat Qaf ayat 18."
            },
            {
                question: "Nabi yang terkenal dengan cerita bahtera (perahu) besar adalah...",
                options: [
                    "A. Nabi Adam AS",
                    "B. Nabi Nuh AS",
                    "C. Nabi Hud AS",
                    "D. Nabi Shaleh AS",
                    "E. Nabi Ibrahim AS"
                ],
                correctAnswer: 1,
                explanation: "Nabi Nuh AS membangun bahtera besar atas perintah Allah untuk menyelamatkan kaumnya yang beriman dari banjir besar yang menenggelamkan orang-orang kafir."
            },
            {
                question: "Shalat yang jumlah rakaatnya paling banyak adalah shalat...",
                options: [
                    "A. Subuh",
                    "B. Dzuhur",
                    "C. Ashar",
                    "D. Maghrib",
                    "E. Isya"
                ],
                correctAnswer: 4,
                explanation: "Shalat Isya adalah shalat wajib dengan jumlah rakaat terbanyak (4 rakaat), sama dengan Dzuhur dan Ashar, tetapi ditambah dengan shalat sunnah ba'diyah dan witir."
            },
            {
                question: "Nabi Muhammad SAW diangkat menjadi rasul pada usia...",
                options: [
                    "A. 25 tahun",
                    "B. 30 tahun",
                    "C. 35 tahun",
                    "D. 40 tahun",
                    "E. 45 tahun"
                ],
                correctAnswer: 3,
                explanation: "Nabi Muhammad SAW diangkat menjadi rasul pada usia 40 tahun ketika menerima wahyu pertama di Gua Hira, yaitu surat Al-Alaq ayat 1-5."
            },
            {
                question: "Sifat mustahil bagi rasul yang berarti berdusta adalah...",
                options: [
                    "A. Kidzib",
                    "B. Khianat",
                    "C. Kitman",
                    "D. Jahlun",
                    "E. Baladah"
                ],
                correctAnswer: 0,
                explanation: "Kidzib adalah sifat mustahil bagi rasul yang berarti berdusta. Mustahil rasul berdusta karena mereka terjaga dari perbuatan dosa (maksum)."
            },
            {
                question: "Nabi yang diberi mukjizat bisa menghidupkan orang mati atas izin Allah adalah...",
                options: [
                    "A. Nabi Ibrahim AS",
                    "B. Nabi Musa AS",
                    "C. Nabi Isa AS",
                    "D. Nabi Muhammad SAW",
                    "E. Nabi Sulaiman AS"
                ],
                correctAnswer: 2,
                explanation: "Nabi Isa AS diberi mukjizat oleh Allah SWT untuk menghidupkan orang mati, menyembuhkan orang buta, dan menyembuhkan penyakit lepra atas izin Allah."
            },
            {
                question: "Tempat yang pertama kali diciptakan Allah SWT adalah...",
                options: [
                    "A. Surga",
                    "B. Neraka",
                    "C. Bumi",
                    "D. Arsy",
                    "E. Ka'bah"
                ],
                correctAnswer: 2,
                explanation: "Bumi adalah tempat pertama yang diciptakan Allah SWT, kemudian langit dan segala isinya, sebagaimana disebutkan dalam beberapa hadits Rasulullah SAW."
            },
            {
                question: "Nabi yang diberi gelar Khalilullah (kekasih Allah) adalah...",
                options: [
                    "A. Nabi Adam AS",
                    "B. Nabi Nuh AS",
                    "C. Nabi Ibrahim AS",
                    "D. Nabi Musa AS",
                    "E. Nabi Isa AS"
                ],
                correctAnswer: 2,
                explanation: "Nabi Ibrahim AS diberi gelar Khalilullah (kekasih Allah) karena keteguhan imannya dan kesediaannya untuk mengorbankan anaknya Ismail demi perintah Allah."
            },
            {
                question: "Malaikat yang bertugas menjaga pintu neraka adalah...",
                options: [
                    "A. Malaikat Jibril",
                    "B. Malaikat Mikail",
                    "C. Malaikat Malik",
                    "D. Malaikat Ridwan",
                    "E. Malaikat Harut"
                ],
                correctAnswer: 2,
                explanation: "Malaikat Malik bertugas menjaga pintu neraka dan mengawasi penyiksaan terhadap penghuni neraka, sebagaimana disebutkan dalam Al-Quran surat Az-Zukhruf ayat 77."
            },
            {
                question: "Nabi Muhammad SAW hijrah dari Mekah ke Madinah pada tahun...",
                options: [
                    "A. 610 M",
                    "B. 615 M",
                    "C. 620 M",
                    "D. 622 M",
                    "E. 630 M"
                ],
                correctAnswer: 3,
                explanation: "Peristiwa hijrah Nabi Muhammad SAW dari Mekah ke Madinah terjadi pada tahun 622 M, yang kemudian menjadi awal penanggalan tahun Hijriyah."
            },
            {
                question: "Sifat wajib bagi Allah SWT yang berarti Maha Kekal adalah...",
                options: [
                    "A. Qidam",
                    "B. Baqa",
                    "C. Mukhalafatu lil hawadits",
                    "D. Qiyamuhu binafsihi",
                    "E. Wahdaniyah"
                ],
                correctAnswer: 1,
                explanation: "Baqa adalah sifat wajib Allah yang berarti Maha Kekal, tidak akan pernah binasa atau mati, berbeda dengan makhluk-Nya yang pasti akan binasa."
            },
            {
                question: "Nabi yang terkenal dengan cerita dibuang ke sumur oleh saudara-saudaranya adalah...",
                options: [
                    "A. Nabi Ismail AS",
                    "B. Nabi Ishaq AS",
                    "C. Nabi Ya'qub AS",
                    "D. Nabi Yusuf AS",
                    "E. Nabi Ayyub AS"
                ],
                correctAnswer: 3,
                explanation: "Nabi Yusuf AS dibuang ke sumur oleh saudara-saudaranya karena iri dengki, kemudian ditemukan oleh kafilah dan dijual sebagai budak di Mesir."
            },
            {
                question: "Shalat sunnah yang dilaksanakan pada malam hari setelah tidur adalah...",
                options: [
                    "A. Tahajud",
                    "B. Witir",
                    "C. Tarawih",
                    "D. Dhuha",
                    "E. Hajat"
                ],
                correctAnswer: 0,
                explanation: "Shalat Tahajud adalah shalat sunnah yang dilaksanakan pada malam hari setelah bangun tidur, biasanya pada sepertiga malam terakhir."
            },
            {
                question: "Nabi yang diberi mukjizat bisa membuat burung dari tanah liat adalah...",
                options: [
                    "A. Nabi Ibrahim AS",
                    "B. Nabi Musa AS",
                    "C. Nabi Isa AS",
                    "D. Nabi Muhammad SAW",
                    "E. Nabi Sulaiman AS"
                ],
                correctAnswer: 2,
                explanation: "Nabi Isa AS diberi mukjizat oleh Allah SWT untuk membuat burung dari tanah liat kemudian meniupnya sehingga menjadi burung yang hidup dengan izin Allah."
            },
            {
                question: "Surah terpanjang dalam Al-Quran adalah...",
                options: [
                    "A. Al-Baqarah",
                    "B. Ali Imran",
                    "C. An-Nisa",
                    "D. Al-Maidah",
                    "E. Al-An'am"
                ],
                correctAnswer: 0,
                explanation: "Surat Al-Baqarah adalah surat terpanjang dalam Al-Quran dengan 286 ayat, berisi berbagai hukum, kisah, dan pelajaran bagi umat Islam."
            },
            {
                question: "Malaikat yang bertugas menjaga pintu surga adalah...",
                options: [
                    "A. Malaikat Jibril",
                    "B. Malaikat Mikail",
                    "C. Malaikat Malik",
                    "D. Malaikat Ridwan",
                    "E. Malaikat Israfil"
                ],
                correctAnswer: 3,
                explanation: "Malaikat Ridwan bertugas menjaga pintu surga dan menyambut para penghuninya dengan penuh keramahan, sebagaimana disebutkan dalam beberapa hadits."
            },
            {
                question: "Nabi yang terkenal dengan cerita perahu kecilnya adalah...",
                options: [
                    "A. Nabi Nuh AS",
                    "B. Nabi Yunus AS",
                    "C. Nabi Musa AS",
                    "D. Nabi Khidir AS",
                    "E. Nabi Luth AS"
                ],
                correctAnswer: 1,
                explanation: "Nabi Yunus AS terkenal dengan cerita ketika berada di perut ikan besar setelah meninggalkan kaumnya dan naik ke perahu kecil selama badai."
            },
            {
                question: "Shalat yang diawali dengan takbir dan diakhiri dengan salam adalah...",
                options: [
                    "A. Shalat jenazah",
                    "B. Shalat sunnah",
                    "C. Shalat wajib",
                    "D. Shalat tasbih",
                    "E. Semua shalat"
                ],
                correctAnswer: 4,
                explanation: "Semua shalat dalam Islam, baik wajib maupun sunnah, diawali dengan takbiratul ihram dan diakhiri dengan salam ke kanan dan ke kiri."
            },
            {
                question: "Nabi yang terkenal dengan cerita penyembelihan anaknya adalah...",
                options: [
                    "A. Nabi Ibrahim AS",
                    "B. Nabi Ismail AS",
                    "C. Nabi Ishaq AS",
                    "D. Nabi Ya'qub AS",
                    "E. Nabi Yusuf AS"
                ],
                correctAnswer: 0,
                explanation: "Nabi Ibrahim AS diperintahkan Allah untuk menyembelih anaknya Ismail sebagai ujian, tetapi kemudian digantikan dengan seekor domba ketika telah menunjukkan keteguhan imannya."
            },
            {
                question: "Sifat wajib bagi Allah SWT yang berarti Maha Berdiri Sendiri adalah...",
                options: [
                    "A. Qidam",
                    "B. Baqa",
                    "C. Mukhalafatu lil hawadits",
                    "D. Qiyamuhu binafsihi",
                    "E. Wahdaniyah"
                ],
                correctAnswer: 3,
                explanation: "Qiyamuhu binafsihi adalah sifat wajib Allah yang berarti Maha Berdiri Sendiri, tidak membutuhkan sesuatu apapun dari makhluk-Nya."
            },
            {
                question: "Nabi yang terkenal dengan cerita tongkatnya yang berubah menjadi ular adalah...",
                options: [
                    "A. Nabi Ibrahim AS",
                    "B. Nabi Musa AS",
                    "C. Nabi Isa AS",
                    "D. Nabi Daud AS",
                    "E. Nabi Sulaiman AS"
                ],
                correctAnswer: 1,
                explanation: "Nabi Musa AS diberi mukjizat oleh Allah SWT berupa tongkat yang bisa berubah menjadi ular besar untuk menghadapi tukang sihir Firaun."
            },
            {
                question: "Malaikat yang bertugas menanyai manusia di alam kubur adalah...",
                options: [
                    "A. Malaikat Raqib dan Atid",
                    "B. Malaikat Munkar dan Nakir",
                    "C. Malaikat Jibril dan Mikail",
                    "D. Malaikat Israfil dan Izrail",
                    "E. Malaikat Malik dan Ridwan"
                ],
                correctAnswer: 1,
                explanation: "Malaikat Munkar dan Nakir bertugas menanyai manusia di alam kubur tentang Tuhannya, agamanya, dan nabinya, sebagai awal dari proses kehidupan setelah mati."
            },
            {
                question: "Nabi Muhammad SAW wafat pada usia...",
                options: [
                    "A. 60 tahun",
                    "B. 61 tahun",
                    "C. 62 tahun",
                    "D. 63 tahun",
                    "E. 64 tahun"
                ],
                correctAnswer: 3,
                explanation: "Nabi Muhammad SAW wafat pada usia 63 tahun, tepatnya pada tanggal 12 Rabiul Awal tahun 11 Hijriyah di Madinah, setelah menyempurnakan risalah Islam."
            },
            {
                question: "Sifat wajib bagi Allah SWT yang berarti Maha Berbeda dengan makhluk-Nya adalah...",
                options: [
                    "A. Qidam",
                    "B. Baqa",
                    "C. Mukhalafatu lil hawadits",
                    "D. Qiyamuhu binafsihi",
                    "E. Wahdaniyah"
                ],
                correctAnswer: 2,
                explanation: "Mukhalafatu lil hawadits adalah sifat wajib Allah yang berarti Maha Berbeda dengan makhluk-Nya, tidak menyerupai sesuatu apapun dari ciptaan-Nya."
            },
            {
                question: "Nabi yang terkenal dengan cerita selamat dari api adalah...",
                options: [
                    "A. Nabi Ibrahim AS",
                    "B. Nabi Musa AS",
                    "C. Nabi Isa AS",
                    "D. Nabi Muhammad SAW",
                    "E. Nabi Nuh AS"
                ],
                correctAnswer: 0,
                explanation: "Nabi Ibrahim AS selamat dari api yang dinyalakan oleh Raja Namrud karena Allah memerintahkan api menjadi dingin dan menyelamatkan beliau."
            },
            {
                question: "Jumlah malaikat yang disebutkan dalam Al-Quran dan hadits adalah...",
                options: [
                    "A. 5",
                    "B. 10",
                    "C. 15",
                    "D. 20",
                    "E. Tidak terhitung"
                ],
                correctAnswer: 4,
                explanation: "Jumlah malaikat sangat banyak dan tidak terhitung, hanya Allah yang mengetahuinya. Yang kita ketahui hanya beberapa nama malaikat dan tugasnya yang disebutkan dalam Al-Quran dan hadits."
            }
                ]
            },
            'SMP': {
                'Agama Islam': [
                    {
                question: "Salah satu sifat wajib bagi Allah adalah Al-Quddus yang artinya...",
                options: [
                    "A. Maha Mengetahui",
                    "B. Maha Suci",
                    "C. Maha Kuasa",
                    "D. Maha Pengasih",
                    "E. Maha Penyayang"
                ],
                correctAnswer: 1,
                explanation: "Al-Quddus adalah salah satu sifat wajib Allah yang berarti Maha Suci. Jawaban yang benar adalah B. Maha Suci"
            },
            {
                question: "Berikut ini yang termasuk dalam rukun iman yang keempat adalah...",
                options: [
                    "A. Iman kepada Allah",
                    "B. Iman kepada Malaikat",
                    "C. Iman kepada Kitab-kitab",
                    "D. Iman kepada Rasul",
                    "E. Iman kepada Hari Akhir"
                ],
                correctAnswer: 3,
                explanation: "Rukun iman keempat adalah iman kepada rasul-rasul Allah. Jawaban yang benar adalah D. Iman kepada Rasul"
            },
            {
                question: "Nabi Muhammad SAW menerima wahyu pertama di...",
                options: [
                    "A. Gua Hira",
                    "B. Masjidil Haram",
                    "C. Bukit Shafa",
                    "D. Jabal Nur",
                    "E. Lembah Mina"
                ],
                correctAnswer: 0,
                explanation: "Nabi Muhammad SAW menerima wahyu pertama di Gua Hira. Jawaban yang benar adalah A. Gua Hira"
            },
            {
                question: "Surah Al-Fatihah terdiri dari... ayat",
                options: [
                    "A. 5",
                    "B. 6",
                    "C. 7",
                    "D. 8",
                    "E. 9"
                ],
                correctAnswer: 2,
                explanation: "Surah Al-Fatihah terdiri dari 7 ayat. Jawaban yang benar adalah C. 7"
            },
            {
                question: "Berikut ini yang bukan termasuk dalam Asmaul Husna adalah...",
                options: [
                    "A. Ar-Rahman",
                    "B. Ar-Rahim",
                    "C. Al-Malik",
                    "D. Al-Khaliq",
                    "E. Al-Farabi"
                ],
                correctAnswer: 4,
                explanation: "Al-Farabi bukan termasuk Asmaul Husna, melainkan nama seorang filsuf Muslim. Jawaban yang benar adalah E. Al-Farabi"
            },
            {
                question: "Malaikat yang bertugas meniup sangkakala pada hari kiamat adalah...",
                options: [
                    "A. Jibril",
                    "B. Mikail",
                    "C. Israfil",
                    "D. Izrail",
                    "E. Munkar"
                ],
                correctAnswer: 2,
                explanation: "Malaikat Israfil bertugas meniup sangkakala pada hari kiamat. Jawaban yang benar adalah C. Israfil"
            },
            {
                question: "Kitab suci yang diturunkan kepada Nabi Musa AS adalah...",
                options: [
                    "A. Zabur",
                    "B. Taurat",
                    "C. Injil",
                    "D. Al-Quran",
                    "E. Shuhuf"
                ],
                correctAnswer: 1,
                explanation: "Kitab Taurat diturunkan kepada Nabi Musa AS. Jawaban yang benar adalah B. Taurat"
            },
            {
                question: "Nabi yang diberi mukjizat bisa berbicara ketika masih bayi adalah...",
                options: [
                    "A. Nabi Isa AS",
                    "B. Nabi Musa AS",
                    "C. Nabi Ibrahim AS",
                    "D. Nabi Yusuf AS",
                    "E. Nabi Muhammad SAW"
                ],
                correctAnswer: 0,
                explanation: "Nabi Isa AS diberi mukjizat bisa berbicara ketika masih bayi. Jawaban yang benar adalah A. Nabi Isa AS"
            },
            {
                question: "Hari ketika semua manusia dikumpulkan untuk dihisab amal perbuatannya disebut...",
                options: [
                    "A. Yaumul Barzakh",
                    "B. Yaumul Ba'ats",
                    "C. Yaumul Mizan",
                    "D. Yaumul Hisab",
                    "E. Yaumul Jaza"
                ],
                correctAnswer: 3,
                explanation: "Yaumul Hisab adalah hari ketika semua manusia dikumpulkan untuk dihisab amal perbuatannya. Jawaban yang benar adalah D. Yaumul Hisab"
            },
            {
                question: "Berikut ini yang termasuk contoh qada' adalah...",
                options: [
                    "A. Seseorang memilih untuk shalat atau tidak",
                    "B. Allah menentukan jenis kelamin bayi",
                    "C. Manusia berusaha mencari rezeki",
                    "D. Seseorang berdoa untuk kesembuhan",
                    "E. Manusia memilih jalan hidupnya"
                ],
                correctAnswer: 1,
                explanation: "Qada' adalah ketetapan Allah yang pasti terjadi seperti jenis kelamin bayi. Jawaban yang benar adalah B. Allah menentukan jenis kelamin bayi"
            },
            {
                question: "Shalat sunnah yang dilakukan sebelum shalat Subuh disebut...",
                options: [
                    "A. Tahajud",
                    "B. Witir",
                    "C. Rawatib",
                    "D. Qabliyah Subuh",
                    "E. Dhuha"
                ],
                correctAnswer: 3,
                explanation: "Shalat sunnah sebelum Subuh disebut Qabliyah Subuh. Jawaban yang benar adalah D. Qabliyah Subuh"
            },
            {
                question: "Zakat yang wajib dikeluarkan setelah bulan Ramadhan disebut...",
                options: [
                    "A. Zakat Fitrah",
                    "B. Zakat Mal",
                    "C. Zakat Profesi",
                    "D. Zakat Pertanian",
                    "E. Zakat Perdagangan"
                ],
                correctAnswer: 0,
                explanation: "Zakat Fitrah wajib dikeluarkan setelah bulan Ramadhan. Jawaban yang benar adalah A. Zakat Fitrah"
            },
            {
                question: "Puasa yang diwajibkan bagi umat Islam adalah puasa di bulan...",
                options: [
                    "A. Syawal",
                    "B. Dzulhijjah",
                    "C. Muharram",
                    "D. Ramadhan",
                    "E. Rajab"
                ],
                correctAnswer: 3,
                explanation: "Puasa yang diwajibkan adalah puasa di bulan Ramadhan. Jawaban yang benar adalah D. Ramadhan"
            },
            {
                question: "Haji yang dilakukan sebelum waktunya disebut haji...",
                options: [
                    "A. Qiran",
                    "B. Tamattu'",
                    "C. Ifrad",
                    "D. Badal",
                    "E. Sunat"
                ],
                correctAnswer: 1,
                explanation: "Haji Tamattu' adalah haji yang dilakukan sebelum waktunya dengan memakai ihram untuk umrah terlebih dahulu. Jawaban yang benar adalah B. Tamattu'"
            },
            {
                question: "Berikut ini yang bukan termasuk rukun khutbah Jumat adalah...",
                options: [
                    "A. Membaca hamdalah",
                    "B. Membaca shalawat",
                    "C. Membaca ayat Al-Quran",
                    "D. Berwasiat tentang taqwa",
                    "E. Membaca doa untuk khatib"
                ],
                correctAnswer: 4,
                explanation: "Membaca doa untuk khatib bukan termasuk rukun khutbah Jumat. Jawaban yang benar adalah E. Membaca doa untuk khatib"
            },
            {
                question: "Surah dalam Al-Quran yang paling panjang adalah...",
                options: [
                    "A. Al-Baqarah",
                    "B. Ali Imran",
                    "C. An-Nisa",
                    "D. Al-Maidah",
                    "E. Al-An'am"
                ],
                correctAnswer: 0,
                explanation: "Surah Al-Baqarah adalah surah terpanjang dalam Al-Quran dengan 286 ayat. Jawaban yang benar adalah A. Al-Baqarah"
            },
            {
                question: "Nabi yang dikenal sebagai bapak para nabi adalah...",
                options: [
                    "A. Nabi Adam AS",
                    "B. Nabi Nuh AS",
                    "C. Nabi Ibrahim AS",
                    "D. Nabi Musa AS",
                    "E. Nabi Muhammad SAW"
                ],
                correctAnswer: 2,
                explanation: "Nabi Ibrahim AS dikenal sebagai bapak para nabi (Abul Anbiya). Jawaban yang benar adalah C. Nabi Ibrahim AS"
            },
            {
                question: "Peristiwa hijrah Nabi Muhammad SAW dari Mekah ke Madinah terjadi pada tahun...",
                options: [
                    "A. 610 M",
                    "B. 615 M",
                    "C. 622 M",
                    "D. 630 M",
                    "E. 632 M"
                ],
                correctAnswer: 2,
                explanation: "Peristiwa hijrah terjadi pada tahun 622 M dan menjadi awal penanggalan kalender Hijriyah. Jawaban yang benar adalah C. 622 M"
            },
            {
                question: "Berikut ini yang bukan termasuk syarat wajib zakat mal adalah...",
                options: [
                    "A. Milik penuh",
                    "B. Berkembang",
                    "C. Mencapai nisab",
                    "D. Lebih dari kebutuhan pokok",
                    "E. Sudah dimiliki selama 10 tahun"
                ],
                correctAnswer: 4,
                explanation: "Kepemilikan selama 10 tahun bukan syarat wajib zakat mal. Jawaban yang benar adalah E. Sudah dimiliki selama 10 tahun"
            },
            {
                question: "Hukum asal muamalah dalam Islam adalah...",
                options: [
                    "A. Haram",
                    "B. Makruh",
                    "C. Mubah",
                    "D. Sunah",
                    "E. Wajib"
                ],
                correctAnswer: 2,
                explanation: "Hukum asal muamalah adalah mubah (diperbolehkan) kecuali ada dalil yang melarang. Jawaban yang benar adalah C. Mubah"
            },
            {
                question: "Berikut ini yang termasuk contoh riba nasiah adalah...",
                options: [
                    "A. Menjual emas dengan emas tidak tunai",
                    "B. Menukar uang dengan uang yang berbeda nilai",
                    "C. Meminjam uang dengan syarat mengembalikan lebih",
                    "D. Menjual barang dengan sistem kredit tanpa tambahan",
                    "E. Memberi hadiah kepada pemberi pinjaman"
                ],
                correctAnswer: 2,
                explanation: "Riba nasiah adalah meminjam uang dengan syarat mengembalikan lebih. Jawaban yang benar adalah C. Meminjam uang dengan syarat mengembalikan lebih"
            },
            {
                question: "Waktu yang diharamkan untuk shalat adalah...",
                options: [
                    "A. Setelah shalat Subuh hingga matahari terbit",
                    "B. Saat matahari tepat di atas kepala",
                    "C. Setelah shalat Ashar hingga matahari terbenam",
                    "D. Jawaban A dan C benar",
                    "E. Jawaban A, B, dan C benar"
                ],
                correctAnswer: 3,
                explanation: "Waktu yang diharamkan shalat adalah setelah Subuh hingga matahari terbit dan setelah Ashar hingga matahari terbenam. Jawaban yang benar adalah D. Jawaban A dan C benar"
            },
            {
                question: "Tayammum dapat menggantikan wudhu ketika...",
                options: [
                    "A. Tidak ada air sama sekali",
                    "B. Air sangat dingin dan bisa membahayakan",
                    "C. Sedang sakit dan tidak boleh terkena air",
                    "D. Air sangat jauh letaknya",
                    "E. Semua jawaban benar"
                ],
                correctAnswer: 4,
                explanation: "Semua kondisi tersebut membolehkan tayammum sebagai pengganti wudhu. Jawaban yang benar adalah E. Semua jawaban benar"
            },
            {
                question: "Hukum memakan bangkai dalam keadaan darurat adalah...",
                options: [
                    "A. Haram",
                    "B. Makruh",
                    "C. Mubah",
                    "D. Sunah",
                    "E. Wajib"
                ],
                correctAnswer: 2,
                explanation: "Dalam keadaan darurat yang mengancam nyawa, memakan bangkai hukumnya mubah. Jawaban yang benar adalah C. Mubah"
            },
            {
                question: "Berikut ini yang bukan termasuk pembatal wudhu adalah...",
                options: [
                    "A. Keluar sesuatu dari qubul atau dubur",
                    "B. Hilang akal karena tidur",
                    "C. Menyentuh kulit lawan jenis",
                    "D. Murtad",
                    "E. Bersentuhan kulit dengan mahram"
                ],
                correctAnswer: 4,
                explanation: "Bersentuhan dengan mahram tidak membatalkan wudhu. Jawaban yang benar adalah E. Bersentuhan kulit dengan mahram"
            },
            {
                question: "Shalat yang memiliki dua azan adalah shalat...",
                options: [
                    "A. Subuh",
                    "B. Dzuhur",
                    "C. Ashar",
                    "D. Maghrib",
                    "E. Jumat"
                ],
                correctAnswer: 4,
                explanation: "Shalat Jumat memiliki azan pertama dan azan kedua ketika khatib naik mimbar. Jawaban yang benar adalah E. Jumat"
            },
            {
                question: "Berikut ini yang bukan termasuk syarat sah shalat adalah...",
                options: [
                    "A. Menutup aurat",
                    "B. Menghadap kiblat",
                    "C. Sudah masuk waktu",
                    "D. Berdiri bagi yang mampu",
                    "E. Membaca doa iftitah"
                ],
                correctAnswer: 4,
                explanation: "Membaca doa iftitah bukan syarat sah shalat melainkan sunah. Jawaban yang benar adalah E. Membaca doa iftitah"
            },
            {
                question: "Orang yang pertama kali masuk Islam dari kalangan anak-anak adalah...",
                options: [
                    "A. Ali bin Abi Thalib",
                    "B. Zaid bin Haritsah",
                    "C. Abdullah bin Mas'ud",
                    "D. Bilal bin Rabah",
                    "E. Abu Bakar Ash-Shiddiq"
                ],
                correctAnswer: 0,
                explanation: "Ali bin Abi Thalib adalah anak pertama yang masuk Islam di usia 10 tahun. Jawaban yang benar adalah A. Ali bin Abi Thalib"
            },
            {
                question: "Perang pertama dalam Islam adalah perang...",
                options: [
                    "A. Badar",
                    "B. Uhud",
                    "C. Khandaq",
                    "D. Hunain",
                    "E. Tabuk"
                ],
                correctAnswer: 0,
                explanation: "Perang Badar adalah perang pertama umat Islam melawan kaum Quraisy. Jawaban yang benar adalah A. Badar"
            },
            {
                question: "Berikut ini yang bukan termasuk kitab hadis kutubus sittah adalah...",
                options: [
                    "A. Shahih Bukhari",
                    "B. Shahih Muslim",
                    "C. Sunan Abu Daud",
                    "D. Sunan Tirmidzi",
                    "E. Al-Muwaththa'"
                ],
                correctAnswer: 4,
                explanation: "Al-Muwaththa' karya Imam Malik bukan termasuk kutubus sittah. Jawaban yang benar adalah E. Al-Muwaththa'"
            },
            {
                question: "Malaikat yang bertugas mencabut nyawa adalah...",
                options: [
                    "A. Jibril",
                    "B. Mikail",
                    "C. Israfil",
                    "D. Izrail",
                    "E. Raqib dan Atid"
                ],
                correctAnswer: 3,
                explanation: "Malaikat Izrail bertugas mencabut nyawa. Jawaban yang benar adalah D. Izrail"
            },
            {
                question: "Berikut ini yang bukan termasuk nabi ulul azmi adalah...",
                options: [
                    "A. Nabi Nuh AS",
                    "B. Nabi Ibrahim AS",
                    "C. Nabi Musa AS",
                    "D. Nabi Isa AS",
                    "E. Nabi Yusuf AS"
                ],
                correctAnswer: 4,
                explanation: "Nabi Yusuf AS bukan termasuk nabi ulul azmi. Jawaban yang benar adalah E. Nabi Yusuf AS"
            },
            {
                question: "Tempat berkumpulnya manusia pada hari kiamat disebut...",
                options: [
                    "A. Shirath",
                    "B. Mizan",
                    "C. Mahsyar",
                    "D. Surga",
                    "E. Neraka"
                ],
                correctAnswer: 2,
                explanation: "Padang Mahsyar adalah tempat berkumpulnya manusia pada hari kiamat. Jawaban yang benar adalah C. Mahsyar"
            },
            {
                question: "Berikut ini yang bukan termasuk tanda-tanda kiamat kecil adalah...",
                options: [
                    "A. Banyak terjadi gempa bumi",
                    "B. Waktu terasa semakin cepat",
                    "C. Munculnya Dajjal",
                    "D. Banyak pembunuhan",
                    "E. Hilangnya ilmu agama"
                ],
                correctAnswer: 2,
                explanation: "Munculnya Dajjal termasuk tanda-tanda kiamat besar. Jawaban yang benar adalah C. Munculnya Dajjal"
            },
            {
                question: "Hukum mempelajari ilmu tajwid adalah...",
                options: [
                    "A. Fardhu kifayah",
                    "B. Fardhu ain",
                    "C. Sunah muakkad",
                    "D. Mubah",
                    "E. Makruh"
                ],
                correctAnswer: 1,
                explanation: "Mempelajari ilmu tajwid hukumnya fardhu ain bagi setiap muslim. Jawaban yang benar adalah B. Fardhu ain"
            },
            {
                question: "Berikut ini yang bukan termasuk rukun jual beli adalah...",
                options: [
                    "A. Penjual dan pembeli",
                    "B. Ijab qabul",
                    "C. Barang yang diperjualbelikan",
                    "D. Harga",
                    "E. Saksi"
                ],
                correctAnswer: 4,
                explanation: "Kehadiran saksi bukan termasuk rukun jual beli dalam Islam. Jawaban yang benar adalah E. Saksi"
            },
            {
                question: "Hukum asal berburu binatang adalah...",
                options: [
                    "A. Haram",
                    "B. Makruh",
                    "C. Mubah",
                    "D. Sunah",
                    "E. Wajib"
                ],
                correctAnswer: 2,
                explanation: "Hukum asal berburu binatang adalah mubah selama tidak melanggar syariat. Jawaban yang benar adalah C. Mubah"
            },
            {
                question: "Berikut ini yang bukan termasuk syarat menjadi khalifah adalah...",
                options: [
                    "A. Muslim",
                    "B. Laki-laki",
                    "C. Baligh",
                    "D. Keturunan Quraisy",
                    "E. Kaya"
                ],
                correctAnswer: 4,
                explanation: "Kekayaan bukan syarat menjadi khalifah. Jawaban yang benar adalah E. Kaya"
            },
            {
                question: "Peristiwa penting yang terjadi pada tanggal 10 Muharram adalah...",
                options: [
                    "A. Isra' Mi'raj",
                    "B. Hijrah Nabi",
                    "C. Nabi Musa AS diselamatkan dari Firaun",
                    "D. Kelahiran Nabi Muhammad SAW",
                    "E. Wafatnya Nabi Muhammad SAW"
                ],
                correctAnswer: 2,
                explanation: "Pada 10 Muharram, Nabi Musa AS dan Bani Israil diselamatkan dari Firaun. Jawaban yang benar adalah C. Nabi Musa AS diselamatkan dari Firaun"
            },
            {
                question: "Berikut ini yang bukan termasuk pembagian tauhid adalah...",
                options: [
                    "A. Tauhid Rububiyah",
                    "B. Tauhid Uluhiyah",
                    "C. Tauhid Asma' wa Sifat",
                    "D. Tauhid Mulkiyah",
                    "E. Semua jawaban benar"
                ],
                correctAnswer: 3,
                explanation: "Tauhid Mulkiyah bukan termasuk pembagian tauhid. Jawaban yang benar adalah D. Tauhid Mulkiyah"
            },
            {
                question: "Hukum memelihara jenggot bagi laki-laki adalah...",
                options: [
                    "A. Wajib",
                    "B. Sunah",
                    "C. Mubah",
                    "D. Makruh",
                    "E. Haram"
                ],
                correctAnswer: 0,
                explanation: "Memelihara jenggot hukumnya wajib bagi laki-laki muslim. Jawaban yang benar adalah A. Wajib"
            },
            {
                question: "Berikut ini yang bukan termasuk syarat menjadi imam shalat adalah...",
                options: [
                    "A. Laki-laki (jika makmumnya ada laki-laki)",
                    "B. Lebih banyak hafalan Al-Qurannya",
                    "C. Lebih tua usianya",
                    "D. Lebih tinggi status sosialnya",
                    "E. Lebih baik bacaannya"
                ],
                correctAnswer: 3,
                explanation: "Status sosial bukan syarat menjadi imam shalat. Jawaban yang benar adalah D. Lebih tinggi status sosialnya"
            },
            {
                question: "Hukum mengkafani jenazah adalah...",
                options: [
                    "A. Fardhu kifayah",
                    "B. Fardhu ain",
                    "C. Sunah muakkad",
                    "D. Mubah",
                    "E. Wajib"
                ],
                correctAnswer: 0,
                explanation: "Mengkafani jenazah hukumnya fardhu kifayah. Jawaban yang benar adalah A. Fardhu kifayah"
            },
            {
                question: "Berikut ini yang bukan termasuk sunah dalam berpuasa adalah...",
                options: [
                    "A. Makan sahur",
                    "B. Menyegerakan berbuka",
                    "C. Berdoa ketika berbuka",
                    "D. Mandi junub sebelum fajar",
                    "E. Tidur sepanjang hari"
                ],
                correctAnswer: 4,
                explanation: "Tidur sepanjang hari bukan sunah dalam berpuasa. Jawaban yang benar adalah E. Tidur sepanjang hari"
            },
            {
                question: "Hukum asal musik dalam Islam adalah...",
                options: [
                    "A. Haram",
                    "B. Makruh",
                    "C. Mubah",
                    "D. Sunah",
                    "E. Wajib"
                ],
                correctAnswer: 1,
                explanation: "Hukum asal musik adalah makruh, kecuali yang mengandung unsur maksiat. Jawaban yang benar adalah B. Makruh"
            },
            {
                question: "Berikut ini yang bukan termasuk syarat wajib haji adalah...",
                options: [
                    "A. Islam",
                    "B. Baligh",
                    "C. Berakal",
                    "D. Mampu",
                    "E. Sudah menikah"
                ],
                correctAnswer: 4,
                explanation: "Status pernikahan bukan syarat wajib haji. Jawaban yang benar adalah E. Sudah menikah"
            },
            {
                question: "Tempat di Mekah yang menjadi awal dan akhir sa'i adalah...",
                options: [
                    "A. Shafa dan Marwah",
                    "B. Hajar Aswad dan Rukun Yamani",
                    "C. Multazam dan Hijr Ismail",
                    "D. Maqam Ibrahim dan sumur Zamzam",
                    "E. Bukit Abu Qubais dan Jabal Nur"
                ],
                correctAnswer: 0,
                explanation: "Sa'i dimulai dari Shafa dan diakhiri di Marwah. Jawaban yang benar adalah A. Shafa dan Marwah"
            },
            {
                question: "Berikut ini yang bukan termasuk pembatal wudhu adalah...",
                options: [
                    "A. Buang angin",
                    "B. Buang air kecil",
                    "C. Tidur nyenyak",
                    "D. Menyentuh kemaluan",
                    "E. Memandikan jenazah"
                ],
                correctAnswer: 4,
                explanation: "Memandikan jenazah tidak membatalkan wudhu. Jawaban yang benar adalah E. Memandikan jenazah"
            },
            {
                question: "Hukum mengkhatamkan Al-Quran dalam shalat Tarawih adalah...",
                options: [
                    "A. Wajib",
                    "B. Sunah",
                    "C. Mubah",
                    "D. Makruh",
                    "E. Haram"
                ],
                correctAnswer: 1,
                explanation: "Mengkhatamkan Al-Quran dalam Tarawih hukumnya sunah. Jawaban yang benar adalah B. Sunah"
            },
            {
                question: "Berikut ini yang bukan termasuk golongan yang berhak menerima zakat adalah...",
                options: [
                    "A. Fakir",
                    "B. Miskin",
                    "C. Amil",
                    "D. Muallaf",
                    "E. Orang kaya"
                ],
                correctAnswer: 4,
                explanation: "Orang kaya tidak termasuk mustahiq zakat. Jawaban yang benar adalah E. Orang kaya"
            },
            {
                question: "Hukum memakan daging babi dalam keadaan darurat adalah...",
                options: [
                    "A. Haram",
                    "B. Makruh",
                    "C. Mubah",
                    "D. Sunah",
                    "E. Wajib"
                ],
                correctAnswer: 2,
                explanation: "Dalam keadaan darurat yang mengancam nyawa, memakan daging babi hukumnya mubah. Jawaban yang benar adalah C. Mubah"
            },
            {
                question: "Berikut ini yang bukan termasuk syarat sah nikah adalah...",
                options: [
                    "A. Adanya calon suami dan istri",
                    "B. Adanya wali",
                    "C. Adanya mahar",
                    "D. Adanya dua saksi",
                    "E. Adanya walimah"
                ],
                correctAnswer: 4,
                explanation: "Walimah bukan syarat sah nikah melainkan sunah. Jawaban yang benar adalah E. Adanya walimah"
            },
            {
                question: "Hukum asal poligami dalam Islam adalah...",
                options: [
                    "A. Wajib",
                    "B. Sunah",
                    "C. Mubah",
                    "D. Makruh",
                    "E. Haram"
                ],
                correctAnswer: 2,
                explanation: "Hukum asal poligami adalah mubah dengan syarat-syarat tertentu. Jawaban yang benar adalah C. Mubah"
            },
            {
                question: "Berikut ini yang bukan termasuk rukun khutbah adalah...",
                options: [
                    "A. Membaca hamdalah",
                    "B. Membaca shalawat",
                    "C. Berwasiat taqwa",
                    "D. Membaca ayat Al-Quran",
                    "E. Membaca doa untuk jamaah"
                ],
                correctAnswer: 4,
                explanation: "Membaca doa untuk jamaah bukan termasuk rukun khutbah. Jawaban yang benar adalah E. Membaca doa untuk jamaah"
            }
                ]
            },
            'SMA/SMK': {
                'Agama Islam': [
                    {
                question: "Dalam Q.S. Al-Baqarah ayat 30, Allah SWT berfirman tentang penciptaan manusia sebagai khalifah di bumi. Apa makna hakikat manusia sebagai khalifah menurut tafsir Ibnu Katsir?",
                options: [
                    "A. Manusia sebagai penguasa mutlak atas alam semesta",
                    "B. Manusia sebagai wakil Allah yang bertugas memakmurkan bumi sesuai syariat-Nya",
                    "C. Manusia sebagai makhluk yang berhak mengeksploitasi alam semesta",
                    "D. Manusia sebagai makhluk yang setara dengan malaikat",
                    "E. Manusia sebagai makhluk yang bebas dari segala tanggung jawab"
                ],
                correctAnswer: 1,
                explanation: "Menurut Ibnu Katsir, khalifah berarti wakil Allah di bumi yang bertugas mengelola dan memakmurkan bumi sesuai dengan aturan dan syariat Allah, bukan sebagai penguasa mutlak atau pengeksploitasi alam."
            },
            {
                question: "Dalam ilmu Musthalah Hadits, apa yang dimaksud dengan hadits 'Aziz?",
                options: [
                    "A. Hadits yang diriwayatkan oleh lebih dari dua perawi di setiap tingkatan sanad",
                    "B. Hadits yang hanya memiliki satu sanad",
                    "C. Hadits yang diriwayatkan minimal oleh dua perawi di setiap tingkatan sanad",
                    "D. Hadits yang matannya bertentangan dengan Al-Qur'an",
                    "E. Hadits yang hanya diriwayatkan oleh perawi lemah"
                ],
                correctAnswer: 2,
                explanation: "Hadits 'Aziz adalah hadits yang diriwayatkan oleh minimal dua perawi di setiap tingkatan sanadnya, meskipun di beberapa tingkatan mungkin diriwayatkan oleh lebih banyak perawi."
            },
            {
                question: "Menurut pandangan Imam Syafi'i dalam kitab Al-Umm, apa hukum seorang muslim yang sengaja meninggalkan shalat tanpa uzur syar'i?",
                options: [
                    "A. Tetap dianggap muslim selama masih mengakui kewajiban shalat",
                    "B. Dianggap murtad dan keluar dari Islam",
                    "C. Hanya berdosa besar tetapi tetap muslim",
                    "D. Wajib membayar denda tanpa perlu mengqadha",
                    "E. Cukup dengan istighfar tanpa perlu mengqadha shalat yang ditinggalkan"
                ],
                correctAnswer: 1,
                explanation: "Imam Syafi'i berpendapat bahwa orang yang sengaja meninggalkan shalat tanpa uzur syar'i dihukumi kafir dan murtad karena menolak kewajiban yang telah disepakati dalam agama."
            },
            {
                question: "Dalam pembagian warisan, apa yang dimaksud dengan 'aul dalam ilmu faraidh?",
                options: [
                    "A. Pengurangan bagian ahli waris karena jumlah harta tidak mencukupi",
                    "B. Penambahan harta warisan sebelum dibagikan",
                    "C. Pembatalan hak waris karena sebab tertentu",
                    "D. Penggabungan beberapa ahli waris menjadi satu kelompok",
                    "E. Pembagian harta sebelum kematian pewaris"
                ],
                correctAnswer: 0,
                explanation: "'Aul adalah keadaan dimana jumlah bagian yang harus diterima ahli waris melebihi harta yang ada, sehingga bagian masing-masing dikurangi secara proporsional."
            },
            {
                question: "Apa makna hakikat 'tawakkal' menurut penjelasan Imam Al-Ghazali dalam kitab Ihya Ulumuddin?",
                options: [
                    "A. Pasrah total tanpa melakukan usaha apapun",
                    "B. Bersandar hati sepenuhnya kepada Allah setelah melakukan usaha maksimal",
                    "C. Mengandalkan bantuan orang lain dalam menyelesaikan masalah",
                    "D. Percaya pada takdir tanpa perlu beribadah",
                    "E. Menghindari semua bentuk risiko dalam kehidupan"
                ],
                correctAnswer: 1,
                explanation: "Menurut Imam Al-Ghazali, tawakkal adalah menyandarkan hati sepenuhnya kepada Allah SWT setelah melakukan usaha maksimal sesuai kemampuan, bukan berarti tidak berusaha sama sekali."
            },
            {
                question: "Dalam kajian usul fiqh, apa yang dimaksud dengan 'amr yang menunjukkan hukum wajib?",
                options: [
                    "A. Semua bentuk perintah dalam Al-Qur'an dan Hadits",
                    "B. Perintah yang disertai ancaman bagi yang meninggalkannya",
                    "C. Perintah yang disebutkan secara berulang-ulang",
                    "D. Perintah yang hanya berlaku untuk Nabi Muhammad SAW",
                    "E. Perintah yang terkait dengan ibadah mahdhah saja"
                ],
                correctAnswer: 1,
                explanation: "Dalam usul fiqh, 'amr (perintah) menunjukkan hukum wajib ketika disertai dengan ancaman bagi yang meninggalkannya, atau ketika ada qarinah (indikasi) lain yang menunjukkan kewajiban."
            },
            {
                question: "Apa perbedaan utama antara qiyas jali dan qiyas khafi dalam metodologi istinbath hukum?",
                options: [
                    "A. Qiyas jali berdasarkan teks jelas, qiyas khafi berdasarkan makna tersembunyi",
                    "B. Qiyas jali untuk ibadah, qiyas khafi untuk muamalah",
                    "C. Qiyas jali disepakati ulama, qiyas khafi diperselisihkan",
                    "D. Qiyas jali menggunakan 'illah jelas, qiyas khafi menggunakan 'illah samar",
                    "E. Qiyas jali dalam Al-Qur'an, qiyas khafi dalam Hadits"
                ],
                correctAnswer: 3,
                explanation: "Qiyas jali adalah analogi yang menggunakan 'illah (alasan hukum) yang jelas dan kuat, sementara qiyas khafi menggunakan 'illah yang samar atau kurang kuat."
            },
            {
                question: "Menurut pendapat mayoritas ulama, apa hukum mempelajari ilmu filsafat Yunani bagi seorang muslim?",
                options: [
                    "A. Haram mutlak karena berasal dari non-muslim",
                    "B. Wajib untuk semua muslim sebagai bagian dari ijtihad",
                    "C. Mubah dengan syarat memiliki dasar agama yang kuat",
                    "D. Sunnah hanya untuk ulama tertentu",
                    "E. Makruh karena dapat merusak akidah"
                ],
                correctAnswer: 2,
                explanation: "Mayoritas ulama berpendapat mempelajari filsafat Yunani hukumnya mubah (boleh) dengan syarat pelaku sudah memiliki dasar agama yang kuat untuk menyaring hal-hal yang bertentangan dengan Islam."
            },
            {
                question: "Dalam ilmu kalam, apa yang dimaksud dengan konsep 'al-jabr wa al-ikhtiar' menurut pandangan Asy'ariyah?",
                options: [
                    "A. Manusia sepenuhnya bebas dalam semua perbuatannya",
                    "B. Allah menciptakan perbuatan manusia tetapi manusia memiliki kasb (usaha)",
                    "C. Manusia adalah pencipta perbuatannya sendiri",
                    "D. Perbuatan manusia tidak ada kaitannya dengan kehendak Allah",
                    "E. Allah memaksa manusia dalam semua perbuatannya"
                ],
                correctAnswer: 1,
                explanation: "Madzhab Asy'ariyah berpendapat bahwa Allah menciptakan perbuatan manusia, tetapi manusia memiliki kasb (usaha/ikhtiar) dalam melakukannya, sehingga tidak sepenuhnya jabr (pemaksaan) atau ikhtiar murni."
            },
            {
                question: "Apa yang dimaksud dengan 'al-maslahah al-mursalah' dalam metodologi istinbath hukum Islam?",
                options: [
                    "A. Kemaslahatan yang didukung oleh dalil khusus",
                    "B. Kemaslahatan yang bertentangan dengan qiyas",
                    "C. Kemaslahatan yang tidak ditolak oleh syara' meski tidak ada dalil khusus",
                    "D. Kemaslahatan yang hanya berlaku untuk masa Nabi",
                    "E. Kemaslahatan yang bertentangan dengan tujuan syariat"
                ],
                correctAnswer: 2,
                explanation: "Al-maslahah al-mursalah adalah kemaslahatan yang tidak ditolak oleh syara' meskipun tidak ada dalil khusus yang mendukung atau menolaknya, digunakan sebagai dasar hukum ketika tidak ada nash yang jelas."
            },
            {
                question: "Dalam kajian sirah nabawiyah, apa strategi utama Nabi Muhammad SAW dalam Perang Khandaq?",
                options: [
                    "A. Menyerang langsung markas musuh",
                    "B. Membuat parit pertahanan di sekitar Madinah",
                    "C. Mengungsi ke gunung dan meninggalkan Madinah",
                    "D. Meminta bantuan tentara Romawi",
                    "E. Berunding dengan kaum Yahudi untuk gencatan senjata"
                ],
                correctAnswer: 1,
                explanation: "Strategi utama dalam Perang Khandaq adalah membuat parit (khandaq) di sekitar Madinah atas usul Salman al-Farisi, yang berhasil menghambat pasukan sekutu yang lebih besar."
            },
            {
                question: "Apa makna hakiki dari konsep 'al-wala' wal bara' dalam akidah Islam?",
                options: [
                    "A. Loyalitas kepada sesama muslim dan berlepas diri dari kekufuran",
                    "B. Mencintai semua manusia tanpa membedakan agama",
                    "C. Memusuhi semua non-muslim tanpa pengecualian",
                    "D. Menolak kerjasama dengan non-muslim dalam keadaan apapun",
                    "E. Hanya bergaul dengan sesama muslim dan mengisolasi diri"
                ],
                correctAnswer: 0,
                explanation: "Al-wala' wal bara' berarti loyalitas kepada muslimin dan berlepas diri dari kekufuran, tetapi tidak berarti memusuhi non-muslim secara membabi buta atau menolak kerjasama dalam hal kebaikan."
            },
            {
                question: "Menurut pendapat Imam Malik, apa hukum seorang wanita menjadi imam shalat bagi jamaah laki-laki?",
                options: [
                    "A. Boleh dalam semua kondisi",
                    "B. Boleh hanya untuk shalat sunnah",
                    "C. Boleh hanya untuk mahramnya",
                    "D. Tidak boleh secara mutlak",
                    "E. Boleh jika tidak ada laki-laki yang mampu"
                ],
                correctAnswer: 3,
                explanation: "Imam Malik berpendapat bahwa wanita tidak boleh menjadi imam shalat bagi laki-laki secara mutlak, berbeda dengan shalat yang makmumnya sesama wanita."
            },
            {
                question: "Dalam ilmu tafsir, apa yang dimaksud dengan tafsir bi al-ma'tsur?",
                options: [
                    "A. Tafsir berdasarkan akal dan ijtihad semata",
                    "B. Tafsir berdasarkan riwayat dari Nabi, sahabat, dan tabi'in",
                    "C. Tafsir yang memadukan antara riwayat dan akal",
                    "D. Tafsir yang hanya menggunakan hadits Nabi",
                    "E. Tafsir yang berfokus pada aspek bahasa semata"
                ],
                correctAnswer: 1,
                explanation: "Tafsir bi al-ma'tsur adalah penafsiran Al-Qur'an yang berdasarkan pada riwayat-riwayat yang sahih dari Nabi SAW, sahabat, atau tabi'in, bukan semata-mata ijtihad."
            },
            {
                question: "Apa hikmah di balik pensyariatan puasa Ramadhan menurut penjelasan Ibn Qayyim dalam Zad al-Ma'ad?",
                options: [
                    "A. Hanya untuk merasakan lapar orang miskin",
                    "B. Untuk membentuk ketakwaan melalui pengendalian hawa nafsu",
                    "C. Sebagai ujian fisik semata",
                    "D. Untuk mengurangi konsumsi makanan duniawi",
                    "E. Sebagai tradisi agama-agama sebelumnya"
                ],
                correctAnswer: 1,
                explanation: "Menurut Ibn Qayyim, hikmah utama puasa adalah membentuk ketakwaan dengan mengendalikan hawa nafsu dan menyucikan jiwa, bukan sekedar menahan lapar atau tradisi semata."
            },
            {
                question: "Dalam fiqh muamalah kontemporer, apa prinsip utama dalam transaksi cryptocurrency menurut fatwa Dewan Syariah Nasional MUI?",
                options: [
                    "A. Haram mutlak karena tidak berwujud",
                    "B. Halal mutlak sebagai mata uang digital",
                    "C. Sah sebagai komoditi jika memenuhi syarat tertentu",
                    "D. Hanya boleh untuk investasi jangka panjang",
                    "E. Boleh digunakan tetapi tidak diakui sebagai mata uang"
                ],
                correctAnswer: 2,
                explanation: "DSN MUI memfatwakan cryptocurrency dapat sah sebagai komoditi (bukan mata uang) jika memenuhi syarat seperti memiliki underlying asset, tidak mengandung gharar, dan tidak digunakan untuk maksiat."
            },
            {
                question: "Apa perbedaan utama antara naskh dan takhsis dalam ilmu usul fiqh?",
                options: [
                    "A. Naskh menghapus hukum, takhsis membatasi cakupan hukum",
                    "B. Naskh untuk Al-Qur'an, takhsis untuk Hadits",
                    "C. Naskh bersifat sementara, takhsis permanen",
                    "D. Naskh dilakukan oleh Nabi, takhsis oleh ulama",
                    "E. Naskh untuk ibadah, takhsis untuk muamalah"
                ],
                correctAnswer: 0,
                explanation: "Naskh adalah penghapusan suatu hukum syar'i dengan dalil yang datang kemudian, sedangkan takhsis adalah pembatasan cakupan hukum umum dengan dalil tertentu tanpa menghapus hukum asalnya."
            },
            {
                question: "Menurut pandangan ulama Hanafiyah, apa syarat sah seorang saksi dalam pernikahan?",
                options: [
                    "A. Harus laki-laki dan muslim",
                    "B. Minimal satu laki-laki dan dua perempuan",
                    "C. Cukup dua laki-laki atau satu laki-laki dan dua perempuan",
                    "D. Minimal dua orang tanpa memandang jenis kelamin",
                    "E. Harus dari keluarga mempelai"
                ],
                correctAnswer: 2,
                explanation: "Mazhab Hanafi membolehkan dua laki-laki atau satu laki-laki dan dua perempuan sebagai saksi nikah, berbeda dengan mazhab lain yang mensyaratkan dua laki-laki."
            },
            {
                question: "Dalam ilmu hadits, apa yang dimaksud dengan istilah 'hadits mu'allaq'?",
                options: [
                    "A. Hadits yang sanadnya terputus di awal",
                    "B. Hadits dengan matan yang menggantung",
                    "C. Hadits yang diriwayatkan dengan lafaz tidak pasti",
                    "D. Hadits yang hanya memiliki satu perawi",
                    "E. Hadits yang bertentangan dengan akal"
                ],
                correctAnswer: 0,
                explanation: "Hadits mu'allaq adalah hadits yang sanadnya terputus di awal (satu atau beberapa perawi pertama tidak disebutkan), biasanya ditemukan dalam kitab-kitab seperti Shahih Bukhari."
            },
            {
                question: "Apa makna konsep 'al-urf' dalam penetapan hukum Islam?",
                options: [
                    "A. Tradisi Nabi yang tidak tercatat dalam hadits",
                    "B. Kebiasaan masyarakat yang tidak bertentangan dengan syariat",
                    "C. Pendapat ulama yang sudah diterima umum",
                    "D. Hukum yang berlaku di masa lalu",
                    "E. Peraturan adat yang mengikat"
                ],
                correctAnswer: 1,
                explanation: "Al-urf adalah kebiasaan atau tradisi masyarakat yang tidak bertentangan dengan syariat Islam, dapat dijadikan pertimbangan dalam penetapan hukum selama memenuhi syarat tertentu."
            },
            {
                question: "Dalam kajian akhlak tasawuf, apa yang dimaksud dengan 'al-fana' fillah' menurut Imam Al-Ghazali?",
                options: [
                    "A. Hilangnya kesadaran diri dalam dzikir",
                    "B. Musnahnya sifat-sifat buruk manusia",
                    "C. Lenyapnya kesadaran akan makhluk karena fokus pada Khaliq",
                    "D. Kematian dalam keadaan khusnul khotimah",
                    "E. Pelepasan semua harta duniawi"
                ],
                correctAnswer: 2,
                explanation: "Al-fana' fillah adalah keadaan dimana seorang hamba tidak lagi menyadari keberadaan makhluk karena sepenuhnya terfokus pada Allah, sebagai tingkatan tinggi dalam tasawuf."
            },
            {
                question: "Menurut pendapat jumhur ulama, apa hukum transplantasi organ dari non-muslim kepada muslim?",
                options: [
                    "A. Haram mutlak",
                    "B. Boleh dengan syarat darurat",
                    "C. Boleh tanpa syarat apapun",
                    "D. Makruh kecuali untuk organ tertentu",
                    "E. Boleh hanya jika non-muslim tersebut ahli kitab"
                ],
                correctAnswer: 1,
                explanation: "Jumhur ulama membolehkan transplantasi organ dari non-muslim kepada muslim dalam kondisi darurat dengan syarat-syarat tertentu seperti tidak ada donor muslim dan untuk menyelamatkan nyawa."
            },
            {
                question: "Apa yang dimaksud dengan 'al-dharuriyat al-khams' dalam maqashid syariah?",
                options: [
                    "A. Lima rukun Islam",
                    "B. Lima rukun Iman",
                    "C. Lima tujuan pokok syariat",
                    "D. Lima larangan utama",
                    "E. Lima kewajiban sosial"
                ],
                correctAnswer: 2,
                explanation: "Al-dharuriyat al-khams adalah lima tujuan pokok syariat yang harus dijaga: agama, jiwa, akal, keturunan, dan harta, sebagai landasan utama dalam penetapan hukum Islam."
            },
            {
                question: "Dalam fiqh siyasah, apa prinsip utama kepemimpinan menurut Q.S. Al-Hujurat ayat 13?",
                options: [
                    "A. Kepemimpinan berdasarkan keturunan",
                    "B. Kepemimpinan berdasarkan kekuatan fisik",
                    "C. Kepemimpinan berdasarkan takwa dan kualifikasi",
                    "D. Kepemimpinan berdasarkan kekayaan",
                    "E. Kepemimpinan rotasi antar suku"
                ],
                correctAnswer: 2,
                explanation: "Q.S. Al-Hujurat ayat 13 menegaskan bahwa kemuliaan manusia di sisi Allah adalah berdasarkan ketakwaan, yang menjadi prinsip utama dalam kepemimpinan Islam."
            },
            {
                question: "Apa perbedaan antara zakat fitrah dan zakat mal dari segi hukum?",
                options: [
                    "A. Zakat fitrah wajib setiap tahun, zakat mal hanya sekali seumur hidup",
                    "B. Zakat fitrah untuk mensucikan jiwa, zakat mal untuk mensucikan harta",
                    "C. Zakat fitrah dalam bentuk makanan, zakat mal dalam bentuk uang",
                    "D. Zakat fitrah untuk fakir miskin, zakat mal untuk mustahiq lainnya",
                    "E. Zakat fitrah sunnah, zakat mal wajib"
                ],
                correctAnswer: 1,
                explanation: "Zakat fitrah bertujuan mensucikan jiwa orang yang berpuasa, sementara zakat mal bertujuan mensucikan harta, meskipun keduanya sama-sama wajib dengan ketentuan masing-masing."
            },
            {
                question: "Dalam ilmu qira'at, apa yang dimaksud dengan qira'at sab'ah?",
                options: [
                    "A. Tujuh jenis dialek dalam Al-Qur'an",
                    "B. Tujuh metode tajwid yang berbeda",
                    "C. Tujuh versi mushaf Al-Qur'an",
                    "D. Tujuh cara membaca Al-Qur'an yang mutawatir",
                    "E. Tujuh kitab tafsir Al-Qur'an"
                ],
                correctAnswer: 3,
                explanation: "Qira'at sab'ah adalah tujuh cara membaca Al-Qur'an yang diriwayatkan secara mutawatir dari Nabi SAW melalui para imam qira'ah, bukan berarti tujuh versi Al-Qur'an yang berbeda."
            },
            {
                question: "Apa makna 'al-ihsan' menurut penjelasan Nabi Muhammad SAW dalam Hadits Jibril?",
                options: [
                    "A. Berbuat baik kepada sesama manusia",
                    "B. Menyembah Allah seolah-olah melihat-Nya",
                    "C. Memberikan sedekah secara rahasia",
                    "D. Meninggalkan segala yang syubhat",
                    "E. Menjaga silaturahmi"
                ],
                correctAnswer: 1,
                explanation: "Dalam Hadits Jibril, Nabi SAW menjelaskan al-ihsan sebagai "Kamu menyembah Allah seolah-olah kamu melihat-Nya, dan jika kamu tidak melihat-Nya maka sesungguhnya Dia melihatmu"."
            },
            {
                question: "Menurut pandangan ulama kontemporer, apa hukum vaksinasi yang menggunakan bahan haram dalam proses pembuatannya?",
                options: [
                    "A. Haram mutlak tanpa pengecualian",
                    "B. Halal karena sudah berubah sifat",
                    "C. Boleh dalam kondisi darurat dengan syarat",
                    "D. Hanya boleh untuk anak-anak",
                    "E. Tergantung negara yang memproduksi"
                ],
                correctAnswer: 2,
                explanation: "Mayoritas ulama kontemporer membolehkan penggunaan vaksin dengan bahan haram dalam kondisi darurat seperti wabah, dengan syarat tidak ada alternatif halal dan manfaatnya lebih besar."
            },
            {
                question: "Dalam kajian tafsir tematik, apa makna 'khalifah' dalam Q.S. Shad ayat 26?",
                options: [
                    "A. Pengganti generasi sebelumnya",
                    "B. Pemimpin yang mendidik masyarakat dengan keadilan",
                    "C. Wakil Allah dalam mengelola alam semesta",
                    "D. Penguasa mutlak atas suatu wilayah",
                    "E. Penerus kenabian"
                ],
                correctAnswer: 1,
                explanation: "Dalam Q.S. Shad:26, kata 'khalifah' dikaitkan dengan tugas mendidik masyarakat dengan keadilan dan tidak mengikuti hawa nafsu, menekankan aspek tanggung jawab kepemimpinan."
            },
            {
                question: "Apa yang dimaksud dengan 'al-syakhshiyyah al-islamiyyah' menurut konsep Sayyid Qutb?",
                options: [
                    "A. Kepribadian yang dibentuk oleh nilai-nilai Islam",
                    "B. Sifat-sifat Nabi Muhammad SAW",
                    "C. Karakter khusus para sahabat Nabi",
                    "D. Ciri fisik muslim yang ideal",
                    "E. Gaya hidup masyarakat Madinah"
                ],
                correctAnswer: 0,
                explanation: "Al-syakhshiyyah al-islamiyyah adalah kepribadian yang dibentuk secara integral oleh nilai-nilai Islam dalam semua aspek kehidupan, sebagai konsep yang dikembangkan Sayyid Qutb."
            },
            {
                question: "Dalam fiqh jinayah, apa perbedaan antara qishash dan diyat?",
                options: [
                    "A. Qishash untuk pembunuhan, diyat untuk pelukaan",
                    "B. Qishash hukuman mati, diyat hukuman penjara",
                    "C. Qishash hukuman setimpal, diyat ganti rugi materi",
                    "D. Qishash untuk muslim, diyat untuk non-muslim",
                    "E. Qishash tanpa pengampunan, diyat bisa diampuni"
                ],
                correctAnswer: 2,
                explanation: "Qishash adalah hukuman setimpal (nyawa dibalas nyawa), sedangkan diyat adalah kompensasi materi yang dapat diberikan sebagai pengganti qishash dengan persetujuan keluarga korban."
            },
            {
                question: "Apa makna 'al-ghina al-mubah' dalam pandangan ulama tentang musik?",
                options: [
                    "A. Nyanyian tanpa alat musik",
                    "B. Musik instrumental tanpa vokal",
                    "C. Seni suara yang tidak mengarah pada maksiat",
                    "D. Musik tradisional Arab saja",
                    "E. Nyanyian untuk acara pernikahan"
                ],
                correctAnswer: 2,
                explanation: "Al-ghina al-mubah adalah seni suara atau musik yang tidak mengandung unsur maksiat, tidak membangkitkan nafsu, dan tidak melalaikan dari kewajiban agama."
            },
            {
                question: "Dalam sejarah Islam, apa kontribusi utama Khalifah Umar bin Abdul Aziz?",
                options: [
                    "A. Perluasan wilayah Islam terbesar",
                    "B. Pembukuan hadits secara resmi",
                    "C. Reformasi administrasi dan keadilan sosial",
                    "D. Pendirian lembaga pendidikan pertama",
                    "E. Penyatuan mazhab fiqh"
                ],
                correctAnswer: 2,
                explanation: "Umar bin Abdul Aziz dikenal dengan reformasi administrasi pemerintahan dan penegakan keadilan sosial, serta membersihkan pemerintahan dari korupsi, sehingga dijuluki 'khulafa rasyidin kelima'."
            },
            {
                question: "Apa yang dimaksud dengan 'al-wahdat al-wujud' dalam kajian tasawuf?",
                options: [
                    "A. Keesaan dalam menyembah Allah",
                    "B. Penyatuan manusia dengan Tuhan",
                    "C. Konsep bahwa hanya Allah yang benar-benar ada",
                    "D. Persatuan umat Islam sedunia",
                    "E. Kesatuan alam semesta dengan pencipta"
                ],
                correctAnswer: 2,
                explanation: "Al-wahdat al-wujud adalah konsep kontroversial dalam tasawuf yang berarti hanya Allah yang benar-benar ada, sementara makhluk adalah manifestasi-Nya, sering dikaitkan dengan Ibn Arabi."
            },
            {
                question: "Menurut fatwa kontemporer, apa hukum main game online yang mengandung unsur judi?",
                options: [
                    "A. Halal selama tidak menggunakan uang asli",
                    "B. Haram karena menyerupai judi",
                    "C. Makruh jika berlebihan",
                    "D. Boleh asal tidak sampai kecanduan",
                    "E. Tergantung jenis permainannya"
                ],
                correctAnswer: 1,
                explanation: "Game online yang mengandung unsur judi (seperti loot box dengan pembayaran) dihukumi haram oleh banyak ulama kontemporer karena memenuhi unsur maisir (judi) yang dilarang dalam Islam."
            },
            {
                question: "Dalam ilmu kalam, apa perbedaan antara sifat salbiyah dan sifat ma'ani?",
                options: [
                    "A. Salbiyah menafikan kekurangan, ma'ani menetapkan sifat",
                    "B. Salbiyah untuk Allah, ma'ani untuk manusia",
                    "C. Salbiyah berdasarkan akal, ma'ani berdasarkan naqli",
                    "D. Salbiyah sifat negatif, ma'ani sifat metaforis",
                    "E. Salbiyah dalam Asy'ariyah, ma'ani dalam Mu'tazilah"
                ],
                correctAnswer: 0,
                explanation: "Sifat salbiyah menafikan sifat-sifat yang tidak layak bagi Allah (seperti berdiri), sedangkan sifat ma'ani menetapkan sifat-sifat positif Allah (seperti ilmu, qudrah)."
            },
            {
                question: "Apa makna 'al-tawassuth wa al-i'tidal' dalam karakteristik ajaran Islam?",
                options: [
                    "A. Sikap moderat dan seimbang",
                    "B. Kepatuhan mutlak kepada pemimpin",
                    "C. Kompromi dalam semua hal",
                    "D. Penolakan terhadap semua perubahan",
                    "E. Penerimaan terhadap semua budaya"
                ],
                correctAnswer: 0,
                explanation: "Al-tawassuth wa al-i'tidal berarti sikap moderat dan seimbang dalam beragama, tidak ekstrem ke kanan atau kiri, sebagai ciri khas ajaran Islam yang rahmatan lil 'alamin."
            },
            {
                question: "Dalam fiqh prioritas, apa yang dimaksud dengan 'al-muwazanat baina al-mashalih wa al-mafasid'?",
                options: [
                    "A. Memilih pendapat ulama yang paling ringan",
                    "B. Menimbang antara manfaat dan mudarat",
                    "C. Mengikuti pendapat mayoritas ulama",
                    "D. Memprioritaskan ibadah atas muamalah",
                    "E. Mengutamakan kepentingan pribadi"
                ],
                correctAnswer: 1,
                explanation: "Konsep ini berarti menimbang antara maslahat (manfaat) dan mafsadat (mudarat) dalam memutuskan hukum, dimana maslahat yang lebih besar harus diutamakan."
            },
            {
                question: "Apa hikmah di balik larangan riba menurut penjelasan Yusuf Al-Qaradawi?",
                options: [
                    "A. Melindungi masyarakat dari eksploitasi ekonomi",
                    "B. Menjaga stabilitas nilai uang",
                    "C. Mencegah peredaran uang berlebihan",
                    "D. Membatasi kekayaan individu",
                    "E. Mengurangi transaksi non-tunai"
                ],
                correctAnswer: 0,
                explanation: "Menurut Al-Qaradawi, larangan riba bertujuan melindungi masyarakat terutama yang lemah dari eksploitasi ekonomi dan ketidakadilan sistem keuangan."
            },
            {
                question: "Dalam kajian hadits, apa yang dimaksud dengan 'al-jarh wa al-ta'dil'?",
                options: [
                    "A. Metode menghafal hadits",
                    "B. Ilmu untuk menilai kredibilitas perawi",
                    "C. Cara mengumpulkan hadits yang tersebar",
                    "D. Teknik memahami makna hadits",
                    "E. Sistem klasifikasi tema hadits"
                ],
                correctAnswer: 1,
                explanation: "Al-jarh wa al-ta'dil adalah ilmu untuk menilai kredibilitas perawi hadits (jarh = kritik negatif, ta'dil = pujian positif) sebagai dasar penilaian kualitas hadits."
            },
            {
                question: "Apa makna 'al-istiqamah' menurut penjelasan Ibn Rajab dalam Jami' al-Ulum wa al-Hikam?",
                options: [
                    "A. Konsistensi dalam ibadah ritual",
                    "B. Keteguhan di atas jalan yang lurus",
                    "C. Keseragaman dalam beramal",
                    "D. Kepatuhan kepada pemimpin",
                    "E. Kesinambungan dalam berdakwah"
                ],
                correctAnswer: 1,
                explanation: "Menurut Ibn Rajab, al-istiqamah adalah keteguhan di atas jalan yang lurus (shirath al-mustaqim) dengan menyeimbangkan antara hak Allah dan hak makhluk."
            },
            {
                question: "Dalam fiqh udara, apa hukum shalat di pesawat menurut fatwa kontemporer?",
                options: [
                    "A. Tidak wajib karena tidak mungkin khusyuk",
                    "B. Wajib diqadha setelah mendarat",
                    "C. Boleh dilakukan sesuai kemampuan",
                    "D. Hanya wajib jika pesawat mendarat",
                    "E. Cukup dengan isyarat saja"
                ],
                correctAnswer: 2,
                explanation: "Mayoritas ulama kontemporer membolehkan shalat di pesawat sesuai kemampuan (duduk, menghadap kiblat sekira mungkin), dan tidak perlu diqadha jika sudah dilaksanakan."
            },
            {
                question: "Apa yang dimaksud dengan 'al-hikmah al-tasyri'iyyah' dalam usul fiqh?",
                options: [
                    "A. Kebijaksanaan Nabi dalam memutuskan hukum",
                    "B. Hikmah dan rahasia di balik pensyariatan hukum",
                    "C. Keputusan hukum yang bersifat temporal",
                    "D. Metode istinbath hukum yang bijak",
                    "E. Penyelesaian sengketa dengan bijaksana"
                ],
                correctAnswer: 1,
                explanation: "Al-hikmah al-tasyri'iyyah merujuk pada hikmah dan rahasia di balik pensyariatan suatu hukum oleh Allah, yang dapat dipahami atau tidak oleh akal manusia."
            },
            {
                question: "Menurut pendapat ulama kontemporer, apa hukum fotografi dalam Islam?",
                options: [
                    "A. Haram mutlak karena menyerupai ciptaan Allah",
                    "B. Halal selama tidak untuk maksiat",
                    "C. Makruh karena termasuk gambar bernyawa",
                    "D. Haram hanya untuk makhluk bernyawa",
                    "E. Boleh hanya untuk keperluan dokumen"
                ],
                correctAnswer: 1,
                explanation: "Mayoritas ulama kontemporer membolehkan fotografi selama tidak digunakan untuk maksiat, dengan argumentasi bahwa kamera hanya menangkap bayangan bukan menciptakan."
            },
            {
                question: "Apa makna 'al-amr bi al-ma'ruf wa al-nahy 'an al-munkar' menurut tafsir Al-Qurthubi?",
                options: [
                    "A. Menegakkan hukum Islam secara formal",
                    "B. Memerintahkan kebaikan dan mencegah kemungkaran",
                    "C. Mengontrol perilaku masyarakat secara ketat",
                    "D. Memberikan nasihat secara pribadi",
                    "E. Menyebarkan dakwah melalui media"
                ],
                correctAnswer: 1,
                explanation: "Al-amr bi al-ma'ruf wa al-nahy 'an al-munkar berarti memerintahkan yang baik dan mencegah yang buruk dengan metode yang bijak sesuai tingkatan kemungkaran, sebagaimana dijelaskan Al-Qurthubi."
            },
            {
                question: "Dalam kajian futuhat islamiyyah, apa faktor utama keberhasilan perluasan wilayah Islam di masa Umar bin Khattab?",
                options: [
                    "A. Kekuatan militer yang unggul",
                    "B. Kelemahan imperium Romawi dan Persia",
                    "C. Kebijakan toleransi dan keadilan",
                    "D. Faktor ekonomi dan perdagangan",
                    "E. Persatuan suku-suku Arab"
                ],
                correctAnswer: 2,
                explanation: "Faktor utama adalah kebijakan toleransi dan keadilan yang diterapkan Muslim terhadap penduduk taklukan, berbeda dengan penindasan yang dilakukan imperium sebelumnya."
            },
            {
                question: "Apa yang dimaksud dengan 'al-fiqh al-awlawiyyat' dalam metodologi ijtihad kontemporer?",
                options: [
                    "A. Fiqh yang hanya berdasarkan hadits shahih",
                    "B. Pemahaman fiqh sesuai urgensitas dan prioritas",
                    "C. Fiqh untuk situasi darurat saja",
                    "D. Pendapat ulama klasik yang diutamakan",
                    "E. Fiqh yang mengutamakan ibadah ritual"
                ],
                correctAnswer: 1,
                explanation: "Al-fiqh al-awlawiyyat adalah pemahaman fiqh yang mempertimbangkan skala prioritas dan urgensitas dalam menetapkan hukum, sebagai pendekatan penting dalam ijtihad kontemporer."
            },
            {
                question: "Menurut pandangan ulama, apa hukum seorang muslim yang mengingkari salah satu rukun iman?",
                options: [
                    "A. Tetap muslim tetapi berdosa besar",
                    "B. Murtad dan keluar dari Islam",
                    "C. Kafir tetapi tidak murtad",
                    "D. Fasik tetapi masih dianggap muslim",
                    "E. Tergantung rukun iman yang diingkari"
                ],
                correctAnswer: 1,
                explanation: "Mengingkari salah satu rukun iman yang telah disepakati (seperti mengingkari malaikat atau hari akhir) menyebabkan seseorang dihukumi murtad karena menolak dasar akidah Islam."
            },
            {
                question: "Apa makna 'al-ibrah bi al-umum al-lafzhi la bi al-khusus al-sabab' dalam kaidah tafsir?",
                options: [
                    "A. Yang dijadikan pedoman adalah keumuman lafaz bukan kekhususan sebab",
                    "B. Tafsir harus sesuai dengan asbabun nuzul",
                    "C. Makna ayat terbatas pada konteks turunnya",
                    "D. Lafaz umum harus selalu dikhususkan",
                    "E. Sebab turun ayat lebih penting dari lafaznya"
                ],
                correctAnswer: 0,
                explanation: "Kaidah ini berarti yang menjadi pedoman adalah keumuman lafaz ayat bukan kekhususan sebab turunnya, sehingga hukum berlaku umum meski turun untuk kasus tertentu."
            }
                ]
            }
        };

        // Motivational messages based on score
        const MOTIVATIONAL_MESSAGES = {
            '90-100': 'Sempurna! Anda sangat luar biasa dalam menguasai materi agama Islam. Pertahankan prestasi ini.',
            '80-89': 'Hasil yang sangat baik! Anda telah menunjukkan pemahaman yang mendalam tentang agama Islam.',
            '70-79': 'Kerja bagus! Anda memiliki pemahaman yang baik tentang materi agama Islam ini.',
            '60-69': 'Hasil yang cukup baik. Tingkatkan lagi pemahaman Anda untuk hasil yang lebih baik.',
            '50-59': 'Anda sudah memahami dasar-dasarnya. Terus berlatih untuk meningkatkan pemahaman agama.',
            '0-49': 'Jangan menyerah! Gunakan hasil ini sebagai motivasi untuk belajar agama lebih giat lagi.'
        };
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize particles.js for background
            particlesJS('particles-js', {
                "particles": {
                    "number": {
                        "value": 80,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": "#ffffff"
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.5,
                        "random": false,
                        "anim": {
                            "enable": false,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 3,
                        "random": true,
                        "anim": {
                            "enable": false,
                            "speed": 40,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#ffffff",
                        "opacity": 0.4,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 2,
                        "direction": "none",
                        "random": false,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 140,
                            "line_linked": {
                                "opacity": 1
                            }
                        },
                        "bubble": {
                            "distance": 400,
                            "size": 40,
                            "duration": 2,
                            "opacity": 8,
                            "speed": 3
                        },
                        "repulse": {
                            "distance": 200,
                            "duration": 0.4
                        },
                        "push": {
                            "particles_nb": 4
                        },
                        "remove": {
                            "particles_nb": 2
                        }
                    }
                },
                "retina_detect": true
            });
            
            // Initialize celebration particles (hidden by default)
            particlesJS('celebration-particles', {
                "particles": {
                    "number": {
                        "value": 150,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": ["#FF0000", "#00FF00", "#0000FF", "#FFFF00", "#FF00FF", "#00FFFF"]
                    },
                    "shape": {
                        "type": ["circle", "triangle", "star"],
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.7,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 5,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 4,
                            "size_min": 0.3,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": false
                    },
                    "move": {
                        "enable": true,
                        "speed": 6,
                        "direction": "none",
                        "random": true,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": false
                        },
                        "onclick": {
                            "enable": false
                        },
                        "resize": true
                    }
                },
                "retina_detect": true
            });
            
            // Load admin settings
            loadAdminSettings();
            
            // Set greeting message from admin settings
            document.getElementById('greeting-text').textContent = adminSettings.greetingMessage;
            document.getElementById('admin-message').textContent = adminSettings.adminMessage;
            
            // Event listeners for buttons with sound
            document.querySelectorAll('button').forEach(button => {
                button.addEventListener('click', function() {
                    // Play button sound if not disabled
                    if (!this.disabled) {
                        buttonSound.currentTime = 0;
                        buttonSound.play().catch(e => console.log("Button sound prevented:", e));
                    }
                });
            });
            
            // Event listeners
            document.getElementById('login-btn').addEventListener('click', handleLogin);
            document.getElementById('agree-terms').addEventListener('change', toggleContinueButton);
            document.getElementById('continue-btn').addEventListener('click', showParticipantForm);
            
            // Status radio buttons
            document.querySelectorAll('input[name="status"]').forEach(radio => {
                radio.addEventListener('change', toggleParticipantFields);
            });
            
            // School level radio buttons
            document.querySelectorAll('input[name="level"]').forEach(radio => {
                radio.addEventListener('change', showGradeSelection);
            });
            
            document.getElementById('save-participant-btn').addEventListener('click', startExam);
            document.getElementById('finish-exam-btn').addEventListener('click', finishExam);
            document.getElementById('skip-question-btn').addEventListener('click', skipQuestion);
            document.getElementById('unanswered-btn').addEventListener('click', showUnansweredQuestions);
            document.getElementById('print-certificate-btn').addEventListener('click', printCertificate);
            document.getElementById('retake-exam-btn').addEventListener('click', retakeExam);
            
            // Floating buttons
            document.getElementById('whatsapp-btn').addEventListener('click', contactAdmin);
            document.getElementById('admin-panel-btn').addEventListener('click', showAdminPanelModal);
            
            // Modal close buttons
            document.getElementById('close-admin-panel-modal').addEventListener('click', hideAdminPanelModal);
            document.getElementById('close-edit-participant-modal').addEventListener('click', hideEditParticipantModal);
            
            // Modal submit buttons
            document.getElementById('submit-admin-panel-code').addEventListener('click', submitAdminPanelCode);
            
            // Check form validity when fields change
            document.getElementById('fullname').addEventListener('input', function() {
                // Convert input to uppercase automatically
                this.value = this.value.toUpperCase();
                checkParticipantFormValidity();
            });
            
            document.getElementById('school-name').addEventListener('input', checkParticipantFormValidity);
            document.getElementById('student-id').addEventListener('input', checkParticipantFormValidity);
            document.querySelectorAll('input[name="purpose"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });
            document.querySelectorAll('input[name="level"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });
            document.querySelectorAll('input[name="grade"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });
            document.querySelectorAll('input[name="subject"]').forEach(radio => {
                radio.addEventListener('change', checkParticipantFormValidity);
            });

            // Admin panel toggle switches
            document.querySelectorAll('.toggle-switch input').forEach(toggle => {
                toggle.addEventListener('change', function() {
                    const statusElement = document.getElementById(`${this.id}-status`);
                    statusElement.textContent = this.checked ? 'Aktif' : 'Nonaktif';
                });
            });

            // Admin panel buttons
            document.getElementById('save-codes-btn').addEventListener('click', saveCodes);
            document.getElementById('save-content-btn').addEventListener('click', saveContent);
            document.getElementById('save-settings-btn').addEventListener('click', saveSettings);
            
            // Participant management buttons
            document.getElementById('select-all-participants').addEventListener('click', toggleSelectAllParticipants);
            document.getElementById('edit-selected-participants').addEventListener('click', editSelectedParticipants);
            document.getElementById('delete-selected-participants').addEventListener('click', deleteSelectedParticipants);
            document.getElementById('validate-certificate-btn').addEventListener('click', validateCertificate);
            
            // Search functionality
            document.getElementById('participant-search').addEventListener('input', searchParticipants);
            
            // Edit participant form
            document.getElementById('save-edit-participant-btn').addEventListener('click', saveEditedParticipant);
            document.querySelectorAll('input[name="edit-status"]').forEach(radio => {
                radio.addEventListener('change', toggleEditParticipantFields);
            });
            document.querySelectorAll('input[name="edit-level"]').forEach(radio => {
                radio.addEventListener('change', showEditGradeSelection);
            });
            
            // Load participants data for admin panel
            loadParticipantsData();
            
            // Auto uppercase for edit fullname field
            document.getElementById('edit-fullname').addEventListener('input', function() {
                this.value = this.value.toUpperCase();
            });
        });
        
        // Functions
        function loadAdminSettings() {
            // Load exam duration
            document.getElementById('exam-duration').value = adminSettings.examDuration;
            
            // Load question count
            document.getElementById('question-count').value = adminSettings.questionCount;
            
            // Load randomize questions setting
            document.getElementById('randomize-questions').checked = adminSettings.randomizeQuestions;
            document.getElementById('randomize-status').textContent = adminSettings.randomizeQuestions ? 'Aktif' : 'Nonaktif';
            
            // Load greeting message
            document.getElementById('greeting-message-input').value = adminSettings.greetingMessage;
            
            // Load admin message
            document.getElementById('admin-message-input').value = adminSettings.adminMessage;
            
            // Load chairman name
            document.getElementById('chairman-name').value = adminSettings.chairmanName;
            
            // Load subject toggle
            document.getElementById('toggle-religion').checked = adminSettings.enabledSubjects["Agama Islam"];
            document.getElementById('religion-status').textContent = adminSettings.enabledSubjects["Agama Islam"] ? 'Aktif' : 'Nonaktif';
        }
        
        function saveParticipantsData() {
            localStorage.setItem('participantsData', JSON.stringify(participantsData));
        }
        
        function saveAdminSettings() {
            localStorage.setItem('adminSettings', JSON.stringify(adminSettings));
        }
        
        function handleLogin() {
            const loginCode = document.getElementById('login-code').value;
            
            if (loginCode === adminSettings.loginCode) {
                // Play opening sound
                openingSound.play().catch(e => console.log("Opening sound prevented:", e));
                
                // Hide welcome screen with slide out animation
                document.getElementById('welcome-screen').classList.add('slide-out');
                
                // Show terms screen after animation completes
                setTimeout(() => {
                    document.getElementById('welcome-screen').style.display = 'none';
                    document.getElementById('terms-screen').style.display = 'block';
                    document.getElementById('terms-screen').classList.add('slide-in');
                    currentScreen = 'terms';
                }, 500);
            } else {
                alert('Kode login salah. Silakan coba lagi.');
            }
        }
        
        function toggleContinueButton() {
            const agreeCheckbox = document.getElementById('agree-terms');
            document.getElementById('continue-btn').disabled = !agreeCheckbox.checked;
        }
        
        function showParticipantForm() {
            // Hide terms screen with slide out animation
            document.getElementById('terms-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('terms-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
            }, 500);
        }
        
        function toggleParticipantFields() {
            // Only student status is available now
            document.getElementById('student-fields').style.display = 'block';
            checkParticipantFormValidity();
        }
        
        function showGradeSelection() {
            const level = document.querySelector('input[name="level"]:checked').value;
            const gradeOptions = document.getElementById('grade-options');
            
            // Clear previous options
            gradeOptions.innerHTML = '';
            
            // Add options based on level
            if (level === 'SD') {
                addGradeOption('grade-4', 'Kelas <span class="roman">IV</span>', '4');
                addGradeOption('grade-5', 'Kelas <span class="roman">V</span>', '5');
                addGradeOption('grade-6', 'Kelas <span class="roman">VI</span>', '6');
            } else if (level === 'SMP') {
                addGradeOption('grade-7', 'Kelas <span class="roman">VII</span>', '7');
                addGradeOption('grade-8', 'Kelas <span class="roman">VIII</span>', '8');
                addGradeOption('grade-9', 'Kelas <span class="roman">IX</span>', '9');
            } else if (level === 'SMA/SMK') {
                addGradeOption('grade-10', 'Kelas <span class="roman">X</span>', '10');
                addGradeOption('grade-11', 'Kelas <span class="roman">XI</span>', '11');
                addGradeOption('grade-12', 'Kelas <span class="roman">XII</span>', '12');
            }
            
            document.getElementById('grade-selection').style.display = 'block';
            checkParticipantFormValidity();
        }
        
        function addGradeOption(id, label, value) {
            const container = document.getElementById('grade-options');
            
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.id = id;
            radio.name = 'grade';
            radio.value = value;
            radio.className = 'radio-option';
            
            const radioLabel = document.createElement('label');
            radioLabel.htmlFor = id;
            radioLabel.className = 'radio-label';
            radioLabel.innerHTML = label;
            
            // Add event listener for grade selection
            radio.addEventListener('change', function() {
                document.getElementById('subject-selection').style.display = 'block';
                checkParticipantFormValidity();
            });
            
            container.appendChild(radio);
            container.appendChild(radioLabel);
        }
        
        function checkParticipantFormValidity() {
            let isValid = true;
            
            // Check common fields
            const fullname = document.getElementById('fullname').value.trim();
            if (!fullname || !/^[A-Za-z ]+$/.test(fullname)) {
                isValid = false;
            }
            
            // Check student fields
            if (!document.getElementById('school-name').value.trim()) {
                isValid = false;
            }
            
            const studentId = document.getElementById('student-id').value.trim();
            if (!studentId || !/^[0-9]+$/.test(studentId)) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="purpose"]:checked')) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="level"]:checked')) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="grade"]:checked')) {
                isValid = false;
            }
            
            if (!document.querySelector('input[name="subject"]:checked')) {
                isValid = false;
            }
            
            document.getElementById('save-participant-btn').disabled = !isValid;
        }
        
        function startExam() {
            // Collect participant data
            participantData = {
                fullname: document.getElementById('fullname').value.trim(),
                status: 'pelajar',
                purpose: document.querySelector('input[name="purpose"]:checked')?.value,
                level: document.querySelector('input[name="level"]:checked')?.value,
                grade: document.querySelector('input[name="grade"]:checked')?.value,
                subject: document.querySelector('input[name="subject"]:checked')?.value,
                school: document.getElementById('school-name')?.value.trim(),
                studentId: document.getElementById('student-id')?.value.trim(),
                examDate: new Date().toISOString()
            };
            
            // Load questions based on level - hanya Agama Islam
            if (participantData.level && QUESTION_BANK[participantData.level]['Agama Islam']) {
                questions = QUESTION_BANK[participantData.level]['Agama Islam'];
            } else {
                // Default questions
                questions = QUESTION_BANK['SD']['Agama Islam'];
            }
            
            // Randomize questions if setting is enabled
            if (adminSettings.randomizeQuestions) {
                questions = shuffleArray(questions).slice(0, adminSettings.questionCount);
            } else {
                questions = questions.slice(0, adminSettings.questionCount);
            }
            
            // Initialize exam data
            examData = {
                startTime: new Date(),
                answered: 0,
                correct: 0,
                wrong: 0,
                unanswered: questions.length,
                answers: Array(questions.length).fill(null)
            };
            
            // Set exam time from admin settings
            examTimeLeft = adminSettings.examDuration * 60;
            
            // Hide participant form with slide out animation
            document.getElementById('participant-form').classList.add('slide-out');
            
            // Show exam screen after animation completes
            setTimeout(() => {
                document.getElementById('participant-form').style.display = 'none';
                document.getElementById('exam-screen').style.display = 'block';
                document.getElementById('exam-screen').classList.add('slide-in');
                currentScreen = 'exam';
                
                // Start timer
                startTimer();
                
                // Load first question
                loadQuestion(0);
            }, 500);
        }
        
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        function startTimer() {
            // Update timer display immediately
            updateTimerDisplay();
            
            // Start timer interval
            examTimer = setInterval(function() {
                examTimeLeft--;
                updateTimerDisplay();
                
                // Check if time is up
                if (examTimeLeft <= 0) {
                    clearInterval(examTimer);
                    finishExam();
                }
                
                // Show warning when 10 minutes left
                if (examTimeLeft === 600) { // 10 minutes = 600 seconds
                    showTimeWarning();
                }
                
                // Hide warning when 1 minute left
                if (examTimeLeft === 60) {
                    hideTimeWarning();
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const hours = Math.floor(examTimeLeft / 3600);
            const minutes = Math.floor((examTimeLeft % 3600) / 60);
            const seconds = examTimeLeft % 60;
            
            const timerElement = document.getElementById('exam-timer');
            timerElement.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Change style based on remaining time
            if (examTimeLeft <= 600) { // 10 minutes or less
                timerElement.classList.add('timer-warning');
                
                if (examTimeLeft <= 60) { // 1 minute or less
                    timerElement.classList.remove('timer-warning');
                    timerElement.classList.add('timer-danger');
                }
            } else {
                timerElement.classList.remove('timer-warning', 'timer-danger');
            }
        }
        
        function showTimeWarning() {
            const notification = document.getElementById('time-warning');
            notification.style.display = 'block';
            
            // Auto hide after 9 minutes (540 seconds)
            setTimeout(() => {
                notification.style.display = 'none';
            }, 540 * 1000);
        }
        
        function hideTimeWarning() {
            document.getElementById('time-warning').style.display = 'none';
        }
        
        function loadQuestion(index) {
            if (index < 0 || index >= questions.length) return;
            
            currentQuestionIndex = index;
            const question = questions[index];
            
            // Update question text
            document.getElementById('question-text').textContent = `Soal ${index + 1}: ${question.question}`;
            
            // Clear previous image if exists
            const imageContainer = document.getElementById('question-image-container');
            imageContainer.innerHTML = '';
            
            // Add image if exists
            if (question.image) {
                const img = document.createElement('img');
                img.src = question.image;
                img.style.maxWidth = '100%';
                img.style.maxHeight = '200px';
                img.style.marginBottom = '15px';
                img.style.display = 'block';
                imageContainer.appendChild(img);
            }
            
            // Clear previous options
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            // Add new options
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                
                // Check if this question was already answered
                if (examData.answers[index] !== null) {
                    if (examData.answers[index] === i) {
                        if (i === question.correctAnswer) {
                            optionElement.classList.add('correct');
                        } else {
                            optionElement.classList.add('incorrect');
                        }
                    } else if (i === question.correctAnswer) {
                        optionElement.classList.add('correct');
                    }
                    
                    // Show explanation if answered
                    document.getElementById('explanation-text').style.display = 'block';
                    document.getElementById('explanation-text').innerHTML = `<strong>Penjelasan:</strong> ${question.explanation}`;
                } else {
                    // Add click event for unanswered questions
                    optionElement.addEventListener('click', function() {
                        selectAnswer(index, i);
                    });
                }
                
                optionsContainer.appendChild(optionElement);
            });
            
            // Hide explanation if question not answered
            if (examData.answers[index] === null) {
                document.getElementById('explanation-text').style.display = 'none';
            }
        }
        
        function selectAnswer(questionIndex, answerIndex) {
            const question = questions[questionIndex];
            
            // Record answer
            examData.answers[questionIndex] = answerIndex;
            
            // Update counters
            examData.answered++;
            examData.unanswered--;
            
            if (answerIndex === question.correctAnswer) {
                examData.correct++;
                // Play correct answer sound
                correctAnswerSound.currentTime = 0;
                correctAnswerSound.play().catch(e => console.log("Correct answer sound prevented:", e));
            } else {
                examData.wrong++;
                // Play wrong answer sound
                wrongAnswerSound.currentTime = 0;
                wrongAnswerSound.play().catch(e => console.log("Wrong answer sound prevented:", e));
            }
            
            // Reload question to show result
            loadQuestion(questionIndex);
            
            // Auto move to next question after delay if not last question
            if (questionIndex < questions.length - 1) {
                setTimeout(() => {
                    loadQuestion(questionIndex + 1);
                }, 2000);
            }
        }
        
        function skipQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                loadQuestion(currentQuestionIndex + 1);
            }
        }
        
        function showUnansweredQuestions() {
            // Find first unanswered question
            const unansweredIndex = examData.answers.findIndex(answer => answer === null);
            
            if (unansweredIndex !== -1) {
                loadQuestion(unansweredIndex);
            } else {
                alert('Semua soal sudah dijawab.');
            }
        }
        
        function finishExam() {
            clearInterval(examTimer);
            
            // Calculate unanswered questions
            examData.unanswered = examData.answers.filter(answer => answer === null).length;
            
            // Generate certificate code
            const certificateCode = generateUniqueCode();
            
            // Add participant to data store
            const score = Math.round((examData.correct / questions.length) * 100);
            participantsData.push({
                ...participantData,
                score: score,
                examDate: new Date().toISOString(),
                certificateCode: certificateCode
            });
            saveParticipantsData();
            
            // Hide exam screen with slide out animation
            document.getElementById('exam-screen').classList.add('slide-out');
            
            // Show results screen after animation completes
            setTimeout(() => {
                document.getElementById('exam-screen').style.display = 'none';
                document.getElementById('results-screen').style.display = 'block';
                document.getElementById('results-screen').classList.add('slide-in');
                currentScreen = 'results';
                
                // Display results
                displayResults();
                
                // Generate certificate
                generateCertificate(certificateCode);
                
                // Show celebration particles
                showCelebration();
                
                // Play certificate sound (applause)
                certificateSound.currentTime = 0;
                certificateSound.play().catch(e => console.log("Certificate sound prevented:", e));
            }, 500);
        }
        
        function displayResults() {
            document.getElementById('result-name').textContent = participantData.fullname;
            document.getElementById('result-status').textContent = 'Pelajar';
            document.getElementById('result-level').textContent = participantData.level || '-';
            document.getElementById('result-grade').textContent = participantData.grade ? `Kelas ${participantData.grade}` : '-';
            document.getElementById('result-subject').textContent = participantData.subject || '-';
            document.getElementById('total-questions').textContent = questions.length;
            document.getElementById('correct-answers').textContent = examData.correct;
            document.getElementById('wrong-answers').textContent = examData.wrong;
            document.getElementById('unanswered-questions').textContent = examData.unanswered;
            
            // Calculate score (percentage)
            const score = Math.round((examData.correct / questions.length) * 100);
            document.getElementById('exam-score').textContent = `${score}%`;
        }
        
        function generateCertificate(certificateCode) {
            const certificateContainer = document.getElementById('certificate-container');
            certificateContainer.innerHTML = '';
            
            // Calculate score
            const score = Math.round((examData.correct / questions.length) * 100);
            
            // Get current date
            const now = new Date();
            const dateString = now.toLocaleDateString('id-ID', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            }).replace(/\//g, '');
            
            // Get motivational message based on score
            let motivation = '';
            for (const range in MOTIVATIONAL_MESSAGES) {
                const [min, max] = range.split('-').map(Number);
                if (score >= min && score <= max) {
                    motivation = MOTIVATIONAL_MESSAGES[range];
                    break;
                }
            }
            
            // Create certificate HTML
            const certificate = document.createElement('div');
            certificate.className = 'certificate';
            
            certificate.innerHTML = `
                <div class="certificate-content">
                    <h1 class="certificate-title">SERTIFIKAT PRESTASI</h1>
                    <p class="certificate-code">${formatName(participantData.fullname)}/PELAJAR/${participantData.level || 'UMUM'}/${participantData.subject || 'UMUM'}/${dateString}/${certificateCode}/PERGUNU-STB</p>
                    <p>Diberikan Kepada</p>
                    <h2 class="certificate-recipient">${formatName(participantData.fullname)}</h2>
                    <p class="certificate-body">
                        Atas Partisipasi & Pencapaian Luar Biasa Dalam<br>
                        Ujian Agama Islam Pergunu Situbondo
                    </p>
                    <p class="certificate-body">
                        Sebagai penghargaan atas dedikasi dalam memahami materi agama Islam dan meningkatkan keimanan, 
                        sertifikat ini diberikan sebagai motivasi untuk terus berkembang dalam ilmu agama.
                    </p>
                    <div class="certificate-score">Nilai: ${score}%</div>
                    <p class="certificate-motivation">${motivation}</p>
                    <div class="certificate-footer">
                        <p>Ditetapkan di: Situbondo, ${now.toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })}</p>
                        <div class="certificate-signature">
                            <p>Ketua Pergunu Situbondo</p>
                            <p><strong>${adminSettings.chairmanName}</strong></p>
                        </div>
                        <img src="https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/BARCODE.png" alt="Barcode" class="certificate-barcode">
                    </div>
                </div>
            `;
            
            certificateContainer.appendChild(certificate);
            certificateContainer.style.display = 'block';
        }
        
        function showCelebration() {
            // Show celebration particles
            document.getElementById('celebration-particles').style.display = 'block';
            
            // Hide after 5 seconds
            setTimeout(() => {
                document.getElementById('celebration-particles').style.display = 'none';
            }, 5000);
        }
        
        function formatName(name) {
            return name.split(' ').map(word => 
                word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()
            ).join(' ');
        }
        
        function generateUniqueCode() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = '';
            
            for (let i = 0; i < 4; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            result += '-';
            
            for (let i = 0; i < 4; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            return result;
        }
        
        function printCertificate() {
            // Hide floating buttons
            document.querySelector('.floating-buttons').style.display = 'none';
            
            // Hide other elements in results screen
            document.querySelector('.results-summary').style.display = 'none';
            document.querySelector('.result-actions').style.display = 'none';
            
            // Print the certificate
            window.print();
            
            // Show elements again after printing
            setTimeout(() => {
                document.querySelector('.floating-buttons').style.display = 'flex';
                document.querySelector('.results-summary').style.display = 'block';
                document.querySelector('.result-actions').style.display = 'block';
            }, 500);
        }
        
        function retakeExam() {
            // Hide results screen with slide out animation
            document.getElementById('results-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('results-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
                
                // Reset timer
                examTimeLeft = adminSettings.examDuration * 60;
            }, 500);
        }
        
        function contactAdmin() {
            const message = encodeURIComponent("Assalamualaikum mas admin, saya mau tanya sesuatu nih...");
            window.open(`https://wa.me/6285647709114?text=${message}`, '_blank');
        }
        
        function showAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'flex';
        }
        
        function hideAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'none';
        }
        
        function submitAdminPanelCode() {
            const code = document.getElementById('admin-panel-code').value;
            
            if (code === adminSettings.adminCode) {
                // Show admin panel content
                document.getElementById('admin-panel-content').style.display = 'block';
            } else {
                alert('Kode admin salah. Silakan coba lagi.');
            }
        }

        function loadParticipantsData() {
            const tableBody = document.getElementById('participants-table-body');
            tableBody.innerHTML = '';
            
            if (participantsData.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="10" style="text-align: center;">Belum ada data peserta</td></tr>';
                return;
            }
            
            // Sort by date (newest first)
            const sortedData = [...participantsData].sort((a, b) => 
                new Date(b.examDate) - new Date(a.examDate));
            
            sortedData.forEach((participant, index) => {
                const date = new Date(participant.examDate);
                const dateStr = date.toLocaleDateString('id-ID', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const row = document.createElement('tr');
                row.dataset.index = index;
                row.innerHTML = `
                    <td>
                        <input type="checkbox" class="select-checkbox" data-index="${index}" onchange="toggleParticipantSelection(${index})">
                    </td>
                    <td>${dateStr}</td>
                    <td>${participant.fullname}</td>
                    <td>${participant.studentId || '-'}</td>
                    <td>Pelajar</td>
                    <td>${participant.level || '-'}</td>
                    <td>${participant.grade ? `Kelas ${participant.grade}` : '-'}</td>
                    <td>${participant.subject || '-'}</td>
                    <td>${participant.score}%</td>
                    <td>${participant.certificateCode || '-'}</td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Reset selected participants
            selectedParticipants = [];
            updateParticipantActionButtons();
        }
        
        function toggleParticipantSelection(index) {
            const checkbox = document.querySelector(`.select-checkbox[data-index="${index}"]`);
            if (checkbox.checked) {
                if (!selectedParticipants.includes(index)) {
                    selectedParticipants.push(index);
                }
            } else {
                selectedParticipants = selectedParticipants.filter(i => i !== index);
            }
            
            // Update select all checkbox
            updateSelectAllCheckbox();
            
            // Update action buttons
            updateParticipantActionButtons();
        }
        
        function toggleSelectAllParticipants() {
            const selectAllCheckbox = document.getElementById('select-all-checkbox');
            const checkboxes = document.querySelectorAll('.select-checkbox');
            
            selectAllCheckbox.checked = !selectAllCheckbox.checked;
            const isChecked = selectAllCheckbox.checked;
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = isChecked;
                const index = parseInt(checkbox.dataset.index);
                
                if (isChecked) {
                    if (!selectedParticipants.includes(index)) {
                        selectedParticipants.push(index);
                    }
                } else {
                    selectedParticipants = selectedParticipants.filter(i => i !== index);
                }
            });
            
            // Update action buttons
            updateParticipantActionButtons();
        }
        
        function updateSelectAllCheckbox() {
            const checkboxes = document.querySelectorAll('.select-checkbox');
            const selectAllCheckbox = document.getElementById('select-all-checkbox');
            
            if (checkboxes.length === 0) {
                selectAllCheckbox.checked = false;
                return;
            }
            
            const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
            selectAllCheckbox.checked = allChecked;
        }
        
        function updateParticipantActionButtons() {
            const hasSelection = selectedParticipants.length > 0;
            
            document.getElementById('edit-selected-participants').disabled = !hasSelection;
            document.getElementById('delete-selected-participants').disabled = !hasSelection;
        }
        
        function editSelectedParticipants() {
            if (selectedParticipants.length === 0) return;
            
            // For now, we'll just edit the first selected participant
            // In a real app, you might want to implement bulk editing
            const index = selectedParticipants[0];
            editParticipant(index);
        }
        
        function editParticipant(index) {
            const participant = participantsData[index];
            
            // Fill the edit form
            document.getElementById('edit-fullname').value = participant.fullname;
            
            // Set status to student (only option now)
            document.getElementById('edit-status-student').checked = true;
            document.getElementById('edit-student-fields').style.display = 'block';
            
            // Fill student fields
            document.getElementById('edit-school-name').value = participant.school || '';
            document.getElementById('edit-student-id').value = participant.studentId || '';
            
            // Set purpose
            if (participant.purpose) {
                const purposeRadio = document.querySelector(`input[name="edit-purpose"][value="${participant.purpose}"]`);
                if (purposeRadio) purposeRadio.checked = true;
            }
            
            // Set level
            if (participant.level) {
                const levelRadio = document.querySelector(`input[name="edit-level"][value="${participant.level}"]`);
                if (levelRadio) levelRadio.checked = true;
                
                // Show grade selection
                showEditGradeSelection();
                
                // Set grade
                if (participant.grade) {
                    const gradeRadio = document.querySelector(`input[name="edit-grade"][value="${participant.grade}"]`);
                    if (gradeRadio) gradeRadio.checked = true;
                }
            }
            
            // Set subject
            if (participant.subject) {
                document.getElementById('edit-subject').value = participant.subject;
            }
            
            // Set score
            document.getElementById('edit-score').value = participant.score;
            
            // Set certificate code
            document.getElementById('edit-certificate-code').value = participant.certificateCode || '-';
            
            // Store index for saving
            document.getElementById('edit-participant-index').value = index;
            
            // Show the modal
            document.getElementById('edit-participant-modal').style.display = 'flex';
        }
        
        function toggleEditParticipantFields() {
            // Only student status is available now
            document.getElementById('edit-student-fields').style.display = 'block';
        }
        
        function showEditGradeSelection() {
            const level = document.querySelector('input[name="edit-level"]:checked')?.value;
            const gradeOptions = document.getElementById('edit-grade-options');
            
            // Clear previous options
            gradeOptions.innerHTML = '';
            
            if (!level) return;
            
            // Add options based on level
            if (level === 'SD') {
                addEditGradeOption('edit-grade-4', 'Kelas <span class="roman">IV</span>', '4');
                addEditGradeOption('edit-grade-5', 'Kelas <span class="roman">V</span>', '5');
                addEditGradeOption('edit-grade-6', 'Kelas <span class="roman">VI</span>', '6');
            } else if (level === 'SMP') {
                addEditGradeOption('edit-grade-7', 'Kelas <span class="roman">VII</span>', '7');
                addEditGradeOption('edit-grade-8', 'Kelas <span class="roman">VIII</span>', '8');
                addEditGradeOption('edit-grade-9', 'Kelas <span class="roman">IX</span>', '9');
            } else if (level === 'SMA/SMK') {
                addEditGradeOption('edit-grade-10', 'Kelas <span class="roman">X</span>', '10');
                addEditGradeOption('edit-grade-11', 'Kelas <span class="roman">XI</span>', '11');
                addEditGradeOption('edit-grade-12', 'Kelas <span class="roman">XII</span>', '12');
            }
        }
        
        function addEditGradeOption(id, label, value) {
            const container = document.getElementById('edit-grade-options');
            
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.id = id;
            radio.name = 'edit-grade';
            radio.value = value;
            radio.className = 'radio-option';
            
            const radioLabel = document.createElement('label');
            radioLabel.htmlFor = id;
            radioLabel.className = 'radio-label';
            radioLabel.innerHTML = label;
            
            container.appendChild(radio);
            container.appendChild(radioLabel);
        }
        
        function saveEditedParticipant() {
            const index = document.getElementById('edit-participant-index').value;
            if (!index) return;
            
            const participant = participantsData[index];
            
            // Update participant data
            participant.fullname = document.getElementById('edit-fullname').value.trim();
            participant.status = 'pelajar';
            participant.school = document.getElementById('edit-school-name').value.trim();
            participant.studentId = document.getElementById('edit-student-id').value.trim();
            participant.purpose = document.querySelector('input[name="edit-purpose"]:checked')?.value || '';
            participant.level = document.querySelector('input[name="edit-level"]:checked')?.value || '';
            participant.grade = document.querySelector('input[name="edit-grade"]:checked')?.value || '';
            participant.subject = document.getElementById('edit-subject').value;
            participant.score = parseInt(document.getElementById('edit-score').value);
            
            // Save to localStorage
            saveParticipantsData();
            
            // Reload participants data
            loadParticipantsData();
            
            // Hide modal
            hideEditParticipantModal();
            
            alert('Perubahan data peserta berhasil disimpan!');
        }
        
        function hideEditParticipantModal() {
            document.getElementById('edit-participant-modal').style.display = 'none';
        }
        
        function deleteSelectedParticipants() {
            if (selectedParticipants.length === 0) return;
            
            if (!confirm(`Apakah Anda yakin ingin menghapus ${selectedParticipants.length} peserta terpilih?`)) {
                return;
            }
            
            // Sort in descending order to avoid index issues when deleting
            const sortedIndices = [...selectedParticipants].sort((a, b) => b - a);
            
            // Delete participants
            sortedIndices.forEach(index => {
                participantsData.splice(index, 1);
            });
            
            // Save to localStorage
            saveParticipantsData();
            
            // Reload participants data
            loadParticipantsData();
            
            alert(`${sortedIndices.length} peserta berhasil dihapus!`);
        }
        
        function searchParticipants() {
            const searchTerm = document.getElementById('participant-search').value.toLowerCase();
            const rows = document.querySelectorAll('#participants-table-body tr');
            
            rows.forEach(row => {
                const index = parseInt(row.dataset.index);
                const participant = participantsData[index];
                const rowText = `
                    ${participant.fullname.toLowerCase()} 
                    ${participant.studentId || ''} 
                    ${participant.certificateCode || ''}
                `;
                
                if (rowText.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
        
        function validateCertificate() {
            const code = document.getElementById('certificate-code-input').value.trim();
            const validationResult = document.getElementById('validation-result');
            
            if (!code) {
                alert('Silakan masukkan kode sertifikat');
                return;
            }
            
            // Find participant with this certificate code
            const participant = participantsData.find(p => p.certificateCode === code);
            
            if (participant) {
                validationResult.innerHTML = `
                    <p class="valid-certificate">Sertifikat Valid!</p>
                    <p>Nama: ${participant.fullname}</p>
                    <p>Status: Pelajar</p>
                    <p>Tingkat: ${participant.level || '-'}</p>
                    <p>Kelas: ${participant.grade ? `Kelas ${participant.grade}` : '-'}</p>
                    <p>Mata Ujian: ${participant.subject || '-'}</p>
                    <p>Nilai: ${participant.score}%</p>
                    <p>Tanggal Ujian: ${new Date(participant.examDate).toLocaleDateString('id-ID')}</p>
                `;
                validationResult.style.display = 'block';
            } else {
                validationResult.innerHTML = '<p class="invalid-certificate">Sertifikat Tidak Valid!</p>';
                validationResult.style.display = 'block';
            }
        }
        
        function saveCodes() {
            const newLoginCode = document.getElementById('new-login-code').value;
            const newAdminCode = document.getElementById('new-admin-code').value;
            
            if (newLoginCode) {
                adminSettings.loginCode = newLoginCode;
                document.getElementById('new-login-code').value = '';
            }
            
            if (newAdminCode) {
                adminSettings.adminCode = newAdminCode;
                document.getElementById('new-admin-code').value = '';
            }
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Kode berhasil diubah!');
        }
        
        function saveContent() {
            const greetingMessage = document.getElementById('greeting-message-input').value;
            const adminMessage = document.getElementById('admin-message-input').value;
            const chairmanName = document.getElementById('chairman-name').value;
            
            // Update admin settings
            adminSettings.greetingMessage = greetingMessage;
            adminSettings.adminMessage = adminMessage;
            adminSettings.chairmanName = chairmanName;
            
            // Update UI
            document.getElementById('greeting-text').textContent = greetingMessage;
            document.getElementById('admin-message').textContent = adminMessage;
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Perubahan konten berhasil disimpan!');
        }
        
        function saveSettings() {
            const examDuration = parseInt(document.getElementById('exam-duration').value);
            const questionCount = parseInt(document.getElementById('question-count').value);
            const randomizeQuestions = document.getElementById('randomize-questions').checked;
            
            // Update admin settings
            adminSettings.examDuration = examDuration;
            adminSettings.questionCount = questionCount;
            adminSettings.randomizeQuestions = randomizeQuestions;
            
            // Update subject toggle
            adminSettings.enabledSubjects = {
                "Agama Islam": document.getElementById('toggle-religion').checked
            };
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Pengaturan berhasil disimpan!');
        }
    </script>
</body>
</html>
