<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Online Agama Islam PERGUNU Situbondo</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --color-primary: #6a11cb;
            --color-secondary: #2575fc;
            --color-tertiary: #00c6fb;
            --color-success: #4CAF50;
            --color-error: #f44336;
            --color-warning: #ff9800;
            --color-info: #2196F3;
            --color-dark: #1a1a2e;
            --color-light: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary), var(--color-tertiary));
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Particle Background */
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
        }

        #celebration-particles {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            pointer-events: none;
            display: none;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        .logo {
            height: 80px;
            margin-bottom: 15px;
        }

        /* Card Styles */
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        /* Button Styles */
        .btn {
            display: inline-block;
            padding: 12px 25px;
            border-radius: 50px;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            text-decoration: none;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(37, 117, 252, 0.3);
            margin: 5px;
            text-align: center;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(37, 117, 252, 0.4);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-success {
            background: linear-gradient(to right, var(--color-success), #2ecc71);
        }

        .btn-danger {
            background: linear-gradient(to right, var(--color-error), #e74c3c);
        }

        .btn-warning {
            background: linear-gradient(to right, var(--color-warning), #f39c12);
        }

        .btn-info {
            background: linear-gradient(to right, var(--color-info), #3498db);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-secondary);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 0 3px rgba(37, 117, 252, 0.2);
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        /* Radio and Checkbox Styles */
        .radio-group, .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .radio-option, .checkbox-option {
            display: none;
        }

        .radio-label, .checkbox-label {
            padding: 10px 20px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .radio-option:checked + .radio-label,
        .checkbox-option:checked + .checkbox-label {
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            box-shadow: 0 4px 15px rgba(37, 117, 252, 0.3);
        }

        /* Custom Checkbox for Terms */
        .terms-checkbox-container {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .terms-checkbox {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            accent-color: var(--color-secondary);
        }
        
        .terms-text {
            font-size: 14px;
        }

        /* Animation Classes */
        .slide-in {
            animation: slideIn 0.5s forwards;
        }

        .slide-out {
            animation: slideOut 0.5s forwards;
        }

        .fade-in {
            animation: fadeIn 0.5s forwards;
        }

        .fade-out {
            animation: fadeOut 0.5s forwards;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-100%); opacity: 0; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        /* Timer Styles */
        .timer {
            font-size: 24px;
            font-weight: 700;
            text-align: center;
            margin: 20px 0;
            color: white;
            transition: all 0.3s ease;
        }

        .timer-warning {
            color: var(--color-warning);
            font-size: 28px;
        }

        .timer-danger {
            color: var(--color-error);
            font-size: 32px;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            z-index: 1000;
            animation: slideUp 0.5s forwards;
            max-width: 90%;
            text-align: center;
        }

        @keyframes slideUp {
            from { bottom: -50px; opacity: 0; }
            to { bottom: 20px; opacity: 1; }
        }

        /* Question Styles */
        .question-container {
            margin-bottom: 30px;
        }

        .question {
            font-size: 18px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .option {
            padding: 15px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .option.correct {
            background: var(--color-success);
            animation: correctAnswer 0.5s;
        }

        .option.incorrect {
            background: var(--color-error);
            animation: incorrectAnswer 0.5s;
        }

        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectAnswer {
            0% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-10px); }
            80% { transform: translateX(10px); }
            100% { transform: translateX(0); }
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            display: none;
        }

        /* Certificate Styles - REVISED FOR PRINTING */
        .certificate {
            background: white;
            color: #333;
            padding: 0;
            border-radius: 0;
            box-shadow: none;
            width: 210mm; /* A4 width */
            height: 297mm; /* A4 height */
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            background-image: url('https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/certificate.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            flex-direction: column;
            justify-content: center;
            page-break-after: avoid;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        .certificate-content {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 40px 60px;
            margin: 0 auto;
            width: 80%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .certificate-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--color-primary);
            text-transform: uppercase;
        }

        .certificate-code {
            font-size: 14px;
            margin-bottom: 30px;
            color: #555;
            letter-spacing: 1px;
        }

        .certificate-recipient {
            font-size: 48px;
            margin: 20px 0;
            font-weight: 600;
            color: #333;
            font-family: 'Dancing Script', cursive;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .certificate-body {
            font-size: 16px;
            line-height: 1.6;
            margin: 10px 0;
            color: #333;
        }

        .certificate-score {
            font-size: 28px;
            font-weight: 700;
            color: var(--color-primary);
            margin: 20px 0;
        }

        .certificate-motivation {
            font-style: italic;
            margin: 15px 0;
            font-size: 14px;
            color: #555;
        }

        .certificate-footer {
            margin-top: 30px;
            font-size: 12px;
            color: #555;
        }

        .certificate-signature {
            margin-top: 40px;
            font-size: 14px;
        }

        .certificate-barcode {
            margin: 15px auto;
            height: 80px;
            width: auto;
        }

        /* Floating Button Styles */
        .floating-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 100;
        }

        .floating-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .floating-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .floating-btn .tooltip {
            position: absolute;
            right: 60px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .floating-btn:hover .tooltip {
            opacity: 1;
            right: 70px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            color: #333;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalFadeIn 0.3s;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--color-primary);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        /* Roman numeral styles */
        .roman {
            font-family: 'Times New Roman', serif;
            font-style: italic;
        }

        /* Print Styles - REVISED FOR BETTER PRINTING */
        @media print {
            body * {
                visibility: hidden;
                background: white !important;
                color: black !important;
            }
            
            .certificate, 
            .certificate * {
                visibility: visible;
                background: transparent !important;
                color: #333 !important;
            }
            
            .certificate {
                position: absolute;
                left: 0;
                top: 0;
                width: 210mm !important;
                height: 297mm !important;
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                border-radius: 0 !important;
                background-image: url('https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/certificate.png') !important;
                background-size: cover !important;
                background-position: center !important;
                background-repeat: no-repeat !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                page-break-after: avoid !important;
                page-break-inside: avoid !important;
            }
            
            .certificate-content {
                padding: 40px 60px !important;
                margin: 0 auto !important;
                width: 80% !important;
                height: 100% !important;
                display: flex !important;
                flex-direction: column !important;
                justify-content: center !important;
            }
            
            .certificate-recipient {
                font-size: 48px !important;
                font-family: 'Dancing Script', cursive !important;
            }
            
            .floating-buttons, 
            .results-summary, 
            .result-actions {
                display: none !important;
            }
            
            @page {
                size: A4 portrait;
                margin: 0;
            }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .card {
                padding: 20px;
            }
            
            .certificate-content {
                padding: 30px;
                width: 90%;
            }
            
            .certificate-title {
                font-size: 24px;
            }
            
            .certificate-recipient {
                font-size: 36px;
            }
            
            .floating-buttons {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .btn {
                padding: 10px 20px;
                font-size: 14px;
            }
            
            .form-control {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            .certificate-content {
                padding: 20px;
                width: 95%;
            }
            
            .certificate-title {
                font-size: 20px;
            }
            
            .certificate-recipient {
                font-size: 28px;
            }
        }

        /* Admin Panel Specific Styles */
        .admin-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .admin-section h5 {
            color: var(--color-primary);
            margin-bottom: 15px;
            font-size: 18px;
        }

        .admin-controls {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .admin-control-group {
            margin-bottom: 15px;
        }

        .admin-control-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            font-size: 14px;
        }

        .admin-control-input {
            width: 100%;
            padding: 10px 12px;
            border-radius: 6px;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        .admin-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--color-success);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        .participant-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 10px;
        }

        .participant-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }

        .participant-item:last-child {
            border-bottom: none;
        }

        .export-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        /* Table Styles */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 14px;
        }

        .data-table th, .data-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .data-table th {
            background-color: #f5f5f5;
            font-weight: 600;
        }

        .data-table tr:hover {
            background-color: #f9f9f9;
        }

        /* Checkbox styles for participant selection */
        .select-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .select-all-checkbox {
            margin-right: 5px;
        }

        .participant-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        /* Search Box */
        .search-box {
            margin-bottom: 15px;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        /* Edit Participant Modal */
        .edit-participant-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .edit-participant-content {
            background: white;
            color: #333;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .edit-participant-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        /* Certificate Validation Section */
        .certificate-validation {
            margin-top: 20px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 8px;
        }

        .validation-result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        .valid-certificate {
            background-color: #dff0d8;
            color: #3c763d;
        }

        .invalid-certificate {
            background-color: #f2dede;
            color: #a94442;
        }

        /* Alert Styles */
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            font-size: 14px;
        }

        .alert-success {
            background-color: #dff0d8;
            color: #3c763d;
            border: 1px solid #d6e9c6;
        }

        .alert-danger {
            background-color: #f2dede;
            color: #a94442;
            border: 1px solid #ebccd1;
        }

        /* Error message styles */
        .error-message {
            color: var(--color-error);
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

        /* Warning notification */
        .warning-notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--color-warning);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            display: none;
            animation: fadeIn 0.3s;
        }

        /* Input error state */
        .input-error {
            border-color: var(--color-error) !important;
            background: rgba(244, 67, 54, 0.1) !important;
        }

        /* Radio group error */
        .radio-group-error {
            outline: 2px solid var(--color-error);
            border-radius: 8px;
            padding: 5px;
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div id="celebration-particles"></div>
    
    <!-- Warning notification for incomplete form -->
    <div class="warning-notification" id="form-warning">
        <i class="fas fa-exclamation-circle"></i> Harap lengkapi semua data peserta dengan benar sebelum melanjutkan!
    </div>
    
    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="card slide-in">
            <div class="header">
                <img src="https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/logo.png" alt="PERGUNU Logo" class="logo">
                <h1>Ujian Online Agama Islam PERGUNU Situbondo</h1>
            </div>
            
            <div id="greeting-message">
                <p id="greeting-text">Selamat datang di sistem ujian online Agama Islam PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.</p>
            </div>
            
            <div class="form-group">
                <label for="login-code" class="form-label">Kode Login</label>
                <input type="password" id="login-code" class="form-control" placeholder="Masukkan kode login">
                <small class="text-muted">Kode login diberikan oleh admin</small>
            </div>
            
            <button id="login-btn" class="btn">Masuk</button>
        </div>
        
        <!-- Terms Screen (Hidden Initially) -->
        <div id="terms-screen" class="card" style="display: none;">
            <h2>Peraturan dan Kebijakan Ujian Online</h2>
            <div class="terms-content" style="max-height: 300px; overflow-y: auto; margin: 20px 0; padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                <p>1. Ujian ini dikembangkan oleh Cendhanu Tim Kreator PERGUNU Situbondo.</p>
                <p>2. Peserta wajib mengisi data diri dengan benar dan lengkap.</p>
                <p>3. Dilarang keras melakukan kecurangan selama ujian berlangsung.</p>
                <p>4. Waktu ujian akan berjalan terus dan tidak dapat dihentikan.</p>
                <p>5. Jawaban yang sudah dipilih tidak dapat diubah.</p>
                <p>6. Soal yang tidak dijawab akan dianggap salah.</p>
                <p>7. Hasil ujian akan ditampilkan setelah waktu habis atau peserta menyelesaikan ujian.</p>
                <p>8. Sertifikat akan diberikan kepada peserta yang menyelesaikan ujian.</p>
                <p>9. Keputusan panitia ujian bersifat mutlak dan tidak dapat diganggu gugat.</p>
            </div>
            
            <div class="terms-checkbox-container">
                <input type="checkbox" id="agree-terms" class="terms-checkbox" required>
                <span class="terms-text">Saya telah membaca dan menyetujui peraturan di atas</span>
            </div>
            
            <button id="continue-btn" class="btn" disabled>Lanjut Ikut Ujian</button>
        </div>
        
        <!-- Participant Form (Hidden Initially) -->
        <div id="participant-form" class="card" style="display: none;">
            <h2>Formulir Data Peserta</h2>
            <p>Silakan isi data diri Anda dengan benar. Data ini akan digunakan untuk sertifikat ujian.</p>
            
            <div class="form-group">
                <label for="fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="fullname" class="form-control" placeholder="Masukkan nama lengkap" pattern="[A-Za-z ]+" title="Hanya huruf diperbolehkan" required>
                <div class="error-message" id="fullname-error">Nama lengkap harus diisi dan hanya boleh mengandung huruf</div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Status</label>
                <div class="radio-group">
                    <input type="radio" id="status-student" name="status" value="pelajar" class="radio-option" checked>
                    <label for="status-student" class="radio-label">Pelajar</label>
                </div>
            </div>
            
            <!-- Student Fields -->
            <div id="student-fields">
                <div class="form-group">
                    <label for="school-name" class="form-label">Nama Sekolah</label>
                    <input type="text" id="school-name" class="form-control" placeholder="Masukkan nama sekolah" required>
                    <div class="error-message" id="school-error">Nama sekolah harus diisi</div>
                </div>
                
                <div class="form-group">
                    <label for="student-id" class="form-label">NIS (Nomor Induk Siswa)</label>
                    <input type="text" id="student-id" class="form-control" placeholder="Masukkan NIS" pattern="[0-9]+" title="Hanya angka diperbolehkan" required>
                    <div class="error-message" id="nis-error">NIS harus diisi dan hanya boleh mengandung angka</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tujuan Ikut Ujian</label>
                    <div class="radio-group" id="purpose-radio-group">
                        <input type="radio" id="purpose-task" name="purpose" value="Tugas Sekolah" class="radio-option">
                        <label for="purpose-task" class="radio-label">Tugas Sekolah</label>
                        
                        <input type="radio" id="purpose-exam" name="purpose" value="Tugas Ulangan" class="radio-option">
                        <label for="purpose-exam" class="radio-label">Tugas Ulangan</label>
                        
                        <input type="radio" id="purpose-test" name="purpose" value="Tes dan Belajar" class="radio-option">
                        <label for="purpose-test" class="radio-label">Tes dan Belajar</label>
                    </div>
                    <div class="error-message" id="purpose-error">Silakan pilih tujuan ikut ujian</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tingkat Sekolah</label>
                    <div class="radio-group" id="level-radio-group">
                        <input type="radio" id="level-elementary" name="level" value="SD" class="radio-option">
                        <label for="level-elementary" class="radio-label">SD</label>
                        
                        <input type="radio" id="level-junior" name="level" value="SMP" class="radio-option">
                        <label for="level-junior" class="radio-label">SMP</label>
                        
                        <input type="radio" id="level-senior" name="level" value="SMA/SMK" class="radio-option">
                        <label for="level-senior" class="radio-label">SMA/SMK</label>
                    </div>
                    <div class="error-message" id="level-error">Silakan pilih tingkat sekolah</div>
                </div>
            </div>
            
            <!-- Grade Selection (Will be shown based on school level) -->
            <div id="grade-selection" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Kelas</label>
                    <div class="radio-group" id="grade-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                    <div class="error-message" id="grade-error">Silakan pilih kelas</div>
                </div>
            </div>
            
            <!-- Subject Selection -->
            <div id="subject-selection" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Pilih Jenis Ujian</label>
                    <div class="radio-group" id="subject-radio-group">
                        <input type="radio" id="subject-religion" name="subject" value="Agama Islam" class="radio-option" checked>
                        <label for="subject-religion" class="radio-label">Agama Islam</label>
                    </div>
                    <div class="error-message" id="subject-error">Silakan pilih jenis ujian</div>
                </div>
            </div>
            
            <!-- Admin Information -->
            <div class="form-group" id="admin-info" style="margin-top: 30px;">
                <p>Informasi berkala dari admin:</p>
                <div style="padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                    <p id="admin-message">Tidak ada informasi terbaru saat ini.</p>
                </div>
            </div>
            
            <button id="save-participant-btn" class="btn" disabled>Simpan & Ikut Ujian</button>
        </div>
        
        <!-- Exam Screen (Hidden Initially) -->
        <div id="exam-screen" class="card" style="display: none;">
            <div class="timer" id="exam-timer">02:00:00</div>
            
            <div class="question-container">
                <div class="question" id="question-text">Memuat soal...</div>
                <div id="question-image-container" style="margin-bottom: 15px;"></div>
                
                <div class="options" id="options-container">
                    <!-- Options will be populated by JavaScript -->
                </div>
                
                <div class="explanation" id="explanation-text">
                    <!-- Explanation will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="exam-controls">
                <button id="finish-exam-btn" class="btn btn-danger">Selesaikan Ujian Sekarang</button>
                <button id="skip-question-btn" class="btn btn-warning">Lewati Soal</button>
                <button id="unanswered-btn" class="btn btn-info">Soal Belum Dijawab</button>
            </div>
        </div>
        
        <!-- Results Screen (Hidden Initially) -->
        <div id="results-screen" class="card" style="display: none;">
            <h2>Hasil Ujian</h2>
            
            <div class="results-summary">
                <p>Nama: <span id="result-name"></span></p>
                <p>Status: <span id="result-status"></span></p>
                <p>Tingkat: <span id="result-level"></span></p>
                <p>Kelas: <span id="result-grade"></span></p>
                <p>Mata Ujian: <span id="result-subject"></span></p>
                <p>Jumlah Soal: <span id="total-questions"></span></p>
                <p>Jawaban Benar: <span id="correct-answers"></span></p>
                <p>Jawaban Salah: <span id="wrong-answers"></span></p>
                <p>Tidak Dijawab: <span id="unanswered-questions"></span></p>
                <p>Nilai: <span id="exam-score"></span></p>
            </div>
            
            <div class="certificate-container" id="certificate-container" style="display: none;">
                <!-- Certificate will be generated here -->
            </div>
            
            <div class="result-actions">
                <button id="print-certificate-btn" class="btn btn-success">Cetak Sertifikat</button>
                <button id="retake-exam-btn" class="btn btn-info">Ulangi Ujian</button>
            </div>
        </div>
    </div>
    
    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <button class="floating-btn" id="whatsapp-btn">
            <i class="fab fa-whatsapp"></i>
            <span class="tooltip">Chat Admin</span>
        </button>
        
        <button class="floating-btn" id="admin-panel-btn">
            <i class="fas fa-cog"></i>
            <span class="tooltip">Admin Panel</span>
        </button>
    </div>
    
    <!-- Admin Panel Modal -->
    <div class="modal" id="admin-panel-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Kontrol Panel Admin</h3>
                <button class="modal-close" id="close-admin-panel-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="admin-panel-code" class="form-label">Kode Admin</label>
                    <input type="password" id="admin-panel-code" class="form-control" placeholder="Masukkan kode admin" style="color: #333;">
                    <button id="submit-admin-panel-code" class="btn">Masuk</button>
                </div>
                
                <div id="admin-panel-content" style="display: none;">
                    <div class="admin-section">
                        <h5>Pengaturan Kode</h5>
                        <div class="form-group">
                            <label class="form-label">Kode Login Baru</label>
                            <input type="password" id="new-login-code" class="form-control" placeholder="Masukkan kode login baru" style="color: #333;">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Kode Admin Baru</label>
                            <input type="password" id="new-admin-code" class="form-control" placeholder="Masukkan kode admin baru" style="color: #333;">
                        </div>
                        
                        <button id="save-codes-btn" class="btn btn-success">Simpan Kode</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Ujian</h5>
                        <div class="admin-controls">
                            <div class="admin-control-group">
                                <label class="admin-control-label">Durasi Ujian (menit)</label>
                                <input type="number" id="exam-duration" class="admin-control-input" value="120" min="5" max="300">
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Konten</h5>
                        <div class="form-group">
                            <label class="form-label">Pesan Pembuka</label>
                            <textarea id="greeting-message-input" class="form-control" rows="3" style="color: #333;">Selamat datang di sistem ujian online Agama Islam PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Pesan Informasi Berkala</label>
                            <textarea id="admin-message-input" class="form-control" rows="3" style="color: #333;">Tidak ada informasi terbaru saat ini.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Nama Ketua PERGUNU</label>
                            <input type="text" id="chairman-name" class="form-control" value="Moh. Nuril Hudha, S.Pd., M.Si." style="color: #333;">
                        </div>
                        <button id="save-content-btn" class="btn btn-success">Simpan Perubahan</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Manajemen Peserta</h5>
                        <div class="search-box">
                            <input type="text" id="participant-search" class="search-input" placeholder="Cari peserta berdasarkan nama, NIS, atau kode sertifikat...">
                        </div>
                        <div class="participant-actions">
                            <button id="select-all-participants" class="btn btn-info">
                                <input type="checkbox" id="select-all-checkbox" class="select-all-checkbox">
                                Pilih Semua
                            </button>
                            <button id="edit-selected-participants" class="btn btn-warning" disabled>
                                <i class="fas fa-edit"></i> Edit Terpilih
                            </button>
                            <button id="delete-selected-participants" class="btn btn-danger" disabled>
                                <i class="fas fa-trash"></i> Hapus Terpilih
                            </button>
                        </div>
                        <div class="participant-list">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th width="30px">
                                            <!-- Select all checkbox -->
                                        </th>
                                        <th>Tanggal</th>
                                        <th>Nama</th>
                                        <th>NIS</th>
                                        <th>Status</th>
                                        <th>Tingkat</th>
                                        <th>Kelas</th>
                                        <th>Mata Ujian</th>
                                        <th>Nilai</th>
                                        <th>Kode Sertifikat</th>
                                    </tr>
                                </thead>
                                <tbody id="participants-table-body">
                                    <!-- Participant data will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                        <div class="export-buttons">
                            <button id="export-csv-btn" class="btn btn-info">
                                <i class="fas fa-file-csv"></i> Export to CSV
                            </button>
                            <button id="export-json-btn" class="btn btn-info">
                                <i class="fas fa-file-code"></i> Export to JSON
                            </button>
                            <button id="export-excel-btn" class="btn btn-success">
                                <i class="fas fa-file-excel"></i> Export to Excel
                            </button>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Validasi Sertifikat</h5>
                        <div class="certificate-validation">
                            <div class="form-group">
                                <label class="form-label">Masukkan Kode Sertifikat</label>
                                <input type="text" id="certificate-code-input" class="form-control" placeholder="Masukkan kode sertifikat" style="color: #333;">
                                <button id="validate-certificate-btn" class="btn btn-info">Validasi</button>
                            </div>
                            <div id="validation-result" class="validation-result" style="display: none;">
                                <!-- Validation result will be shown here -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Aktifkan/Nonaktifkan Ujian</h5>
                        <div class="admin-control-group">
                            <label class="admin-control-label">Agama Islam</label>
                            <div class="admin-toggle">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="toggle-religion" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span id="religion-status">Aktif</span>
                            </div>
                        </div>
                        <button id="save-settings-btn" class="btn btn-success">Simpan Pengaturan</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Edit Participant Modal -->
    <div class="edit-participant-modal" id="edit-participant-modal">
        <div class="edit-participant-content">
            <span class="edit-participant-close" id="close-edit-participant-modal">&times;</span>
            <h3>Edit Data Peserta</h3>
            
            <div class="form-group">
                <label for="edit-fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="edit-fullname" class="form-control" style="color: #333;" pattern="[A-Za-z ]+" title="Hanya huruf diperbolehkan" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Status</label>
                <div class="radio-group">
                    <input type="radio" id="edit-status-student" name="edit-status" value="pelajar" class="radio-option" checked>
                    <label for="edit-status-student" class="radio-label">Pelajar</label>
                </div>
            </div>
            
            <div id="edit-student-fields">
                <div class="form-group">
                    <label for="edit-school-name" class="form-label">Nama Sekolah</label>
                    <input type="text" id="edit-school-name" class="form-control" style="color: #333;">
                </div>
                
                <div class="form-group">
                    <label for="edit-student-id" class="form-label">NIS (Nomor Induk Siswa)</label>
                    <input type="text" id="edit-student-id" class="form-control" style="color: #333;" pattern="[0-9]+" title="Hanya angka diperbolehkan" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tujuan Ikut Ujian</label>
                    <div class="radio-group">
                        <input type="radio" id="edit-purpose-task" name="edit-purpose" value="Tugas Sekolah" class="radio-option">
                        <label for="edit-purpose-task" class="radio-label">Tugas Sekolah</label>
                        
                        <input type="radio" id="edit-purpose-exam" name="edit-purpose" value="Tugas Ulangan" class="radio-option">
                        <label for="edit-purpose-exam" class="radio-label">Tugas Ulangan</label>
                        
                        <input type="radio" id="edit-purpose-test" name="edit-purpose" value="Tes dan Belajar" class="radio-option">
                        <label for="edit-purpose-test" class="radio-label">Tes dan Belajar</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tingkat Sekolah</label>
                    <div class="radio-group">
                        <input type="radio" id="edit-level-elementary" name="edit-level" value="SD" class="radio-option">
                        <label for="edit-level-elementary" class="radio-label">SD</label>
                        
                        <input type="radio" id="edit-level-junior" name="edit-level" value="SMP" class="radio-option">
                        <label for="edit-level-junior" class="radio-label">SMP</label>
                        
                        <input type="radio" id="edit-level-senior" name="edit-level" value="SMA/SMK" class="radio-option">
                        <label for="edit-level-senior" class="radio-label">SMA/SMK</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Kelas</label>
                    <div class="radio-group" id="edit-grade-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Mata Ujian</label>
                <select id="edit-subject" class="form-control" style="color: #333;">
                    <option value="Agama Islam">Agama Islam</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="edit-score" class="form-label">Nilai</label>
                <input type="number" id="edit-score" class="form-control" min="0" max="100" style="color: #333;">
            </div>
            
            <div class="form-group">
                <label for="edit-certificate-code" class="form-label">Kode Sertifikat</label>
                <input type="text" id="edit-certificate-code" class="form-control" style="color: #333;" readonly>
            </div>
            
            <button id="save-edit-participant-btn" class="btn btn-success">Simpan Perubahan</button>
            
            <input type="hidden" id="edit-participant-index">
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="time-warning" style="display: none;">
        Perhatian! Ujian akan berakhir dalam waktu 10 menit. Mohon pastikan semua jawaban telah diselesaikan dan diperiksa sebelum waktu habis. Terima kasih atas partisipasi Anda.
    </div>

    <!-- Audio Elements -->
    <audio id="button-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/audiotombol.mp3" preload="auto"></audio>
    <audio id="correct-answer-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/jawabanbenar.mp3" preload="auto"></audio>
    <audio id="wrong-answer-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/jawabansalah.mp3" preload="auto"></audio>
    <audio id="certificate-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/applause.mp3" preload="auto"></audio>
    <audio id="opening-sound" src="https://github.com/pergunu/ujian-online/raw/main/assets/audio/opening.mp3" preload="auto"></audio>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script>
        // Global variables
        let currentScreen = 'welcome';
        let participantData = {};
        let examData = {};
        let questions = [];
        let currentQuestionIndex = 0;
        let answeredQuestions = {};
        let examTimer;
        let examTimeLeft = 120 * 60; // 120 minutes in seconds
        let selectedParticipants = [];
        let questionOrder = []; // Untuk menyimpan urutan soal yang diacak

        // URL Google Apps Script untuk penyimpanan data
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzuh1M0pS64v5e_HYGafcG7CD8RwCEf4FVroKnOT1DujxTdCnn6zTBeQvSwgmenspgN/exec';

        // Audio elements
        const buttonSound = document.getElementById('button-sound');
        const correctAnswerSound = document.getElementById('correct-answer-sound');
        const wrongAnswerSound = document.getElementById('wrong-answer-sound');
        const certificateSound = document.getElementById('certificate-sound');
        const openingSound = document.getElementById('opening-sound');
        
        // Default codes (should be changed in production)
        const DEFAULT_LOGIN_CODE = '12345';
        const DEFAULT_ADMIN_PANEL_CODE = '65614222';
        
        // Store participants data in localStorage
        let participantsData = JSON.parse(localStorage.getItem('pergunuParticipantsData')) || [];
        
        // Store admin settings in localStorage
        let adminSettings = JSON.parse(localStorage.getItem('pergunuAdminSettings')) || {
            loginCode: DEFAULT_LOGIN_CODE,
            adminCode: DEFAULT_ADMIN_PANEL_CODE,
            examDuration: 120,
            greetingMessage: "Selamat datang di sistem ujian online Agama Islam PERGUNU Situbondo. Silakan masukkan kode login untuk melanjutkan.",
            adminMessage: "Tidak ada informasi terbaru saat ini.",
            chairmanName: "Moh. Nuril Hudha, S.Pd., M.Si.",
            enabledSubjects: {
                "Agama Islam": true
            }
        };

        // Expanded Question bank with more questions (Agama Islam only)
        let QUESTION_BANK = {
            'SD': {
                'Agama Islam': [
                    {
                question: "Salah satu sifat wajib bagi Allah adalah 'Qidam' yang artinya... Jelaskan makna sifat tersebut beserta contoh penerapannya dalam kehidupan sehari-hari!",
                options: [
                    "A. Allah Maha Awal tanpa permulaan, menunjukkan kekekalan-Nya",
                    "B. Allah Maha Mengetahui segala sesuatu",
                    "C. Allah Maha Kuasa atas segala sesuatu",
                    "D. Allah Maha Melihat semua perbuatan makhluk",
                    "E. Allah Maha Hidup dan tidak pernah mati"
                ],
                correctAnswer: 0,
                explanation: "Qidam artinya Allah Maha Awal tanpa permulaan. Contoh penerapan: Meyakini bahwa Allah selalu ada sebelum segala ciptaan-Nya ada, sehingga kita harus selalu bersyukur atas segala nikmat yang diberikan."
            },
            {
                question: "Mengapa Nabi Muhammad SAW disebut 'Khatamul Anbiya'? Jelaskan dengan menyertakan dalil dari Al-Qur'an!",
                options: [
                    "A. Karena beliau adalah nabi terakhir yang diutus Allah, sebagaimana dalam QS. Al-Ahzab: 40",
                    "B. Karena beliau memiliki mukjizat terbesar yaitu Al-Qur'an",
                    "C. Karena beliau menyempurnakan ajaran nabi-nabi sebelumnya",
                    "D. Karena beliau diutus untuk seluruh umat manusia",
                    "E. Karena beliau memiliki akhlak yang paling mulia"
                ],
                correctAnswer: 0,
                explanation: "Nabi Muhammad disebut Khatamul Anbiya karena beliau adalah nabi terakhir, sebagaimana firman Allah dalam QS. Al-Ahzab: 40: 'Muhammad itu sekali-kali bukanlah bapak dari seorang laki-laki di antara kamu, tetapi dia adalah Rasulullah dan penutup nabi-nabi.'"
            },
            {
                question: "Jelaskan perbedaan antara malaikat, jin, dan manusia dari segi asal penciptaan, sifat, dan tugasnya masing-masing menurut ajaran Islam!",
                options: [
                    "A. Malaikat dari cahaya, selalu taat; jin dari api, bisa taat/maksiat; manusia dari tanah, diberi pilihan",
                    "B. Malaikat dari tanah, selalu taat; jin dari api, selalu maksiat; manusia dari cahaya",
                    "C. Malaikat dari api, bisa taat/maksiat; jin dari cahaya, selalu taat; manusia dari tanah",
                    "D. Semua makhluk diciptakan dari tanah dengan sifat yang sama",
                    "E. Tidak ada perbedaan antara ketiganya"
                ],
                correctAnswer: 0,
                explanation: "Malaikat diciptakan dari cahaya dan selalu taat, jin diciptakan dari api dan bisa taat atau maksiat, sedangkan manusia diciptakan dari tanah dan diberi akal untuk memilih antara yang benar dan salah."
            },
            {
                question: "Apa hikmah di balik peristiwa Isra' Mi'raj Nabi Muhammad SAW? Jelaskan minimal tiga hikmah yang dapat dipetik dari peristiwa tersebut!",
                options: [
                    "A. Menguji keimanan, menunjukkan kekuasaan Allah, dan mempersiapkan perintah shalat",
                    "B. Memperlihatkan surga dan neraka, menghibur Nabi, dan menunjukkan keindahan alam",
                    "C. Memperkenalkan malaikat, menunjukkan masa depan, dan memberikan mukjizat baru",
                    "D. Menghilangkan kesedihan Nabi, mengangkat derajat Nabi, dan memberikan harta",
                    "E. Menunjukkan jalan ke Madinah, mempercepat hijrah, dan mengumpulkan sahabat"
                ],
                correctAnswer: 0,
                explanation: "Hikmah Isra' Mi'raj antara lain: (1) Ujian keimanan bagi umat Islam, (2) Menunjukkan kekuasaan Allah yang tidak terbatas, (3) Persiapan untuk menerima perintah shalat lima waktu sebagai hadiah terindah bagi umat Islam."
            },
            {
                question: "Jelaskan secara rinci proses penciptaan manusia menurut Al-Qur'an beserta ayat-ayat yang mendasarinya!",
                options: [
                    "A. Dari tanah, nutfah, alaqah, mudghah, tulang, daging, lalu ditiupkan ruh (QS. Al-Mu'minun: 12-14)",
                    "B. Langsung diciptakan sempurna tanpa proses",
                    "C. Dari api kemudian berubah menjadi manusia",
                    "D. Evolusi dari makhluk lain secara bertahap",
                    "E. Dari cahaya yang berubah wujud"
                ],
                correctAnswer: 0,
                explanation: "Proses penciptaan manusia dijelaskan dalam QS. Al-Mu'minun: 12-14: (1) Dari tanah, (2) Sperma (nutfah), (3) Segumpal darah (alaqah), (4) Segumpal daging (mudghah), (5) Tulang belulang, (6) Dibalut daging, (7) Ditiupkan ruh."
            },
            {
                question: "Apa yang dimaksud dengan 'Iman kepada Hari Kiamat'? Jelaskan tanda-tanda besar hari kiamat menurut hadits Nabi Muhammad SAW!",
                options: [
                    "A. Percaya pada hari kebangkitan, tanda: munculnya Dajjal, turunnya Isa, matahari terbit dari barat",
                    "B. Percaya pada kematian saja, tanda: banyak bencana alam",
                    "C. Percaya pada kehidupan duniawi, tanda: teknologi canggih",
                    "D. Percaya pada reinkarnasi, tanda: banyak orang jahat",
                    "E. Percaya pada hari pembalasan tanpa tanda-tanda"
                ],
                correctAnswer: 0,
                explanation: "Iman kepada Hari Kiamat adalah percaya akan hari kebangkitan setelah mati. Tanda-tanda besar kiamat antara lain: (1) Munculnya Dajjal, (2) Turunnya Nabi Isa AS, (3) Matahari terbit dari barat, (4) Keluarnya Ya'juj Ma'juj, (5) Asap tebal."
            },
            {
                question: "Jelaskan perbedaan antara zakat fitrah dan zakat mal dari segi pengertian, waktu pengeluaran, dan penerimanya!",
                options: [
                    "A. Fitrah: menyucikan jiwa, di bulan Ramadan; Mal: membersihkan harta, saat mencapai nisab",
                    "B. Fitrah: untuk orang kaya, saat lebaran; Mal: untuk fakir, kapan saja",
                    "C. Keduanya sama saja, hanya berbeda nominalnya",
                    "D. Fitrah: wajib bagi anak-anak; Mal: wajib bagi dewasa",
                    "E. Tidak ada perbedaan antara keduanya"
                ],
                correctAnswer: 0,
                explanation: "Zakat fitrah untuk menyucikan jiwa, dikeluarkan di bulan Ramadan sebelum shalat Id. Zakat mal untuk membersihkan harta, dikeluarkan ketika harta mencapai nisab dan haul. Keduanya diberikan kepada 8 asnaf (golongan penerima zakat)."
            },
            {
                question: "Apa yang dimaksud dengan 'Khulafaur Rasyidin'? Jelaskan jasa-jasa utama masing-masing khalifah tersebut dalam perkembangan Islam!",
                options: [
                    "A. Empat khalifah pengganti Nabi: Abu Bakar (memerangi nabi palsu), Umar (perluasan wilayah), Utsman (kodifikasi Quran), Ali (penegakan keadilan)",
                    "B. Para sahabat Nabi yang kaya raya",
                    "C. Nabi-nabi setelah Nabi Muhammad",
                    "D. Raja-raja di kerajaan Islam",
                    "E. Tokoh-tokoh sufi terkemuka"
                ],
                correctAnswer: 0,
                explanation: "Khulafaur Rasyidin adalah empat khalifah pengganti Nabi: (1) Abu Bakar: memerangi nabi palsu dan pengumpulan Quran, (2) Umar: perluasan wilayah Islam, (3) Utsman: penyatuan mushaf Quran, (4) Ali: penegakan keadilan di masa perang saudara."
            },
            {
                question: "Jelaskan pengertian 'Jihad' yang sebenarnya dalam Islam dan bagaimana penerapannya yang benar dalam konteks modern!",
                options: [
                    "A. Berjuang di jalan Allah mencakup jihad melawan hawa nafsu, berdakwah, dan membela diri dengan aturan syariat",
                    "B. Hanya berarti perang melawan non-Muslim",
                    "C. Berjuang untuk kekayaan dan kekuasaan",
                    "D. Menyebarkan agama dengan paksa",
                    "E. Tidak relevan lagi di zaman modern"
                ],
                correctAnswer: 0,
                explanation: "Jihad artinya bersungguh-sungguh di jalan Allah, mencakup: (1) Jihad melawan hawa nafsu, (2) Jihad dengan ilmu dan dakwah, (3) Jihad membela diri ketika Islam diserang dengan tetap mengikuti etika perang Islam. Di era modern, jihad lebih ditekankan pada pembangunan peradaban melalui pendidikan dan kebaikan."
            },
            {
                question: "Apa hukumnya seorang muslim yang meninggalkan shalat dengan sengaja? Jelaskan konsekuensinya menurut ajaran Islam!",
                options: [
                    "A. Dosa besar, perlu bertaubat dan mengqadha shalat yang ditinggalkan",
                    "B. Tidak apa-apa asal puasa Ramadan",
                    "C. Hukumnya makruh, tidak ada konsekuensi",
                    "D. Hanya berdosa jika meninggalkan shalat Jumat",
                    "E. Boleh asal mengganti dengan sedekah"
                ],
                correctAnswer: 0,
                explanation: "Meninggalkan shalat dengan sengaja adalah dosa besar. Rasulullah menyebut orang yang meninggalkan shalat bisa terjerumus dalam kekufuran. Konsekuensinya: (1) Wajib bertaubat, (2) Mengqadha shalat yang ditinggalkan, (3) Memperbanyak amal shaleh untuk menutupi dosa."
            },
            {
                question: "Jelaskan secara detail tentang proses turunnya Al-Qur'an (Nuzulul Qur'an) dan perbedaan antara wahyu pertama dengan turunnya Al-Qur'an secara keseluruhan!",
                options: [
                    "A. Wahyu pertama QS. Al-Alaq:1-5 di Gua Hira, sedangkan Al-Qur'an turun bertahap selama 23 tahun",
                    "B. Turun sekaligus di malam Lailatul Qadar kemudian diwahyukan kepada Nabi",
                    "C. Nabi menerima seluruh Quran setelah hijrah ke Madinah",
                    "D. Quran turun hanya di bulan Ramadan setiap tahunnya",
                    "E. Tidak ada perbedaan antara wahyu pertama dengan turunnya Quran"
                ],
                correctAnswer: 0,
                explanation: "Wahyu pertama adalah QS. Al-Alaq:1-5 yang diterima Nabi di Gua Hira pada usia 40 tahun. Sedangkan Al-Qur'an turun secara bertahap selama 23 tahun sesuai peristiwa dan kebutuhan umat. Turun melalui perantaraan Malaikat Jibril dengan berbagai cara."
            },
            {
                question: "Apa yang dimaksud dengan 'Syirik' dalam Islam? Jelaskan contoh-contoh syirik modern yang sering tidak disadari oleh umat Islam!",
                options: [
                    "A. Menyekutukan Allah, contoh: percaya tahayul, berlebihan pada jimat, riya dalam beramal",
                    "B. Hanya menyembah berhala seperti zaman jahiliyah",
                    "C. Tidak percaya pada takdir Allah",
                    "D. Melakukan dosa-dosa besar",
                    "E. Tidak melaksanakan shalat lima waktu"
                ],
                correctAnswer: 0,
                explanation: "Syirik adalah menyekutukan Allah. Contoh syirik modern: (1) Percaya pada ramalan/zodiak secara berlebihan, (2) Menggunakan jimat dengan keyakinan bisa memberi manfaat/mudharat, (3) Riya (pamer) dalam beramal, (4) Fanatisme buta pada tokoh/partai melebihi cinta pada Allah dan Rasul."
            },
            {
                question: "Jelaskan konsep 'Halalan Thayyiban' dalam Islam dan bagaimana penerapannya dalam kehidupan sehari-hari!",
                options: [
                    "A. Makanan halal dan baik: tidak hanya bebas dari haram tapi juga bergizi dan diperoleh dengan cara halal",
                    "B. Hanya berarti makanan yang enak dan lezat",
                    "C. Konsep yang hanya berlaku untuk daging saja",
                    "D. Tidak penting dalam kehidupan modern",
                    "E. Hanya tentang cara menyembelih hewan"
                ],
                correctAnswer: 0,
                explanation: "Halalan Thayyiban berarti: (1) Halal: bebas dari yang diharamkan, (2) Thayyib: baik, bergizi, dan diperoleh dengan cara yang benar. Penerapannya: (1) Memilih makanan yang halal, (2) Memperhatikan gizi dan kebersihan, (3) Memastikan proses produksi dan distribusi sesuai syariat, (4) Tidak berlebihan dalam konsumsi."
            },
            {
                question: "Apa yang dimaksud dengan 'Tawakkal' dalam Islam? Jelaskan dengan contoh penerapan yang benar dan salah dalam kehidupan!",
                options: [
                    "A. Berserah diri setelah berusaha maksimal, contoh benar: berobat lalu pasrah pada Allah; contoh salah: tidak belajar lalu berharap lulus ujian",
                    "B. Pasrah total tanpa usaha apapun",
                    "C. Hanya berdoa tanpa tindakan nyata",
                    "D. Percaya pada takdir secara fatalis",
                    "E. Mengandalkan bantuan orang lain saja"
                ],
                correctAnswer: 0,
                explanation: "Tawakkal adalah berserah diri kepada Allah setelah melakukan usaha maksimal. Contoh benar: (1) Bercocok tanam dengan baik lalu pasrah pada ketentuan Allah, (2) Berobat ke dokter lalu berdoa untuk kesembuhan. Contoh salah: (1) Tidak belajar lalu berharap lulus ujian, (2) Tidak bekerja lalu mengharapkan rezeki turun dari langit."
            },
            {
                question: "Jelaskan perbedaan antara Nabi dan Rasul dalam Islam beserta tugas utama masing-masing!",
                options: [
                    "A. Nabi menerima wahyu untuk dirinya, Rasul menerima wahyu untuk disampaikan; jumlah nabi lebih banyak dari rasul",
                    "B. Nabi dan Rasul sama saja, hanya berbeda istilah",
                    "C. Rasul lebih tinggi derajatnya dari nabi",
                    "D. Nabi diutus untuk kaum tertentu, rasul untuk seluruh manusia",
                    "E. Tidak ada perbedaan antara keduanya"
                ],
                correctAnswer: 0,
                explanation: "Perbedaan Nabi dan Rasul: (1) Nabi menerima wahyu untuk diamalkan sendiri, Rasul menerima wahyu untuk disampaikan, (2) Jumlah nabi lebih banyak (124.000) dibanding rasul (313), (3) Setiap rasul adalah nabi, tapi tidak setiap nabi adalah rasul. Tugas utama rasul: menyampaikan risalah Allah kepada umat manusia."
            },
            {
                question: "Apa hukum mempelajari ilmu sains seperti matematika, fisika, dan kimia dalam perspektif Islam? Jelaskan dengan dalil yang mendukung!",
                options: [
                    "A. Wajib kifayah karena membantu memahami ciptaan Allah, sebagaimana perintah untuk berpikir dalam QS. Ali Imran:190-191",
                    "B. Haram karena berasal dari Barat",
                    "C. Makruh karena bisa melalaikan dari ibadah",
                    "D. Hanya boleh dipelajari seperlunya",
                    "E. Tidak ada hubungannya dengan agama"
                ],
                correctAnswer: 0,
                explanation: "Mempelajari sains hukumnya wajib kifayah (kewajiban kolektif) karena: (1) Membantu memahami ciptaan Allah (QS. Ali Imran:190-191), (2) Menjadi sarana untuk membangun peradaban Islam, (3) Sebagai bentuk pengamalan perintah iqra' (membaca/meneliti). Para ilmuwan muslim dahulu seperti Al-Khawarizmi dan Ibnu Sina menguasai sains untuk kemaslahatan umat."
            },
            {
                question: "Jelaskan konsep 'Hijrah' dalam Islam baik secara maknawi maupun hakiki, serta relevansinya di zaman modern!",
                options: [
                    "A. Hijrah fisik: berpindah tempat; maknawi: meninggalkan maksiat; relevan dengan perubahan diri ke lebih baik",
                    "B. Hanya berarti berpindah dari Mekah ke Madinah",
                    "C. Konsep yang sudah tidak berlaku lagi",
                    "D. Hanya berarti berpindah tempat tinggal",
                    "E. Tidak ada hijrah setelah penaklukan Mekah"
                ],
                correctAnswer: 0,
                explanation: "Hijrah mencakup: (1) Fisik: berpindah dari tempat yang tidak kondusif untuk beribadah, (2) Maknawi: meninggalkan segala bentuk kemaksiatan menuju ketaatan. Di era modern, hijrah bisa berarti: (1) Meninggalkan kebiasaan buruk, (2) Beralih ke konten/media yang bermanfaat, (3) Memperbaiki hubungan sosial sesuai tuntunan Islam."
            },
            {
                question: "Apa yang dimaksud dengan 'Sunnah Rasul'? Jelaskan contoh penerapan sunnah dalam kehidupan modern yang sering diabaikan banyak orang!",
                options: [
                    "A. Segala perkataan, perbuatan, dan persetujuan Nabi; contoh: makan dengan tangan kanan, bersiwak, tidur miring kanan",
                    "B. Hanya yang berkaitan dengan ibadah mahdhah",
                    "C. Perbuatan Nabi yang wajib diikuti",
                    "D. Tradisi masyarakat Arab zaman dahulu",
                    "E. Tidak berlaku lagi di zaman modern"
                ],
                correctAnswer: 0,
                explanation: "Sunnah Rasul mencakup: (1) Qauliyah (perkataan), (2) Fi'liyah (perbuatan), (3) Taqririyah (persetujuan). Contoh sunnah yang diabaikan: (1) Makan dengan 3 jari dan menjilati jari, (2) Bersiwak (membersihkan gigi), (3) Tidur miring ke kanan, (4) Berdoa sebelum masuk kamar mandi, (5) Memulai segala sesuatu dengan kanan."
            },
            {
                question: "Jelaskan secara detail tentang rukun-rukun shalat beserta penjelasan masing-masing menurut mazhab Syafi'i!",
                options: [
                    "A. Niat, takbiratul ihram, berdiri, baca Al-Fatihah, ruku', i'tidal, sujud, duduk antara dua sujud, tasyahud akhir, salam",
                    "B. Hanya membaca Al-Fatihah dan salam",
                    "C. Semua gerakan dalam shalat adalah rukun",
                    "D. Rukun shalat berbeda-beda setiap mazhab",
                    "E. Tidak perlu mengetahui rukun shalat"
                ],
                correctAnswer: 0,
                explanation: "Rukun shalat menurut mazhab Syafi'i: (1) Niat, (2) Takbiratul ihram, (3) Berdiri (bagi yang mampu), (4) Membaca Al-Fatihah, (5) Ruku' dengan thuma'ninah, (6) I'tidal, (7) Sujud dua kali dengan thuma'ninah, (8) Duduk antara dua sujud, (9) Tasyahud akhir, (10) Salam, (11) Tertib (berurutan), (12) Thuma'ninah (tenang sejenak)."
            },
            {
                question: "Apa yang dimaksud dengan 'Maqam Ibrahim'? Jelaskan sejarah dan keutamaannya berdasarkan dalil-dalil dari Al-Qur'an dan Hadits!",
                options: [
                    "A. Batu tempat Nabi Ibrahim berdiri saat membangun Ka'bah; disebut dalam QS. Ali Imran:97 sebagai tempat shalat",
                    "B. Tempat kelahiran Nabi Ibrahim",
                    "C. Makam Nabi Ibrahim di Palestina",
                    "D. Nama lain untuk Ka'bah",
                    "E. Tempat sa'i antara Shafa dan Marwah"
                ],
                correctAnswer: 0,
                explanation: "Maqam Ibrahim adalah batu yang digunakan Nabi Ibrahim sebagai pijakan saat membangun Ka'bah. Keutamaannya: (1) Disebut dalam QS. Ali Imran:97 sebagai tempat shalat, (2) Bekas telapak kaki Nabi Ibrahim masih nampak, (3) Termasuk tempat mustajab untuk berdoa, (4) Salah satu tanda kebesaran Allah yang tetap terjaga hingga kini."
            },
            {
                question: "Jelaskan perbedaan antara 'Riya' dan 'Sum'ah' dalam konteks ibadah! Berikan contoh masing-masing dalam kehidupan sehari-hari!",
                options: [
                    "A. Riya: ingin dilihat orang; Sum'ah: ingin didengar orang; contoh: shalat khusyu' saat dilihat orang (riya), menyebut-nyebut sedekah (sum'ah)",
                    "B. Keduanya sama, hanya berbeda istilah",
                    "C. Riya untuk ibadah, sum'ah untuk muamalah",
                    "D. Tidak ada perbedaan yang signifikan",
                    "E. Konsep yang sudah tidak relevan lagi"
                ],
                correctAnswer: 0,
                explanation: "Riya adalah beramal agar dilihat dan dipuji orang (contoh: shalat khusyu' hanya saat dilihat orang). Sum'ah adalah beramal agar didengar dan diketahui orang (contoh: menyebut-nyebut sedekah yang diberikan). Keduanya termasuk syirik kecil yang dapat menghapus pahala amal."
            },
            {
                question: "Apa hukumnya seorang muslim yang berhutang? Jelaskan adab-adab berhutang dan membayar hutang menurut ajaran Islam!",
                options: [
                    "A. Boleh dalam kebutuhan mendesak dengan adab: mencatat, berniat bayar, segera melunasi, dan memaafkan jika kesulitan",
                    "B. Haram dalam segala kondisi",
                    "C. Sunnah untuk mempererat persaudaraan",
                    "D. Hanya boleh antara keluarga dekat",
                    "E. Tidak perlu dicatat asal saling percaya"
                ],
                correctAnswer: 0,
                explanation: "Hukum hutang adalah boleh dalam kebutuhan mendesak dengan adab: (1) Mencatat dengan saksi (QS. Al-Baqarah:282), (2) Berniat sungguh-sungguh untuk membayar, (3) Segera melunasi ketika mampu, (4) Pemberi hutang boleh memaafkan jika benar-benar kesulitan, (5) Berdoa agar dimudahkan pembayaran hutang."
            },
            {
                question: "Jelaskan tentang 'Malaikat pencatat amal' (Kiraman Katibin) berdasarkan dalil Al-Qur'an dan Hadits! Apa implikasi keimanan terhadap malaikat ini dalam kehidupan sehari-hari?",
                options: [
                    "A. Malaikat Raqib-Atid mencatat semua perbuatan; implikasi: selalu berbuat baik karena diawasi",
                    "B. Hanya mencatat perbuatan buruk saja",
                    "C. Tidak mencatat perkataan hati",
                    "D. Catatan mereka bisa dihapus dengan istighfar",
                    "E. Konsep yang hanya simbolis belaka"
                ],
                correctAnswer: 0,
                explanation: "Kiraman Katibin adalah malaikat Raqib dan Atid yang mencatat semua amal manusia (QS. Qaf:18). Implikasi keimanan: (1) Selalu berbuat baik karena diawasi, (2) Menjaga perkataan dan perbuatan, (3) Menghindari maksiat sekalipun sendirian, (4) Memotivasi untuk meningkatkan amal shaleh."
            },
            {
                question: "Apa yang dimaksud dengan 'Ghibah' menurut Islam? Jelaskan perbedaan antara ghibah yang haram dan yang diperbolehkan beserta contohnya!",
                options: [
                    "A. Membicarakan keburukan orang; diperbolehkan untuk tujuan syar'i seperti melaporkan kezaliman",
                    "B. Semua bentuk membicarakan orang lain",
                    "C. Hanya ketika menceritakan kebohongan tentang orang",
                    "D. Tidak ada ghibah yang diperbolehkan",
                    "E. Hanya haram jika di depan orang yang dibicarakan"
                ],
                correctAnswer: 0,
                explanation: "Ghibah adalah membicarakan keburukan orang lain yang tidak disukainya jika dia tahu. Diperbolehkan untuk: (1) Melaporkan kezaliman (pengaduan), (2) Meminta bantuan menghentikan kemungkaran, (3) Memperingatkan tentang penipu/pemalsu. Contoh ghibah haram: membicarakan aib teman tanpa kebutuhan syar'i."
            },
            {
                question: "Jelaskan konsep 'Ahlul Kitab' dalam Islam dan bagaimana sikap yang benar terhadap mereka berdasarkan tuntunan Al-Qur'an!",
                options: [
                    "A. Yahudi/Nasrani yang masih murni ajaran aslinya; boleh menikahi perempuan mereka dan makan sembelihannya dengan syarat",
                    "B. Semua non-Muslim tanpa perbedaan",
                    "C. Hanya umat Nabi Musa saja",
                    "D. Kelompok yang harus diperangi",
                    "E. Tidak ada lagi Ahlul Kitab di zaman sekarang"
                ],
                correctAnswer: 0,
                explanation: "Ahlul Kitab adalah penganut Yahudi/Nasrani yang masih memegang kitab suci asli. Sikap terhadap mereka: (1) Diperbolehkan menikahi perempuan mereka (QS. Al-Maidah:5), (2) Boleh makan sembelihan mereka, (3) Berdakwah dengan cara bijak, (4) Tidak memulai permusuhan, (5) Tetap menjaga akidah Islam."
            },
            {
                question: "Apa makna sebenarnya dari 'Jilbab' menurut tuntunan Islam? Jelaskan perbedaan pendapat ulama tentang batasan aurat perempuan beserta dalil masing-masing!",
                options: [
                    "A. Pakaian longgar menutup seluruh tubuh kecuali wajah dan telapak tangan; ada ulama yang mewajibkan cadar",
                    "B. Hanya kerudung penutup rambut saja",
                    "C. Pakaian tradisional Arab",
                    "D. Semua jenis pakaian asal sopan",
                    "E. Tidak ada ketentuan khusus dalam Islam"
                ],
                correctAnswer: 0,
                explanation: "Jilbab dalam Islam adalah pakaian longgar yang menutup seluruh tubuh kecuali wajah dan telapak tangan (menurut mayoritas ulama). Sebagian ulama mewajibkan cadar berdasarkan QS. An-Nur:31. Dalil utama: QS. Al-Ahzab:59 tentang perintah memakai jilbab dan QS. An-Nur:31 tentang menutup aurat."
            },
            {
                question: "Jelaskan tentang 'Mukjizat' dalam Islam dan bedakan dengan 'Karamah', 'Irhas', dan 'Sihir'! Berikan contoh masing-masing!",
                options: [
                    "A. Mukjizat untuk nabi (belah laut), karamah untuk wali (tahu yang ghaib), irhas sebelum kenabian (peristiwa kelahiran), sihir adalah tipuan",
                    "B. Semua sama, hanya berbeda istilah",
                    "C. Hanya mukjizat yang nyata, lainnya khayalan",
                    "D. Tidak ada perbedaan antara keempatnya",
                    "E. Konsep yang tidak perlu dipahami"
                ],
                correctAnswer: 0,
                explanation: "Perbedaan: (1) Mukjizat: kejadian luar biasa pada nabi untuk membuktikan kenabian (contoh: Nabi Musa membelah laut), (2) Karamah: kejadian luar biasa pada wali Allah (contoh: mengetahui hal ghaib), (3) Irhas: pertanda sebelum kenabian (contoh: cahaya saat kelahiran Nabi Muhammad), (4) Sihir: tipuan mata dan bersifat sementara."
            },
            {
                question: "Apa yang dimaksud dengan 'Dajjal' dalam ajaran Islam? Jelaskan ciri-ciri dan bahayanya berdasarkan hadits-hadits shahih!",
                options: [
                    "A. Pembohong besar akhir zaman; ciri: buta mata kanan, tulisan 'kafir' di dahi, mengaku sebagai tuhan",
                    "B. Nama lain untuk setan",
                    "C. Raja yang zalim di masa lalu",
                    "D. Tokoh mitos tanpa dasar dalil",
                    "E. Simbol kejahatan secara umum"
                ],
                correctAnswer: 0,
                explanation: "Dajjal adalah pembohong besar di akhir zaman. Ciri-ciri: (1) Buta mata kanan, (2) Tulisan 'kafir' (dibaca mukmin) di dahinya, (3) Mengaku sebagai tuhan, (4) Membawa fitnah besar dengan menguji iman manusia, (5) Memiliki kemampuan luar biasa seperti menghidupkan orang mati (atas izin Allah). Bahayanya: banyak orang yang akan mengikutinya sehingga meninggalkan agama."
            },
            {
                question: "Jelaskan konsep 'Warisan' dalam Islam (Faraidh) beserta pembagiannya menurut Al-Qur'an surah An-Nisa'! Apa hikmah di balik sistem warisan Islam?",
                options: [
                    "A. Pembagian adil dengan ketentuan Allah; laki-laki dapat 2x perempuan karena tanggung jawab nafkah; hikmah: keadilan dan kemaslahatan",
                    "B. Laki-laki selalu lebih banyak dari perempuan",
                    "C. Pembagian sama rata antara semua ahli waris",
                    "D. Hanya untuk keluarga dekat saja",
                    "E. Sistem yang sudah tidak relevan lagi"
                ],
                correctAnswer: 0,
                explanation: "Sistem warisan Islam: (1) Dijelaskan dalam QS. An-Nisa':11-12, (2) Laki-laki umumnya mendapat dua kali bagian perempuan karena tanggung jawab nafkah, (3) Ada ashhabul furudh (golongan dengan bagian tetap) dan ashabah (sisa). Hikmah: (1) Keadilan sesuai tanggung jawab, (2) Mencegah perselisihan, (3) Perlindungan hak wanita yang sebelumnya tidak mendapat warisan."
            },
            {
                question: "Apa yang dimaksud dengan 'Taubat Nasuha'? Jelaskan syarat-syarat taubat yang benar menurut ajaran Islam!",
                options: [
                    "A. Taubat sejati dengan syarat: menyesal, berhenti, bertekad tidak mengulang, mengembalikan hak orang jika ada",
                    "B. Hanya memohon ampun tanpa perubahan",
                    "C. Taubat yang diucapkan di depan publik",
                    "D. Hanya untuk dosa-dosa besar",
                    "E. Tidak perlu syarat khusus"
                ],
                correctAnswer: 0,
                explanation: "Taubat Nasuha adalah taubat yang sungguh-sungguh dengan syarat: (1) Menyesali dosa, (2) Berhenti dari maksiat, (3) Bertekad tidak mengulang, (4) Mengembalikan hak orang yang dizalimi atau meminta maaf, (5) Dilakukan sebelum ajal datang atau sebelum matahari terbit dari barat. Diterima jika memenuhi syarat karena Allah Maha Penerima Taubat."
            },
             {
                question: "Jelaskan makna dari 'Asmaul Husna' Al-Malik, Al-Quddus, dan As-Salam beserta contoh penerapannya dalam kehidupan sehari-hari!",
                options: [
                    "A. Al-Malik (Maha Merajai): mengakui kekuasaan Allah; Al-Quddus (Maha Suci): menyucikan diri dari dosa; As-Salam (Maha Memberi Kedamaian): menyebarkan perdamaian",
                    "B. Hanya nama-nama indah Allah tanpa makna khusus",
                    "C. Konsep tentang sifat-sifat malaikat",
                    "D. Nama-nama untuk Nabi Muhammad SAW",
                    "E. Ajaran tasawuf yang rumit"
                ],
                correctAnswer: 0,
                explanation: "Al-Malik berarti Allah Maha Merajai (contoh: menerima takdir dengan ikhlas). Al-Quddus berarti Maha Suci (contoh: menjaga diri dari najis dan dosa). As-Salam berarti Maha Pemberi Kedamaian (contoh: menjadi penengah dalam pertikaian)."
            },
            {
                question: "Mengapa Al-Qur'an disebut 'Kalamullah'? Jelaskan keistimewaan Al-Qur'an dibanding kitab suci sebelumnya!",
                options: [
                    "A. Karena merupakan firman Allah yang langsung; keistimewaan: terjaga keasliannya, universal, mukjizat abadi",
                    "B. Hanya berarti buku biasa",
                    "C. Karena ditulis oleh Nabi Muhammad",
                    "D. Tidak ada keistimewaan khusus",
                    "E. Hanya untuk orang Arab saja"
                ],
                correctAnswer: 0,
                explanation: "Al-Qur'an disebut Kalamullah karena merupakan firman Allah yang diwahyukan langsung melalui Jibril. Keistimewaannya: (1) Terjaga keasliannya (QS. Al-Hijr:9), (2) Berlaku untuk semua zaman dan tempat, (3) Mukjizat terbesar Nabi Muhammad, (4) Mudah dihafal, (5) Mengandung semua ajaran sebelumnya."
            },
            {
                question: "Jelaskan peristiwa penting dalam 'Tahun Gajah' dan hubungannya dengan kelahiran Nabi Muhammad SAW!",
                options: [
                    "A. Pasukan gajah Abrahah gagal hancurkan Ka'bah; Nabi Muhammad lahir pada tahun itu sebagai tanda perlindungan Allah",
                    "B. Tahun pertama hijrah ke Madinah",
                    "C. Tahun wafatnya Nabi Ibrahim",
                    "D. Tidak ada kaitan dengan kelahiran Nabi",
                    "E. Mitos masyarakat Arab kuno"
                ],
                correctAnswer: 0,
                explanation: "Tahun Gajah (570 M) adalah ketika Abrahah dan pasukan bergajah ingin menghancurkan Ka'bah tetapi dihancurkan oleh burung Ababil (QS. Al-Fil). Nabi Muhammad lahir pada tahun ini sebagai tanda perlindungan Allah untuk rumah-Nya dan kelahiran nabi terakhir."
            },
            {
                question: "Apa yang dimaksud dengan 'Malaikat Mu'aqqibat'? Jelaskan tugas dan pentingnya berdasarkan dalil Al-Qur'an!",
                options: [
                    "A. Malaikat yang menjaga manusia secara bergiliran; disebut dalam QS. Ar-Ra'd:11; penting untuk perlindungan dari bahaya",
                    "B. Malaikat pencabut nyawa",
                    "C. Malaikat yang menurunkan hujan",
                    "D. Nama lain untuk Malaikat Jibril",
                    "E. Tidak ada dalam ajaran Islam"
                ],
                correctAnswer: 0,
                explanation: "Malaikat Mu'aqqibat adalah malaikat yang menjaga manusia secara bergiliran (QS. Ar-Ra'd:11). Tugasnya: (1) Menjaga dari bahaya, (2) Mencatat perlindungan Allah, (3) Mengawasi sesuai perintah Allah. Penting untuk meyakini bahwa setiap manusia memiliki penjaga dari Allah."
            },
            {
                question: "Jelaskan proses turunnya wahyu pertama kali kepada Nabi Muhammad SAW di Gua Hira! Apa reaksi Khadijah setelah peristiwa tersebut?",
                options: [
                    "A. Jibril menyuruh 'Iqra', Nabi ketakutan; Khadijah menenangkan dan membenarkan kenabiannya",
                    "B. Nabi langsung menerima seluruh Al-Qur'an",
                    "C. Tidak ada reaksi khusus dari Khadijah",
                    "D. Peristiwa biasa tanpa makna penting",
                    "E. Nabi mengira itu adalah halusinasi"
                ],
                correctAnswer: 0,
                explanation: "Wahyu pertama turun dengan Jibril memerintahkan 'Iqra' (Bacalah) sambil memeluk Nabi hingga sesak (QS. Al-Alaq:1-5). Nabi pulang dengan ketakutan, lalu Khadijah membenarkannya sebagai tanda kenabian dan membawanya kepada Waraqah bin Naufal."
            },
            {
                question: "Apa makna 'Ukhuwah Islamiyah'? Jelaskan tiga contoh penerapannya di lingkungan sekolah!",
                options: [
                    "A. Persaudaraan sesama muslim; contoh: membantu teman, tidak membully, mengajak shalat berjamaah",
                    "B. Hanya persahabatan biasa",
                    "C. Konsep yang tidak perlu diterapkan di sekolah",
                    "D. Hanya untuk keluarga dekat",
                    "E. Tidak ada contoh konkret"
                ],
                correctAnswer: 0,
                explanation: "Ukhuwah Islamiyah adalah persaudaraan berdasarkan iman. Contoh di sekolah: (1) Menjenguk teman sakit, (2) Membantu kesulitan belajar, (3) Mengingatkan untuk shalat, (4) Tidak mengejek atau membully, (5) Berbagi bekal makanan."
            },
            {
                question: "Jelaskan sejarah pembangunan Ka'bah oleh Nabi Ibrahim dan Nabi Ismail! Apa hikmah dari peristiwa tersebut?",
                options: [
                    "A. Dibangun atas perintah Allah; Ismail mencari batu, Ibrahim membangun; hikmah: ketaatan dan kerja sama",
                    "B. Dibangun oleh malaikat tanpa bantuan manusia",
                    "C. Tidak ada hikmah khusus",
                    "D. Hanya mitos bangsa Arab",
                    "E. Dibangun setelah Nabi Muhammad lahir"
                ],
                correctAnswer: 0,
                explanation: "Ka'bah dibangun oleh Ibrahim dan Ismail atas perintah Allah (QS. Al-Baqarah:127). Ismail mencari batu, Ibrahim membangun. Hikmah: (1) Contoh ketaatan, (2) Kerja sama ayah-anak, (3) Asal usul haji, (4) Bukti kekuasaan Allah, (5) Menyatukan umat Islam."
            },
            {
                question: "Apa yang dimaksud dengan 'Hari Tasyrik'? Jelaskan amalan-amalan yang disyariatkan pada hari tersebut!",
                options: [
                    "A. 11-13 Dzulhijjah; amalan: menyembelih kurban, takbir, berdoa, dan larangan berpuasa",
                    "B. Hari raya Idul Fitri",
                    "C. Hari khusus untuk umrah",
                    "D. Tidak ada amalan khusus",
                    "E. Hari berkabung dalam Islam"
                ],
                correctAnswer: 0,
                explanation: "Hari Tasyrik adalah 11-13 Dzulhijjah. Amalannya: (1) Menyembelih kurban, (2) Takbir muqayyad, (3) Banyak berdoa (disebut doa mustajab), (4) Larangan berpuasa, (5) Meningkatkan ibadah dan silaturahmi."
            },
            {
                question: "Jelaskan perbedaan antara 'Nifaq I'tiqadi' dan 'Nifaq 'Amali' beserta contoh masing-masing!",
                options: [
                    "A. Nifaq I'tiqadi: kemunafikan keyakinan (kafir tapi pura Islam); Nifaq 'Amali: perbuatan munafik (malas shalat tapi masih iman)",
                    "B. Keduanya sama saja",
                    "C. Hanya berlaku di masa Nabi",
                    "D. Tidak ada contoh nyata",
                    "E. Konsep yang sudah tidak relevan"
                ],
                correctAnswer: 0,
                explanation: "Nifaq I'tiqadi adalah kemunafikan dalam keyakinan (contoh: orang kafir yang pura-pura Islam). Nifaq 'Amali adalah perbuatan yang menyerupai orang munafik tapi masih beriman (contoh: malas shalat, berdusta, ingkar janji). Yang pertama mengeluarkan dari Islam, yang kedua dosa besar tapi masih muslim."
            },
            {
                question: "Apa hukumnya 'Tayammum'? Jelaskan syarat-syarat dan tata cara tayammum yang benar berdasarkan sunnah Nabi!",
                options: [
                    "A. Pengganti wudhu saat tidak ada air; syarat: ada halangan menggunakan air; cara: tepuk tanah, usap wajah dan tangan",
                    "B. Boleh dilakukan kapan saja",
                    "C. Hanya untuk orang sakit",
                    "D. Tidak ada tata cara khusus",
                    "E. Hukumnya haram"
                ],
                correctAnswer: 0,
                explanation: "Tayammum adalah pengganti wudhu dengan debu ketika: (1) Tidak ada air, (2) Sakit yang membahayakan jika pakai air. Caranya: (1) Niat, (2) Tepuk tanah sekali, (3) Usap wajah, (4) Tepuk lagi, usap kedua tangan sampai siku. Berdasarkan QS. An-Nisa':43 dan hadits shahih."
            },
            {
                question: "Jelaskan kisah keteladanan Nabi Yusuf AS dalam menghadapi godaan Zulaikha! Apa pelajaran yang bisa diambil?",
                options: [
                    "A. Nabi Yusuf lebih memilih penjara daripada berzina; pelajaran: menjaga kesucian diri meski dalam godaan berat",
                    "B. Nabi Yusuf menikah dengan Zulaikha",
                    "C. Tidak ada pelajaran khusus",
                    "D. Kisah simbolis tanpa makna",
                    "E. Nabi Yusuf langsung melaporkan ke suami Zulaikha"
                ],
                correctAnswer: 0,
                explanation: "Ketika digoda Zulaikha, Nabi Yusuf memilih lari dan lebih memilih penjara (QS. Yusuf:23-33). Pelajaran: (1) Menjaga kesucian diri, (2) Takut kepada Allah meski sendirian, (3) Memilih resiko berat demi kebenaran, (4) Allah akan beri jalan keluar bagi yang bertakwa."
            },
            {
                question: "Apa yang dimaksud dengan 'Aqiqah'? Jelaskan hukum, waktu pelaksanaan, dan hikmahnya!",
                options: [
                    "A. Penyembelihan hewan untuk bayi; hukum sunnah muakkad; hari ke-7, 14, atau 21; hikmah: syukur dan sedekah",
                    "B. Hanya tradisi Arab",
                    "C. Wajib bagi yang mampu",
                    "D. Tidak ada waktu khusus",
                    "E. Sama dengan kurban"
                ],
                correctAnswer: 0,
                explanation: "Aqiqah adalah menyembelih kambing (2 untuk laki-laki, 1 untuk perempuan) sebagai rasa syukur atas kelahiran bayi. Waktu utama: hari ke-7 (bisa ke-14/21). Hikmah: (1) Menghidupkan sunnah, (2) Berbagi dengan fakir miskin, (3) Perlindungan untuk bayi, (4) Ungkapan syukur."
            },
            {
                question: "Jelaskan tentang 'Lailatul Qadar'! Mengapa malam ini lebih baik dari 1000 bulan?",
                options: [
                    "A. Malam turunnya Al-Qur'an; pahala ibadah dilipatgandakan melebihi 1000 bulan karena kemuliaan dan keberkahannya",
                    "B. Hanya mitos",
                    "C. Malam tahun baru Islam",
                    "D. Tidak ada keistimewaan",
                    "E. Perayaan kelahiran Nabi"
                ],
                correctAnswer: 0,
                explanation: "Lailatul Qadar adalah malam turunnya Al-Qur'an (QS. Al-Qadr), lebih baik dari 1000 bulan karena: (1) Malam pengampunan dosa, (2) Pahala ibadah dilipatgandakan, (3) Malam penentuan takdir tahunan, (4) Kedamaian hingga fajar. Terjadi di 10 malam terakhir Ramadan (terutama malam ganjil)."
            },
            {
                question: "Apa makna 'Basmallah' dalam kehidupan muslim? Jelaskan keutamaan mengucapkannya sebelum aktivitas!",
                options: [
                    "A. Menyebut nama Allah untuk berkah; keutamaan: dapat pahala, aktivitas diberkahi, terlindung dari setan",
                    "B. Hanya ucapan biasa",
                    "C. Tidak ada keutamaan khusus",
                    "D. Hanya untuk shalat",
                    "E. Hukumnya wajib"
                ],
                correctAnswer: 0,
                explanation: "Basmallah berarti menyebut nama Allah sebelum memulai sesuatu. Keutamaannya: (1) Aktivitas menjadi ibadah, (2) Mendapat berkah, (3) Perlindungan dari setan, (4) Mengingat Allah dalam segala hal, (5) Meneladani Nabi yang selalu memulai dengan basmallah."
            },
            {
                question: "Jelaskan kisah Nabi Sulaiman AS dan ratu Bilqis! Apa mukjizat Nabi Sulaiman dalam peristiwa tersebut?",
                options: [
                    "A. Nabi Sulaiman memindahkan singgasana Bilqis dengan mukjizat; kemampuan berbicara dengan hewan dan memerintah jin",
                    "B. Tidak ada mukjizat khusus",
                    "C. Nabi Sulaiman menikahi Bilqis",
                    "D. Kisah tanpa makna penting",
                    "E. Hanya dongeng belaka"
                ],
                correctAnswer: 0,
                explanation: "Nabi Sulaiman memindahkan singgasana Ratu Bilqis dalam sekejap melalui mukjizat (QS. An-Naml:38-40). Mukjizat lain: (1) Berbicara dengan hewan, (2) Memerintah jin, (3) Menguasai angin. Kisah ini menunjukkan kekuasaan Allah yang diberikan kepada nabi-Nya."
            },
            {
                question: "Apa yang dimaksud dengan 'Sabar' dalam Islam? Jelaskan jenis-jenis sabar beserta contohnya!",
                options: [
                    "A. Menahan diri; jenis: sabar dalam ketaatan (shalat tahajud), sabar dari maksiat (tidak berbohong), sabar atas musibah (sakit)",
                    "B. Hanya menerima takdir",
                    "C. Tidak ada jenis-jenisnya",
                    "D. Hanya ketika terkena musibah",
                    "E. Sama dengan pasrah"
                ],
                correctAnswer: 0,
                explanation: "Sabar adalah menahan diri sesuai perintah Allah. Jenisnya: (1) Sabar dalam ketaatan (contoh: tetap shalat meski malas), (2) Sabar dari maksiat (contoh: tidak mencontek), (3) Sabar atas musibah (contoh: tidak mengeluh saat sakit). Sabar harus dilakukan sejak awal musibah (QS. Al-Baqarah:155-157)."
            },
            {
                question: "Jelaskan tentang 'Mizan' (timbangan amal) di akhirat! Bagaimana amal ditimbang menurut ajaran Islam?",
                options: [
                    "A. Timbangan nyata yang menimbang amal; amal baik dan buruk akan diperhitungkan dengan adil oleh Allah",
                    "B. Hanya simbolis tanpa timbangan sebenarnya",
                    "C. Hanya menimbang dosa saja",
                    "D. Tidak ada konsep timbangan dalam Islam",
                    "E. Hanya untuk orang kafir"
                ],
                correctAnswer: 0,
                explanation: "Mizan adalah timbangan nyata di akhirat (QS. Al-Anbiya':47) yang menimbang: (1) Amal baik vs amal buruk, (2) Beratnya keikhlasan, (3) Niat yang menyertai amal. Amal sebesar biji sawi pun akan dihitung (QS. Az-Zalzalah:7-8). Keadilan Allah sempurna dalam penghitungan ini."
            },
            {
                question: "Apa hukum 'Memakai Emas dan Sutra' bagi laki-laki dalam Islam? Jelaskan dalil dan hikmah pelarangannya!",
                options: [
                    "A. Haram; dalil hadits shahih; hikmah: menjaga identitas gender, sederhana, dan tidak menyerupai wanita",
                    "B. Boleh asal sedikit",
                    "C. Sunnah bagi yang kaya",
                    "D. Tidak ada dalil yang melarang",
                    "E. Hanya haram di Mekah"
                ],
                correctAnswer: 0,
                explanation: "Laki-laki haram memakai emas dan sutra (HR. Bukhari-Muslim). Hikmahnya: (1) Menjaga identitas gender, (2) Sederhana tidak berlebihan, (3) Tidak menyerupai wanita, (4) Fokus pada substansi bukan penampilan. Pengecualian: sutra untuk pengobatan, emas untuk keperluan darurat."
            },
            {
                question: "Jelaskan kisah Nabi Yunus AS di dalam perut ikan! Apa pelajaran dari peristiwa tersebut?",
                options: [
                    "A. Nabi Yunus ditelan ikan karena meninggalkan kaumnya; pelajaran: tidak putus asa dari rahmat Allah dan pentingnya taubat",
                    "B. Hanya dongeng pengantar tidur",
                    "C. Nabi Yunus sengaja masuk perut ikan",
                    "D. Tidak ada pelajaran penting",
                    "E. Bukti bahwa ikan bisa berkomunikasi"
                ],
                correctAnswer: 0,
                explanation: "Nabi Yunus ditelan ikan besar karena meninggalkan kaumnya tanpa izin Allah (QS. As-Saffat:139-148). Pelajaran: (1) Tidak putus asa dari rahmat Allah, (2) Kekuatan doa dalam kesulitan, (3) Taubat nasuha diterima Allah, (4) Bersabar dalam dakwah, (5) Allah mengampuni hamba-Nya yang bertaubat."
            },
            {
                question: "Apa yang dimaksud dengan 'Rukun Iman'? Jelaskan masing-masing dengan singkat dan jelas!",
                options: [
                    "A. Iman kepada Allah, malaikat, kitab, rasul, hari akhir, qada/qadar; merupakan dasar keyakinan muslim",
                    "B. Hanya percaya pada Allah saja",
                    "C. Konsep yang tidak wajib diimani",
                    "D. Hanya untuk ulama",
                    "E. Tidak perlu dijelaskan"
                ],
                correctAnswer: 0,
                explanation: "Rukun Iman ada 6: (1) Iman kepada Allah (percaya pada keberadaan dan sifat-Nya), (2) Malaikat (makhluk gaib yang taat), (3) Kitab (Al-Qur'an dan sebelumnya), (4) Rasul (25 nabi yang wajib diketahui), (5) Hari Akhir (kebangkitan dan hisab), (6) Qada/Qadar (takdir baik-buruk dari Allah)."
            },
            {
                question: "Jelaskan tentang 'Air Zamzam'! Apa keistimewaan dan adab meminumnya menurut sunnah?",
                options: [
                    "A. Air ajaib di Mekah; keistimewaan: berkah dan mengenyangkan; adab: menghadap kiblat, baca basmallah, minum 3 nafas",
                    "B. Hanya air biasa",
                    "C. Tidak ada adab khusus",
                    "D. Hanya untuk jamaah haji",
                    "E. Air yang sudah tidak ada lagi"
                ],
                correctAnswer: 0,
                explanation: "Air Zamzam muncul untuk Ismail (QS. Ibrahim:37). Keistimewaan: (1) Air terbaik di dunia (hadits), (2) Mengenyangkan, (3) Obat penyakit, (4) Bernilai sejarah. Adab meminum: (1) Niat mencari berkah, (2) Menghadap kiblat, (3) Baca basmallah, (4) Minum 3 nafas, (5) Berdoa setelahnya."
            },
            {
                question: "Apa makna 'Ihsan' dalam Islam? Jelaskan contoh penerapannya dalam kehidupan pelajar!",
                options: [
                    "A. Berbuat baik seolah melihat Allah; contoh: belajar sungguh-sungguh, jujur saat ujian, hormati guru",
                    "B. Hanya untuk ibadah mahdhah",
                    "C. Konsep yang terlalu tinggi untuk pelajar",
                    "D. Sama dengan sedekah",
                    "E. Tidak perlu dipraktikkan"
                ],
                correctAnswer: 0,
                explanation: "Ihsan adalah beribadah seolah melihat Allah (HR. Muslim). Contoh untuk pelajar: (1) Belajar dengan sungguh-sungguh, (2) Jujur tidak mencontek, (3) Menghormati guru, (4) Membantu teman, (5) Menjaga kebersihan sekolah. Ihsan mencakup semua aspek kehidupan."
            },
            {
                question: "Jelaskan kisah Nabi Musa AS dan Khidir! Apa pelajaran dari peristiwa tersebut?",
                options: [
                    "A. Nabi Musa belajar bahwa ilmu manusia terbatas; pelajaran: sabar menerima takdir yang tidak diketahui hikmahnya",
                    "B. Hanya cerita pengantar tidur",
                    "C. Tidak ada pelajaran penting",
                    "D. Nabi Musa lebih pandai dari Khidir",
                    "E. Kisah tentang sihir belaka"
                ],
                correctAnswer: 0,
                explanation: "Nabi Musa belajar dari Khidir bahwa ada hikmah di balik peristiwa yang tampak buruk (QS. Al-Kahfi:60-82). Pelajaran: (1) Ilmu manusia terbatas, (2) Sabar terhadap takdir, (3) Hikmah mungkin baru diketahui belakangan, (4) Rendah hati dalam menuntut ilmu, (5) Allah memiliki rencana yang sempurna."
            },
            {
                question: "Apa yang dimaksud dengan 'Barzakh'? Jelaskan keadaan manusia di alam barzakh berdasarkan aqidah Islam!",
                options: [
                    "A. Alam antara dunia-akhirat; keadaan: mendapat nikmat/siksa kubur, menunggu hari kebangkitan",
                    "B. Tidak ada alam setelah mati",
                    "C. Hanya untuk orang kafir",
                    "D. Tempat reinkarnasi",
                    "E. Konsep yang tidak jelas"
                ],
                correctAnswer: 0,
                explanation: "Barzakh adalah alam antara kematian sampai kebangkitan (QS. Al-Mu'minun:99-100). Keadaan di sana: (1) Ditanya oleh malaikat, (2) Orang shaleh mendapat nikmat kubur, (3) Orang durhaka disiksa, (4) Menunggu hari kebangkitan, (5) Ruh orang shaleh bebas bergerak, ruh orang kafir terhalang."
            },
            {
                question: "Jelaskan tentang 'Shalat Sunnah Rawatib'! Apa keutamaan mengerjakannya secara konsisten?",
                options: [
                    "A. Shalat sunnah sebelum/sesudah shalat wajib; keutamaan: menyempurnakan kekurangan shalat wajib, ditinggikan derajat",
                    "B. Hanya untuk orang tua",
                    "C. Tidak ada keutamaan",
                    "D. Hukumnya wajib",
                    "E. Sama dengan shalat tahajud"
                ],
                correctAnswer: 0,
                explanation: "Shalat Rawatib adalah shalat sunnah yang mengiringi shalat wajib (sebelum/ sesudah). Keutamaannya: (1) Menyempurnakan kekurangan shalat wajib, (2) Ditinggikan derajat di surga, (3) Dicintai Allah, (4) Kebiasaan orang shaleh, (5) Pembeda dengan orang munafik. Contoh: 2 rakaat sebelum Subuh, 4 sebelum Dzuhur."
            },
            {
                question: "Apa hukum 'Mendengarkan Musik' dalam Islam? Jelaskan pendapat ulama beserta dalilnya!",
                options: [
                    "A. Khilafiyah; sebagian haramkan (kecuali rebana), sebagian bolehkan dengan syarat; dalil: hadits tentang alat musik",
                    "B. Mutlak haram semua jenis",
                    "C. Boleh tanpa batasan",
                    "D. Hanya untuk acara pernikahan",
                    "E. Tidak ada dalil yang membahas"
                ],
                correctAnswer: 0,
                explanation: "Hukum musik diperselisihkan ulama: (1) Pendapat haram (berdasar hadits tentang alat musik sebagai hal yang sia-sia), (2) Pendapat boleh dengan syarat (tidak mengandung maksiat, tidak berlebihan). Rebana diperbolehkan untuk pernikahan dan hari raya (HR. Bukhari)."
            },
            {
                question: "Jelaskan kisah Nabi Ayyub AS diuji penyakit! Apa pelajaran dari kesabarannya?",
                options: [
                    "A. Nabi Ayyub sabar puluhan tahun; pelajaran: sabar ada batasnya, Allah tidak membebani di luar kemampuan",
                    "B. Nabi Ayyub langsung sembuh ketika berdoa",
                    "C. Tidak ada pelajaran penting",
                    "D. Kisah tentang kutukan",
                    "E. Bukti bahwa penyakit adalah hukuman"
                ],
                correctAnswer: 0,
                explanation: "Nabi Ayyub diuji dengan penyakit bertahun-tahun tetapi tetap sabar (QS. Al-Anbiya':83-84). Pelajaran: (1) Sabar itu ada batasnya (Nabi Ayyub akhirnya berdoa), (2) Allah tidak membebani di luar kemampuan, (3) Ujian adalah pembersih dosa, (4) Setelah kesulitan ada kemudahan, (5) Doa orang sabar mustajab."
            },
            {
                question: "Apa yang dimaksud dengan 'Fiqh Prioritas' (Al-Awlawiyyat)? Berikan contoh penerapannya dalam kehidupan modern!",
                options: [
                    "A. Mendahulukan yang lebih penting; contoh: belajar sebelum main game, membantu orang tua sebelum main media sosial",
                    "B. Hanya untuk urusan ibadah",
                    "C. Konsep yang tidak praktis",
                    "D. Sama dengan fiqh biasa",
                    "E. Tidak perlu dipelajari"
                ],
                correctAnswer: 0,
                explanation: "Fiqh Prioritas adalah mendahulukan yang lebih penting. Contoh: (1) Belajar wajib sebelum hiburan, (2) Menolong orang lebih utama dari ibadah sunnah, (3) Kebutuhan dasar lebih penting dari kemewahan, (4) Pendidikan anak lebih utama dari kerja lembur, (5) Kesehatan lebih penting dari produktivitas."
            },
            {
                question: "Jelaskan tentang 'Kisah Ashhabul Kahfi'! Apa pelajaran yang bisa diambil untuk muslim minoritas?",
                options: [
                    "A. Pemuda beriman yang tidur 309 tahun; pelajaran: tetap istiqamah dalam iman meski minoritas, tawakkal kepada Allah",
                    "B. Hanya dongeng tanpa makna",
                    "C. Tidak relevan untuk zaman sekarang",
                    "D. Kisah tentang sihir",
                    "E. Tidak ada pelajaran untuk minoritas"
                ],
                correctAnswer: 0,
                explanation: "Ashhabul Kahfi (QS. Al-Kahfi:9-26) adalah pemuda yang bersembunyi di gua untuk mempertahankan iman. Pelajaran untuk minoritas: (1) Istiqamah dalam kebenaran, (2) Tawakkal kepada Allah, (3) Menjauh dari lingkungan maksiat, (4) Allah melindungi orang beriman, (5) Kebenaran akan tetap hidup meski ditekan."
            },
            {
                question: "Apa yang dimaksud dengan 'Talqin Mayit'? Jelaskan hukum dan tata caranya berdasarkan sunnah!",
                options: [
                    "A. Mengingatkan mayit di kubur; hukum sunnah; cara: membacakan kalimat tauid setelah pemakaman",
                    "B. Ritual yang bid'ah",
                    "C. Hanya untuk ulama",
                    "D. Sama dengan tahlilan",
                    "E. Tidak ada tuntunannya"
                ],
                correctAnswer: 0,
                explanation: "Talqin adalah membimbing mayit dengan mengingatkan kalimat tauhid setelah dikubur (HR. Abu Dawud). Caranya: (1) Setelah selesai pemakaman, (2) Berdiri di sisi kubur, (3) Membacakan: 'Wahai hamba Allah, ingatlah apa yang kau tinggalkan (syahadat)...', (4) Tidak berlebihan atau beri tekanan pada mayit."
            },
            {
                question: "Jelaskan tentang 'Hijab Syar'i' menurut pandangan Islam! Apa perbedaannya dengan jilbab biasa?",
                options: [
                    "A. Menutup seluruh tubuh kecuali wajah dan telapak tangan; berbeda dengan jilbab yang bisa hanya penutup kepala",
                    "B. Sama dengan jilbab biasa",
                    "C. Hanya untuk wanita tua",
                    "D. Tidak ada aturan khusus",
                    "E. Budaya Timur Tengah"
                ],
                correctAnswer: 0,
                explanation: "Hijab syar'i harus: (1) Menutup seluruh tubuh kecuali wajah dan telapak tangan (menurut mayoritas ulama), (2) Tidak transparan, (3) Longgar tidak membentuk tubuh, (4) Bukan perhiasan yang menarik perhatian. Berbeda dengan jilbab biasa yang bisa hanya menutup kepala tanpa menutup bentuk tubuh."
            },
            {
                question: "Apa makna 'Tafakkur' dalam Islam? Jelaskan manfaatnya bagi perkembangan akal dan iman!",
                options: [
                    "A. Merenungkan ciptaan Allah; manfaat: memperkuat iman, mengasah akal, menghargai alam, mendekatkan diri kepada Allah",
                    "B. Hanya untuk ulama",
                    "C. Sama dengan meditasi",
                    "D. Tidak ada manfaat khusus",
                    "E. Bisa menyebabkan stres"
                ],
                correctAnswer: 0,
                explanation: "Tafakkur adalah merenungkan ciptaan Allah (QS. Ali Imran:191). Manfaatnya: (1) Mengenal Allah melalui ciptaan-Nya, (2) Mengasah akal untuk berpikir kritis, (3) Menghargai alam sekitar, (4) Mencegah dari perbuatan sia-sia, (5) Menambah kecintaan kepada Pencipta."
            }
                ]
            },
            'SMP': {
                'Agama Islam': [
                    {
                question: "Salah satu sifat wajib bagi Allah adalah 'Qidam' yang artinya terdahulu. Jelaskan makna sifat 'Qidam' ini dan bagaimana pengaruhnya terhadap keyakinan seorang muslim terhadap Allah!",
                options: [
                    "A. Sifat Qidam berarti Allah memiliki awal dan akhir, menunjukkan keterbatasan-Nya",
                    "B. Sifat Qidam menunjukkan Allah tidak memiliki permulaan, menegaskan keabadian-Nya",
                    "C. Qidam berarti Allah baru menciptakan diri-Nya sendiri sebelum menciptakan alam semesta",
                    "D. Sifat ini menunjukkan Allah berkembang seiring waktu seperti makhluk-Nya",
                    "E. Qidam berarti Allah terikat oleh waktu dan ruang seperti ciptaan-Nya"
                ],
                correctAnswer: 1,
                explanation: "Sifat Qidam berarti Allah tidak memiliki permulaan (azali), berbeda dengan makhluk yang memiliki awal. Ini menegaskan keesaan dan keabadian Allah, serta memperkuat keyakinan bahwa hanya Allah yang pantas disembah karena Dia yang menciptakan waktu itu sendiri."
            },
            {
                question: "Dalam QS. Al-Baqarah ayat 30, Allah berfirman tentang penciptaan manusia sebagai khalifah di bumi. Analisislah konsep kekhalifahan manusia menurut ayat tersebut dan implikasinya terhadap tanggung jawab manusia terhadap lingkungan!",
                options: [
                    "A. Kekhalifahan berarti manusia berkuasa mutlak untuk mengeksploitasi bumi sesuai keinginannya",
                    "B. Konsep ini menegaskan bahwa manusia adalah pengganti Allah dalam mengatur bumi dengan penuh tanggung jawab",
                    "C. Khalifah berarti manusia setara dengan Allah dalam mengatur alam semesta",
                    "D. Ayat ini menunjukkan bahwa manusia bebas menggunakan sumber daya alam tanpa batas",
                    "E. Kekhalifahan membolehkan manusia menghancurkan alam demi kepentingan pribadi"
                ],
                correctAnswer: 1,
                explanation: "Konsep kekhalifahan dalam QS. Al-Baqarah 30 menegaskan bahwa manusia ditunjuk sebagai wakil Allah di bumi dengan tanggung jawab untuk memakmurkan dan menjaga keseimbangan alam. Ini berarti pemanfaatan sumber daya alam harus bijak, berkelanjutan, dan tidak merusak ekosistem."
            },
            {
                question: "Jelaskan perbedaan antara mukjizat, irhas, dan karomah beserta contoh masing-masing dari kisah para nabi dan wali!",
                options: [
                    "A. Mukjizat untuk nabi, irhas untuk wali, karomah untuk orang biasa - semua sama sifatnya",
                    "B. Mukjizat hanya untuk nabi sebagai bukti kenabian, irhas pertanda sebelum kenabian, karomah untuk wali",
                    "C. Ketiganya sama saja, hanya berbeda tingkat kekuatannya",
                    "D. Mukjizat bisa dipelajari, irhas dan karomah diberikan tanpa syarat",
                    "E. Hanya mukjizat yang bersifat supranatural, lainnya tidak"
                ],
                correctAnswer: 1,
                explanation: "Mukjizat (contoh: Nabi Musa membelah laut) adalah kejadian luar biasa yang diberikan kepada nabi sebagai bukti kenabian. Irhas (contoh: Nabi Muhammad SAW dibelah dadanya kecil) adalah pertanda sebelum kenabian. Karomah (contoh: peristiwa pada Wali Songo) adalah kejadian luar biasa pada wali Allah."
            },
            {
                question: "Analisislah hikmah di balik larangan riba dalam Islam berdasarkan QS. Ali Imran ayat 130 dan dampak ekonomi modern yang ditimbulkan oleh praktik riba!",
                options: [
                    "A. Riba dilarang karena menguntungkan pihak kaya saja dan memiskinkan masyarakat",
                    "B. Larangan riba hanya berlaku untuk makanan pokok, tidak untuk transaksi modern",
                    "C. Riba diperbolehkan dalam Islam asalkan disepakati kedua belah pihak",
                    "D. Sistem riba menstabilkan ekonomi karena memberi kepastian keuntungan",
                    "E. Islam melarang riba karena dianggap terlalu kecil pengaruhnya"
                ],
                correctAnswer: 0,
                explanation: "QS. Ali Imran 130 melarang riba karena mengeksploitasi pihak lemah, menciptakan ketidakadilan ekonomi, dan memicu krisis seperti yang terjadi dalam sistem kapitalis. Ekonomi Islam menawarkan sistem bagi hasil yang lebih adil dan berkelanjutan."
            },
            {
                question: "Tafsirkan makna 'Ihsan' dalam hadits Jibril dan bagaimana penerapannya dalam kehidupan sosial modern!",
                options: [
                    "A. Ihsan berarti berbuat baik sesekali ketika ada kelebihan rezeki",
                    "B. Ihsan adalah menyembah Allah seolah-olah melihat-Nya, atau merasa diawasi",
                    "C. Konsep ihsan hanya berlaku dalam ibadah ritual, bukan sosial",
                    "D. Ihsan berarti membantu orang lain dengan mengharap imbalan",
                    "E. Ihsan adalah konsep usang yang tidak relevan di zaman modern"
                ],
                correctAnswer: 1,
                explanation: "Dalam hadits Jibril, ihsan memiliki dua aspek: (1) spiritual - menyembah Allah dengan kesadaran penuh akan pengawasan-Nya, (2) sosial - berbuat baik kepada sesama dengan kualitas terbaik. Dalam kehidupan modern, ini berarti profesionalisme kerja, pelayanan publik yang baik, dan tanggung jawab sosial."
            },
            {
                question: "Jelaskan konsep 'Tawakkal' dalam Islam berdasarkan QS. At-Talaq ayat 3 dan bagaimana menerapkannya tanpa mengabaikan usaha (ikhtiar)!",
                options: [
                    "A. Tawakkal berarti pasrah total tanpa usaha karena Allah akan mengatur segalanya",
                    "B. Tawakkal adalah kombinasi usaha maksimal dan penyerahan hasil kepada Allah",
                    "C. Konsep tawakkal hanya untuk urusan akhirat, tidak untuk duniawi",
                    "D. Tawakkal membuat manusia tidak perlu berusaha karena sudah ditakdirkan",
                    "E. Tawakkal berarti menunggu mukjizat datang menyelesaikan masalah"
                ],
                correctAnswer: 1,
                explanation: "QS. At-Talaq 3 mengajarkan tawakkal sebagai penyempurna ikhtiar. Contoh Nabi Muhammad SAW dalam hijrah: melakukan persiapan matang (ikhtiar) sambil berserah diri (tawakkal). Dalam kehidupan, kita harus berusaha seoptimal mungkin baru kemudian bertawakkal."
            },
            {
                question: "Analisislah perbedaan antara zakat, infaq, dan shadaqah dalam hukum Islam beserta contoh konkret penerapannya di masyarakat modern!",
                options: [
                    "A. Ketiganya sama saja, hanya berbeda nama",
                    "B. Zakat hukumnya wajib dengan ketentuan khusus, infaq dan shadaqah sunnah",
                    "C. Hanya zakat yang diberikan kepada fakir miskin, lainnya untuk siapa saja",
                    "D. Infaq khusus untuk masjid, shadaqah untuk pribadi, zakat untuk negara",
                    "E. Zakat dan infaq wajib, shadaqah haram dalam Islam"
                ],
                correctAnswer: 1,
                explanation: "Zakat (mal/fitrah) wajib dengan nisab, waktu dan mustahik tertentu. Infaq (contoh: donasi sekolah) dan shadaqah (contoh: bantuan bencana) bersifat sunnah dengan fleksibilitas lebih. Di era modern, ketiganya bisa dikelola melalui lembaga amil profesional."
            },
            {
                question: "Jelaskan makna 'Jihad' yang sebenarnya dalam Islam berdasarkan QS. Al-Ankabut ayat 6 dan bagaimana membedakannya dari penyalahgunaan istilah ini oleh kelompok ekstremis!",
                options: [
                    "A. Jihad hanya berarti perang fisik melawan non-muslim",
                    "B. Jihad mencakup perjuangan spiritual, intelektual, dan fisik dengan etika",
                    "C. Semua bentuk kekerasan bisa disebut jihad asalkan atas nama Islam",
                    "D. Jihad wajib dilakukan setiap hari dengan mengangkat senjata",
                    "E. Jihad adalah konsep yang sudah tidak relevan di zaman sekarang"
                ],
                correctAnswer: 1,
                explanation: "QS. Al-Ankabut 6 menyebut jihad sebagai perjuangan melawan hawa nafsu. Jihad memiliki banyak bentuk: belajar (jihad ilmi), bekerja (jihad amali), dan pertahanan (qital) dengan aturan ketat (tidak boleh membunuh sipil, merusak lingkungan). Ekstremis menyempitkan makna jihad hanya sebagai kekerasan."
            },
            {
                question: "Telaah kritis tentang hikmah di balik larangan pergaulan bebas (ikhtilath) dalam Islam dan dampak psikologis-sosialnya pada remaja berdasarkan pandangan ulama kontemporer!",
                options: [
                    "A. Larangan ini membatasi kebebasan individu tanpa alasan jelas",
                    "B. Islam mengatur pergaulan untuk melindungi kehormatan dan stabilitas sosial",
                    "C. Pergaulan bebas justru dianjurkan dalam Islam untuk mengenal lawan jenis",
                    "D. Larangan ikhtilath hanya berlaku di masjid, tidak di tempat umum",
                    "E. Tidak ada dampak negatif dari pergaulan bebas menurut Islam"
                ],
                correctAnswer: 1,
                explanation: "Ulama kontemporer menjelaskan larangan ikhtilath mencegah: (1) trauma psikologis akibat hubungan tidak sehat, (2) penyebaran penyakit, (3) broken home, (4) pelecehan seksual. Islam menawarkan konsep pergaulan sehat dengan menjaga aurat dan etika."
            },
            {
                question: "Analisislah konsep 'Maqashid Syariah' menurut Imam Al-Ghazali dan relevansinya dalam menyelesaikan masalah kontemporer seperti transaksi digital dan bioetika!",
                options: [
                    "A. Maqashid Syariah hanya tentang ritual ibadah, tidak urusan modern",
                    "B. Konsep ini menjaga lima hal pokok: agama, jiwa, akal, keturunan, harta",
                    "C. Maqashid Syariah adalah hukum kuno yang tidak bisa diterapkan sekarang",
                    "D. Imam Al-Ghazali menolak konsep Maqashid Syariah dalam fiqih",
                    "E. Konsep ini hanya untuk urusan politik, tidak untuk ekonomi dan medis"
                ],
                correctAnswer: 1,
                explanation: "Maqashid Syariah menurut Al-Ghazali melindungi lima kebutuhan dasar manusia. Dalam transaksi digital, ini berarti menjamin keamanan data dan keabsahan akad. Dalam bioetika, melindungi nyawa dan keturunan seperti dalam hukum bayi tabung dan transplantasi organ."
            },
            {
                question: "Bandingkan konsep kepemimpinan dalam Islam berdasarkan hadits 'Setiap kalian adalah pemimpin...' dengan teori kepemimpinan modern dan implikasinya dalam tata kelola pemerintahan!",
                options: [
                    "A. Kepemimpinan Islam hanya untuk laki-laki dewasa, tidak untuk semua",
                    "B. Konsep Islam menekankan tanggung jawab dan akuntabilitas pemimpin",
                    "C. Hadits ini hanya metafora tanpa implikasi praktis",
                    "D. Kepemimpinan modern lebih baik dari konsep Islam yang dianggap kuno",
                    "E. Islam tidak memiliki konsep kepemimpinan yang jelas"
                ],
                correctAnswer: 1,
                explanation: "Hadits ini menegaskan kepemimpinan sebagai amanah (bukan hak istimewa) dengan prinsip: (1) keadilan, (2) musyawarah, (3) profesionalisme. Teori modern seperti servant leadership sejalan dengan ini. Implikasinya: pemimpin harus melayani, transparan, dan siap dimintai pertanggungjawaban."
            },
            {
                question: "Jelaskan proses tadabbur Al-Qur'an menurut Ibnu Qayyim Al-Jauziyah dan bagaimana menerapkannya dalam program tahfiz modern untuk meningkatkan pemahaman santri!",
                options: [
                    "A. Tadabbur hanya membaca tanpa perlu memahami makna",
                    "B. Proses memahami ayat dengan hati, akal, dan amalan secara mendalam",
                    "C. Tadabbur adalah metode menghafal cepat tanpa makna",
                    "D. Hanya ulama yang boleh melakukan tadabbur, bukan santri",
                    "E. Tadabbur membuat Al-Qur'an terlalu rumit untuk dipahami"
                ],
                correctAnswer: 1,
                explanation: "Menurut Ibnu Qayyim, tadabbur meliputi: (1) memahami bahasa Arab, (2) mengetahui asbabun nuzul, (3) merenungkan makna, (4) mengaplikasikan dalam kehidupan. Program tahfiz modern bisa mengintegrasikan tafsir, diskusi, dan proyek sosial berdasarkan ayat yang dihafal."
            },
            {
                question: "Analisislah peran masjid menurut Sunnah Nabi Muhammad SAW dalam membangun peradaban Islam dan bandingkan dengan fungsi masjid di era digital saat ini!",
                options: [
                    "A. Masjid hanya untuk shalat, tidak untuk aktivitas lainnya",
                    "B. Menurut Sunnah, masjid sebagai pusat ibadah, pendidikan, dan sosial",
                    "C. Di era digital, masjid sudah tidak diperlukan lagi",
                    "D. Fungsi masjid sekarang lebih baik daripada zaman Nabi",
                    "E. Masjid modern harus menolak teknologi digital"
                ],
                correctAnswer: 1,
                explanation: "Masjid Nabawi zaman Nabi berfungsi sebagai: (1) tempat ibadah, (2) sekolah (suffah), (3) pusat informasi, (4) pengadilan. Di era digital, masjid bisa mengoptimalkan fungsi ini dengan siaran khutbah online, kelas virtual, dan layanan masyarakat berbasis teknologi tanpa meninggalkan ruh spiritualnya."
            },
            {
                question: "Telaah kritis tentang konsep 'Moderasi Beragama' menurut fatwa MUI No. 14 Tahun 2019 dan bagaimana menerapkannya dalam kehidupan multikultural Indonesia!",
                options: [
                    "A. Moderasi berarti mengurangi keyakinan agar diterima semua pihak",
                    "B. Konsep wasathiyah dengan prinsip adil, seimbang, dan toleran",
                    "C. Moderasi bertentangan dengan ajaran Islam yang kaffah",
                    "D. Hanya diperlukan di daerah konflik, tidak untuk seluruh Indonesia",
                    "E. Moderasi berarti memaksakan satu pemahaman agama kepada semua"
                ],
                correctAnswer: 1,
                explanation: "Moderasi beragama (wasathiyah) menurut MUI adalah: (1) berislam secara mendalam (tafaqquh), (2) inklusif tanpa sinkretisme, (3) toleran tanpa mengorbankan prinsip. Dalam multikultural Indonesia, ini diterapkan melalui dialog antaragama, penghormatan perbedaan, dan kolaborasi sosial tanpa mempertentangkan keyakinan."
            },
            {
                question: "Jelaskan konsep 'Fiqh Prioritas' (Awlawiyyat) menurut Yusuf Al-Qaradawi dan contoh penerapannya dalam menentukan program kerja organisasi Islam di masyarakat!",
                options: [
                    "A. Fiqh Prioritas berarti mengerjakan semua hal sekaligus tanpa skala prioritas",
                    "B. Mendahulukan yang lebih penting dan mendesak berdasarkan syariat",
                    "C. Konsep ini hanya untuk urusan pribadi, tidak untuk organisasi",
                    "D. Prioritas dalam Islam hanya tentang ibadah mahdhah",
                    "E. Tidak ada konsep prioritas dalam fiqh Islam"
                ],
                correctAnswer: 1,
                explanation: "Fiqh Prioritas Al-Qaradawi menekankan: (1) mendahulukan darurat atas hajat, (2) kemaslahatan umum atas pribadi, (3) yang lebih bermanfaat jangka panjang. Contoh: organisasi Islam di daerah rawan pangan sebaiknya memprioritaskan program ketahanan pangan sebelum membangun masjid mewah."
            },
            {
                question: "Analisislah perkembangan ilmu hadits di era digital dengan segala peluang dan tantangannya dalam menjaga otentisitas ajaran Islam!",
                options: [
                    "A. Digitalisasi merusak ilmu hadits karena tidak bisa dipercaya",
                    "B. Teknologi membantu verifikasi matan dan sanad tetapi perlu kehati-hatian",
                    "C. Ilmu hadits harus tetap menggunakan metode kuno tanpa perubahan",
                    "D. Era digital membuat ilmu hadits tidak diperlukan lagi",
                    "E. Semua hadits di internet bisa langsung diterima tanpa pemeriksaan"
                ],
                correctAnswer: 1,
                explanation: "Era digital memberikan: (1) kemudahan akses kitab hadits, (2) database perawi, (3) analisis digital sanad. Tantangannya: (1) penyebaran hadits palsu lebih cepat, (2) kurangnya pemahaman metodologi takhrij. Solusinya: kombinasi teknologi dengan keahlian tradisional dalam verifikasi."
            },
            {
                question: "Jelaskan hakikat 'Ukhuwah Islamiyah' berdasarkan QS. Al-Hujurat ayat 10 dan strategi memperkuatnya di tengah perbedaan mazhab dan aliran dalam Islam!",
                options: [
                    "A. Ukhuwah hanya untuk sesama mazhab, berbeda mazhab boleh bermusuhan",
                    "B. Persaudaraan seiman meski berbeda pandangan dengan prinsip toleransi",
                    "C. Ukhuwah Islamiyah berarti memaksa semua orang sepaham dengan kita",
                    "D. Perbedaan mazhab adalah alasan sah untuk saling menyesatkan",
                    "E. Konsep ukhuwah sudah tidak relevan dalam Islam kontemporer"
                ],
                correctAnswer: 1,
                explanation: "QS. Al-Hujurat 10 menegaskan muslim bersaudara sehingga wajib mendamaikan konflik. Strategi memperkuat ukhuwah: (1) fokus pada kesamaan akidah, (2) menghormati perbedaan furu', (3) dialog ilmiah bukan debat emosional, (4) kolaborasi dalam isu-isu bersama seperti pendidikan dan kemanusiaan."
            },
            {
                question: "Kritik dan analisis terhadap fenomena 'Religious Pop Culture' (misalnya hijabers, muslim influencers) dari perspektif fiqh dan dampaknya terhadap dakwah Islam kontemporer!",
                options: [
                    "A. Semua bentuk pop culture haram karena merusak agama",
                    "B. Bisa positif jika sesuai syariat, tetapi berisiko komersialisasi agama",
                    "C. Religious pop culture adalah cara terbaik dakwah tanpa kelemahan",
                    "D. Islam melarang umatnya muncul di media populer",
                    "E. Tidak ada pengaruh sama sekali terhadap dakwah Islam"
                ],
                correctAnswer: 1,
                explanation: "Fenomena ini memiliki dua sisi: (1) positif - membuat agama lebih mudah diterima generasi muda, (2) negatif - risiko penyederhanaan ajaran, komersialisasi simbol agama, dan konten yang lebih mementingkan estetika daripada substansi. Solusinya: kolaborasi antara influencers dengan ulama untuk konten yang menarik tapi tetap mendalam."
            },
            {
                question: "Jelaskan konsep 'Sirah Nabawiyah sebagai Paradigma' menurut Prof. Ramadhan Al-Buthi dan aplikasinya dalam menyelesaikan masalah sosial kontemporer!",
                options: [
                    "A. Sirah hanya kisah masa lalu tanpa relevansi dengan masa kini",
                    "B. Sirah sebagai model ideal yang kontekstual dengan perubahan zaman",
                    "C. Harapan meniru Nabi SAW secara harfiah tanpa adaptasi",
                    "D. Konsep ini hanya untuk urusan ibadah, tidak untuk sosial",
                    "E. Sirah Nabi terlalu sulit untuk diterapkan di zaman modern"
                ],
                correctAnswer: 1,
                explanation: "Menurut Al-Buthi, mempelajari sirah bukan untuk meniru secara literal tetapi memahami prinsip-prinsip universal yang bisa diadaptasi. Contoh: penyelesaian konflik modern bisa belajar dari prinsip perdamaian Hudaibiyah (fleksibel dalam bentuk, teguh dalam prinsip)."
            },
            {
                question: "Analisislah perkembangan ekonomi syariah di Indonesia pasca UU No. 21 Tahun 2008 tentang Perbankan Syariah dan tantangan mencapai visi menjadi pusat keuangan syariah dunia!",
                options: [
                    "A. Perkembangan sangat lambat karena tidak ada minat masyarakat",
                    "B. Signifikan dengan pertumbuhan aset tetapi masih banyak tantangan",
                    "C. Indonesia sudah menjadi pusat keuangan syariah dunia tanpa masalah",
                    "D. UU tersebut justru menghambat perkembangan ekonomi syariah",
                    "E. Ekonomi syariah hanya untuk muslim, tidak bisa berkembang luas"
                ],
                correctAnswer: 1,
                explanation: "Pasca UU 21/2008, aset perbankan syariah tumbuh pesat (>20% per tahun), tetapi tantangannya: (1) literasi masyarakat masih rendah, (2) produk kurang inovatif, (3) regulasi yang belum mendukung sepenuhnya. Untuk menjadi pusat keuangan syariah dunia, perlu penguatan ekosistem halal value chain dan SDM kompeten."
            },
            {
                question: "Telaah kritis tentang konsep 'Islam Nusantara' sebagai bentuk akulturasi Islam dengan budaya lokal dan bagaimana menjaga keseimbangan antara tradisi dan syariat!",
                options: [
                    "A. Islam Nusantara adalah penyimpangan dari ajaran Islam yang murni",
                    "B. Akulturasi selama tidak bertentangan dengan prinsip syariat diperbolehkan",
                    "C. Semua budaya lokal harus dihilangkan untuk menjaga kemurnian Islam",
                    "D. Konsep ini hanya cocok untuk Jawa, tidak untuk seluruh Indonesia",
                    "E. Islam Nusantara berarti mengubah syariat agar sesuai budaya"
                ],
                correctAnswer: 1,
                explanation: "Islam Nusantara adalah contoh keberhasilan dakwah bil hikmah dengan prinsip: (1) mempertahankan aqidah dan halal-haram, (2) mengakomodasi budaya yang tidak bertentangan dengan syariat (contoh: wayang untuk dakwah), (3) menolak budaya yang bertentangan (klenik, syirik). Keseimbangan dijaga dengan fatwa ulama setempat."
            },
            {
                question: "Jelaskan metodologi 'Living Qur'an' dalam studi Al-Qur'an kontemporer dan berikan contoh penerapannya dalam masyarakat Indonesia!",
                options: [
                    "A. Living Qur'an berarti mengubah makna Al-Qur'an sesuai keinginan masyarakat",
                    "B. Studi tentang interaksi masyarakat dengan Al-Qur'an dalam kehidupan nyata",
                    "C. Konsep yang hanya ada di Barat, tidak relevan dengan Indonesia",
                    "D. Metode ini menghilangkan tafsir klasik yang sudah mapan",
                    "E. Living Qur'an membuat Al-Qur'an seperti buku biasa tanpa sakralitas"
                ],
                correctAnswer: 1,
                explanation: "Metodologi Living Qur'an mempelajari: (1) praktik pembacaan (tahfiz, tadarus), (2) penggunaan dalam ritual (rajah, azan), (3) pengaruh pada budaya (kaligrafi, arsitektur). Contoh di Indonesia: tradisi buka bersama dengan tadarus, penggunaan ayat dalam pernikahan adat, atau penghafal Qur'an cilik sebagai fenomena sosial."
            },
            {
                question: "Analisislah peran pesantren dalam deradikalisasi menurut penelitian kontemporer dan strategi penguatan moderasi Islam melalui pendidikan pesantren!",
                options: [
                    "A. Pesantren justru menyebarkan paham radikal di Indonesia",
                    "B. Pesantren efektif sebagai benteng moderasi melalui pendekatan tradisional",
                    "C. Pesantren tidak berperan dalam isu deradikalisasi",
                    "D. Semua pesantren mengajarkan kekerasan atas nama agama",
                    "E. Pesantren harus dihapuskan karena tidak sesuai zaman modern"
                ],
                correctAnswer: 1,
                explanation: "Penelitian menunjukkan pesantren dengan: (1) kurikulum balanced (tauhid, fiqh, tasawuf), (2) hubungan guru-murid yang kuat, (3) pendekatan kultural efektif mencegah radikalisme. Strategi penguatan: integrasi nilai moderasi dalam pengajaran, pelatihan santri sebagai agen perdamaian, dan kolaborasi dengan pemerintah dalam program deradikalisasi."
            },
            {
                question: "Jelaskan konsep 'Green Islam' atau lingkungan dalam perspektif fiqh kontemporer berdasarkan QS. Ar-Rum ayat 41 dan implementasinya dalam gerakan eco-masjid!",
                options: [
                    "A. Islam tidak memiliki konsep tentang lingkungan",
                    "B. Larangan merusak bumi dan anjuran pelestarian sebagai bagian dari ibadah",
                    "C. Green Islam adalah konsep Barat yang tidak sesuai dengan syariat",
                    "D. Menjaga lingkungan hanya wajib di tanah haram, tidak di tempat lain",
                    "E. Merusak lingkungan tidak berdosa karena dunia akan hancur akhirnya"
                ],
                correctAnswer: 1,
                explanation: "QS. Ar-Rum 41 mengaitkan kerusakan lingkungan dengan ulah manusia. Fiqh kontemporer mengembangkan: (1) fatwa haram buang sampah sembarangan, (2) wakaf lingkungan, (3) fardhu kifayah pelestarian alam. Gerakan eco-masjid mengimplementasikan dengan: hemat air wudhu, energi terbarukan, dan khutbah tentang ekologi."
            },
            {
                question: "Kritik dan analisis terhadap fenomena 'Instant Syariah' (misalnya hijab instan, syar'i tourism) dari perspektif maqashid syariah dan dampaknya terhadap pemahaman agama masyarakat!",
                options: [
                    "A. Fenomena positif karena membuat syariat lebih mudah diikuti",
                    "B. Berisiko menyederhanakan Islam sekadar simbol tanpa substansi",
                    "C. Instant syariah adalah bentuk bid'ah yang harus dimusuhi",
                    "D. Tidak ada pengaruh sama sekali terhadap pemahaman agama",
                    "E. Semua produk instant syariah pasti sesuai dengan ajaran Islam"
                ],
                correctAnswer: 1,
                explanation: "Fenomena ini perlu dikritisi karena: (1) berpotensi komersialisasi simbol agama, (2) pemahaman syariah yang parsial (contoh: fokus pada hijab tapi mengabaikan etika bisnis), (3) konsumerisme berbalut agama. Solusinya: edukasi bahwa menjadi muslim yang baik tidak cukup dengan atribut luar tetapi perlu pemahaman menyeluruh."
            },
            {
                question: "Jelaskan perkembangan ilmu falak dalam penentuan waktu ibadah di Indonesia dan kontroversi perbedaan metode hisab dan rukyat dari perspektif fiqh dan sains!",
                options: [
                    "A. Hisab dan rukyat selalu menghasilkan keputusan yang sama",
                    "B. Perbedaan terjadi karena faktor geografis dan metodologi yang bisa dikompromikan",
                    "C. Hanya satu metode yang benar menurut Islam, lainnya sesat",
                    "D. Penentuan waktu ibadah seharusnya diseragamkan secara global",
                    "E. Ilmu falak adalah bid'ah karena zaman Nabi tidak memakainya"
                ],
                correctAnswer: 1,
                explanation: "Perkembangan ilmu falak di Indonesia meliputi: (1) penyempurnaan data ephemeris, (2) pemetaan posisi bulan yang lebih akurat. Perbedaan hisab (perhitungan astronomi) dan rukyat (pengamatan) bersumber dari interpretasi dalil yang berbeda. Solusinya: saling menghargai selama berdasarkan metode ilmiah yang valid, dan koordinasi melalui sidang itsbat untuk keputusan bersama."
            },
            {
                question: "Analisislah konsep 'Digital Islam' dan tantangan menjaga otentisitas ajaran di era disrupsi informasi berdasarkan penelitian mutakhir tentang agama dan teknologi!",
                options: [
                    "A. Digital Islam berarti mengubah ajaran agar sesuai platform digital",
                    "B. Peluang perluasan dakwah tetapi risiko penyebaran konten sesat",
                    "C. Islam harus menolak semua bentuk teknologi digital",
                    "D. Tidak ada perubahan dalam dakwah di era digital",
                    "E. Hanya ulama tua yang berhak menyampaikan agama, bukan digital native"
                ],
                correctAnswer: 1,
                explanation: "Digital Islam menghadapi: (1) peluang - jangkauan luas, kreativitas konten, (2) tantangan - hoax keagamaan, fatwa instan, dekontekstualisasi ayat. Solusi: (1) literasi digital umat, (2) sertifikasi konten keagamaan, (3) kolaborasi ulama-teknolog, (4) pengembangan platform dakwah yang kredibel."
            },
            {
                question: "Jelaskan konsep 'Fiqh Al-Aqalliyyat' (fiqh minoritas) menurut Dr. Taha Jabir Al-Alwani dan relevansinya bagi muslim di negara non-muslim atau daerah minoritas muslim!",
                options: [
                    "A. Fiqh minoritas berarti mengorbankan prinsip Islam untuk menyesuaikan",
                    "B. Pedoman hidup muslim minoritas dengan tetap menjaga identitas dan hak",
                    "C. Konsep yang hanya untuk Arab, tidak untuk muslim Indonesia",
                    "D. Muslim minoritas harus mengisolasi diri dari masyarakat umum",
                    "E. Fiqh ini mengharuskan muslim pindah ke negara mayoritas muslim"
                ],
                correctAnswer: 1,
                explanation: "Fiqh Al-Aqalliyyat oleh Al-Alwani memberikan kerangka: (1) menyesuaikan tanpa asimilasi, (2) partisipasi sosial positif, (3) fleksibilitas dalam furu' bukan ushul. Contoh: izin tidak puasa Ramadhan jika membahayakan keselamatan kerja, atau format shalat jumat yang disesuaikan kondisi."
            },
            {
                question: "Kritik dan analisis terhadap gerakan 'Puritanisme Islam' di Indonesia dari perspektif sejarah Islam Nusantara dan sosiologi agama!",
                options: [
                    "A. Puritanisme adalah bentuk Islam paling murni tanpa kekurangan",
                    "B. Gerakan yang mengabaikan konteks kesejarahan dan sosiokultural",
                    "C. Satu-satunya bentuk Islam yang benar untuk Indonesia",
                    "D. Puritanisme cocok untuk Jawa tapi tidak untuk daerah lain",
                    "E. Tidak ada pengaruhnya terhadap perkembangan Islam di Indonesia"
                ],
                correctAnswer: 1,
                explanation: "Dari perspektif sejarah, Islam Nusantara berkembang dengan pendekatan akomodatif terhadap budaya lokal. Puritanisme yang menolak semua tradisi lokal perlu dikritisi karena: (1) mengabaikan metode dakwah kultural Walisongo, (2) berpotensi konflik sosial, (3) cenderung eksklusif. Solusinya: dialog konstruktif antara tradisi dan pemurnian."
            },
            {
                question: "Jelaskan perkembangan terakhir tentang 'Islamic Fintech' di Indonesia berdasarkan regulasi OJK dan analisis risiko serta peluangnya bagi ekonomi umat!",
                options: [
                    "A. Islamic fintech dilarang sama sekali oleh OJK",
                    "B. Berkembang pesat dengan pengawasan ketat untuk hindari riba",
                    "C. Tidak ada perbedaan dengan fintech konvensional",
                    "D. Hanya untuk kalangan tertentu, tidak untuk umum",
                    "E. Semua fintech syariah pasti halal tanpa perlu pengawasan"
                ],
                correctAnswer: 1,
                explanation: "Perkembangan Islamic fintech mencakup: (1) peer-to-peer syariah, (2) e-wallet syariah, (3) crowdfunding syariah. OJK mengatur melalui POJK No. 77/2016 dengan prinsip: transparansi, kehati-hatian, dan compliance syariah. Risiko: penyalahgunaan label syariah, peluang: akses keuangan UMKM dan peningkatan inklusi keuangan syariah."
            },
            {
                question: "Analisislah konsep 'Keadilan Gender dalam Islam' berdasarkan tafsir kontemporer QS. An-Nisa ayat 32 dan implementasinya dalam pemberdayaan perempuan muslim di Indonesia!",
                options: [
                    "A. Islam menindas perempuan dan tidak percaya kesetaraan gender",
                    "B. Keadilan gender dalam Islam berarti kesetaraan dalam perbedaan peran",
                    "C. Semua pekerjaan harus dibagi 50-50 antara laki dan perempuan",
                    "D. Perempuan muslim hanya boleh di rumah, tidak boleh berkarir",
                    "E. Isu gender adalah konspirasi Barat untuk menghancurkan Islam"
                ],
                correctAnswer: 1,
                explanation: "Tafsir kontemporer An-Nisa 32 menekankan: (1) hak yang sama dalam pendidikan dan ekonomi, (2) perbedaan peran biologis bukan diskriminasi. Implementasi di Indonesia: (1) pesantren perempuan, (2) perempuan sebagai hakim agama, (3) UMMSyariah perempuan, dengan tetap menjaga nilai-nilai keluarga."
            },
            {
                question: "Tafsirkan makna 'La ilaha illallah' secara mendalam menurut perspektif tauhid uluhiyah dan rububiyah, serta jelaskan implikasinya terhadap kehidupan modern yang penuh dengan berhala-berhala kontemporer!",
                options: [
                    "A. Hanya sekadar pengakuan lisan tanpa konsekuensi praktis",
                    "B. Penolakan semua bentuk penyembahan selain Allah dan pengakuan bahwa hanya Dia yang mengatur alam semesta",
                    "C. Konsep kuno yang tidak relevan dengan masyarakat modern",
                    "D. Hanya berlaku untuk hubungan spiritual pribadi, tidak untuk kehidupan sosial",
                    "E. Mengakui keberadaan Tuhan tetapi tetap boleh menyembah yang lain"
                ],
                correctAnswer: 1,
                explanation: "Kalimat tauhid mengandung dua aspek: (1) Uluhiyah - menolak segala bentuk ibadah kepada selain Allah (termasuk penyembahan uang, kekuasaan, atau hawa nafsu), (2) Rububiyah - mengakui hanya Allah yang mencipta, menguasai, dan mengatur alam. Implikasinya: membebaskan manusia dari perbudakan modern oleh sistem/materialisme."
            },
            {
                question: "Analisislah kritik Al-Ghazali dalam 'Tahafut al-Falasifah' terhadap filosof Yunani dan relevansinya dengan tren pemikiran liberal dalam Islam kontemporer!",
                options: [
                    "A. Al-Ghazali sepenuhnya menerima filsafat Yunani tanpa reserve",
                    "B. Kritik terhadap rasionalisme ekstrem yang bertentangan dengan nash dan pengalaman spiritual",
                    "C. Al-Ghazali menolak semua bentuk pemikiran rasional dalam Islam",
                    "D. Karya ini hanya relevan untuk abad pertengahan, tidak untuk masa kini",
                    "E. Kritik Al-Ghazali terbukti salah oleh perkembangan sains modern"
                ],
                correctAnswer: 1,
                explanation: "Al-Ghazali mengkritik: (1) kepercayaan filsuf pada keabadian alam (bertentangan dengan konsep penciptaan), (2) pembatasan wahyu oleh akal. Relevansinya sekarang: peringatan terhadap interpretasi liberal yang menolak otoritas nash, merelatifkan halal-haram, dan mengutamakan akal manusia di atas wahyu."
            },
            // Soal 3-30 berikut dalam format yang sama...
            {
                question: "Jelaskan konsep 'Sunnah Hasanah' dan 'Sunnah Sayyiah' dalam hadits Nabi serta analisis dampak media sosial terhadap penyebaran kedua jenis sunnah tersebut di kalangan remaja muslim!",
                options: [
                    "A. Semua tren di media sosial otomatis menjadi sunnah hasanah",
                    "B. Sunnah hasanah adalah tradisi baik yang sesuai syariat, sayyiah adalah keburukan yang ditiru",
                    "C. Tidak ada hubungan antara media sosial dengan konsep sunnah",
                    "D. Media sosial hanya menyebarkan sunnah sayyiah, tidak ada yang baik",
                    "E. Konsep ini hanya berlaku pada zaman Nabi, tidak relevan lagi"
                ],
                correctAnswer: 1,
                explanation: "Sunnah hasanah di media sosial: challenge sedekah, kajian online. Sunnah sayyiah: challenge berbahaya, hoax agama. Dampak: viralitas mempercepat penyebaran kedua jenis 'tradisi' ini. Solusi: literasi digital untuk memfilter konten dan menjadi trendsetter kebaikan."
            },
            {
                question: "Bandingkan konsep negara dalam pandangan Islam klasik (Ibnu Taimiyah) dan modern (Rasyid Ridha) serta analisis relevansinya dengan sistem demokrasi di Indonesia!",
                options: [
                    "A. Islam tidak memiliki konsep negara, hanya aturan ritual",
                    "B. Keduanya sepakat pada prinsip keadilan dan syura meski berbeda bentuk institusi",
                    "C. Konsep negara Islam harus mengadopsi sistem khilafah secara literal",
                    "D. Demokrasi mutlak bertentangan dengan semua pandangan ulama Islam",
                    "E. Indonesia harus meninggalkan Pancasila dan menjadi negara agama"
                ],
                correctAnswer: 1,
                explanation: "Ibnu Taimiyah menekankan otoritas penguasa selama menjalankan syariah, Rasyid Ridha mengembangkan konsep negara konstitusional. Relevansi dengan demokrasi Indonesia: (1) prinsip musyawarah (QS. 42:38), (2) keadilan sosial, (3) perlindungan hak minoritas selama tidak bertentangan dengan syariat."
            },
            {
                question: "Analisislah perkembangan tafsir tematik (maudhu'i) di era kontemporer dan bagaimana metode ini menjawab isu-isu modern seperti bioetika dan keadilan gender!",
                options: [
                    "A. Tafsir tematik hanya untuk kajian akademik tanpa aplikasi praktis",
                    "B. Mengumpulkan semua ayat tentang suatu tema untuk analisis komprehensif",
                    "C. Metode ini berbahaya karena meninggalkan tafsir klasik",
                    "D. Tidak mungkin menafsirkan Al-Qur'an dengan pendekatan modern",
                    "E. Tafsir tematik berarti mengubah makna ayat sesuai keinginan"
                ],
                correctAnswer: 1,
                explanation: "Tafsir maudhu'i menjawab isu modern dengan: (1) mengompilasi ayat-ayat tentang kedokteran untuk bioetika, (2) analisis kata 'qiwamah' dan 'wilayah' dalam perspektif gender. Kelebihannya: holistik, kontekstual, tetapi tetap berpegang pada kaidah tafsir yang valid."
            },
            {
                question: "Kritik dan analisis terhadap fenomena 'Spiritualitas Instan' (zikir massal tanpa pemahaman, doa-doa viral) dari perspektif konsep ihsan dalam tasawuf!",
                options: [
                    "A. Semua bentuk zikir massal pasti benar tanpa perlu pemahaman",
                    "B. Spiritualitas sejati membutuhkan pemahaman, konsistensi, dan penghayatan",
                    "C. Ibadah cukup dengan ikut tren tanpa perlu mendalam",
                    "D. Tasawuf mengajarkan jalan instan untuk mencapai ma'rifat",
                    "E. Zikir bersama adalah bid'ah yang harus dihindari"
                ],
                correctAnswer: 1,
                explanation: "Kritik terhadap spiritualitas instan: (1) berpotensi ritual tanpa makna, (2) pencarian pengalaman spiritual cepat (instant gratification). Konsep ihsan menekankan: (1) pemahaman makna zikir, (2) kontinuitas ibadah, (3) transformasi akhlak. Solusi: membangun spiritualitas berbasis ilmu bukan sekadar emosi."
            },
            {
                question: "Jelaskan konsep 'Fiqh Realitas' (fiqh al-waqi') menurut Yusuf Al-Qaradawi dan berikan contoh penerapannya dalam menyikapi perkembangan teknologi reproduksi seperti bayi tabung!",
                options: [
                    "A. Fiqh realitas berarti mengubah hukum syariat sesuai zaman",
                    "B. Memahami realitas sebelum memutuskan hukum dengan tetap berpegang pada prinsip syariah",
                    "C. Konsep yang hanya untuk urusan politik, tidak untuk medis",
                    "D. Semua teknologi baru otomatis halal tanpa perlu kajian",
                    "E. Bayi tabung mutlak haram karena tidak ada di zaman Nabi"
                ],
                correctAnswer: 1,
                explanation: "Fiqh al-waqi' dalam kasus bayi tabung: (1) memahami proses medisnya, (2) menetapkan batasan syariah (perlindungan nasab, tidak pencampuran sperma), (3) fatwa kondisional: boleh dengan syarat menggunakan sperma dan ovum pasangan sah. Contoh ijtihad kontemporer yang menggabungkan ilmu syariah dan kedokteran."
            },
            {
                question: "Analisislah perbedaan pendapat ulama tentang kriteria 'hilal' dalam penentuan awal Ramadhan serta solusi untuk menyatukan kalender Islam global di era sains modern!",
                options: [
                    "A. Perbedaan adalah aib yang harus dihilangkan dengan memaksa satu pendapat",
                    "B. Perbedaan metodologi (rukyat, hisab, imkanur rukyat) yang bisa dikompromikan dengan data astronomi akurat",
                    "C. Hanya satu metode yang benar secara mutlak, lainnya salah",
                    "D. Tidak mungkin menyatukan kalender karena perbedaan geografis",
                    "E. Kalender Islam harus mengikuti kalender Masehi untuk keseragaman"
                ],
                correctAnswer: 1,
                explanation: "Perbedaan muncul dari: (1) pemahaman literal hadits rukyat, (2) penekanan pada ilmu falak modern. Solusi: (1) unifikasi data astronomi global, (2) kriteria imkanur rukyat yang disepakati, (3) otoritas kalender Islam dunia dengan tetap menghormati perbedaan lokal selama berdasarkan dalil."
            },
            {
                question: "Jelaskan esensi 'Ubudiyah' menurut Ibnu Qayyim dalam 'Madarijus Salikin' dan analisis tantangan penerapannya di era kapitalisme yang mendewakan materi!",
                options: [
                    "A. Ubudiyah hanya tentang shalat dan puasa tanpa urusan dunia",
                    "B. Penghambaan total kepada Allah dalam semua aspek kehidupan",
                    "C. Konsep yang membuat muslim tidak boleh kaya dan sukses",
                    "D. Kapitalisme sejalan dengan ubudiyah karena mendorong kerja keras",
                    "E. Ubudiyah adalah konsep tasawuf ekstrem yang harus dihindari"
                ],
                correctAnswer: 1,
                explanation: "Menurut Ibnu Qayyim, ubudiyah mencakup: (1) ketaatan ritual, (2) etika bisnis, (3) pola konsumsi halal, (4) tanggung jawab sosial. Tantangan kapitalisme: (1) materialisme, (2) konsumerisme, (3) eksploitasi. Solusi: memaknai kerja sebagai ibadah dengan menjaga niat, proses, dan hasil sesuai syariat."
            },
            {
                question: "Kritik dan analisis terhadap gerakan 'Qur'an Alone' dari perspektif ilmu hadits dan sejarah kodifikasi syariat Islam!",
                options: [
                    "A. Gerakan ini benar karena hadits tidak diperlukan",
                    "B. Menolak hadits berarti menolak penjelasan Al-Qur'an dan praktik Nabi",
                    "C. Hadits hanya diperlukan untuk urusan akhirat bukan dunia",
                    "D. Semua hadits adalah palsu sehingga harus ditolak",
                    "E. Hanya Al-Qur'an versi terjemahan yang boleh diikuti"
                ],
                correctAnswer: 1,
                explanation: "Kritik terhadap Qur'an Alone: (1) Al-Qur'an sendiri memerintahkan taat kepada Rasul (QS 4:59), (2) praktik ibadah seperti shalat hanya bisa diketahui dari hadits, (3) sejarah membuktikan para sahabat berpegang pada hadits. Penyimpangan gerakan ini: mengabaikan metodologi ilmiah dalam verifikasi hadits."
            },
            {
                question: "Jelaskan konsep 'Maslahah Mursalah' dalam ushul fiqh dan analisis penerapannya dalam regulasi fintech syariah di Indonesia!",
                options: [
                    "A. Maslahah mursalah berarti membuat hukum tanpa dasar syariat",
                    "B. Pertimbangan kemaslahatan umum yang tidak diatur secara eksplisit dalam nash tetapi tidak bertentangan",
                    "C. Konsep yang hanya untuk urusan politik bukan ekonomi",
                    "D. Semua teknologi otomatis halal karena mengandung maslahah",
                    "E. Fintech syariah harus mengikuti standar konvensional saja"
                ],
                correctAnswer: 1,
                explanation: "Penerapan dalam fintech syariah: (1) regulasi OJK tentang peer-to-peer lending syariah dengan prinsip transparansi, (2) fatwa DSN tentang cryptocurrency, (3) standar akad digital. Syaratnya: tidak bertentangan dengan nash, manfaat nyata, dan darurat/hajat syar'iyyah."
            },
            {
                question: "Analisislah perkembangan ilmu kalam modern dalam menyikapi tantangan ateisme dan sekularisme berdasarkan pemikiran Hasan Hanafi dan Nasr Hamid Abu Zayd!",
                options: [
                    "A. Ilmu kalam modern harus mengakui kebenaran ateisme",
                    "B. Pembaruan metodologi untuk menjawab skeptisisme zaman sekarang",
                    "C. Ilmu kalam tidak perlu berkembang karena sudah sempurna",
                    "D. Sekularisme adalah konsep yang sejalan dengan tauhid",
                    "E. Ateisme adalah pilihan yang sah dalam Islam"
                ],
                correctAnswer: 1,
                explanation: "Perkembangan ilmu kalam modern: (1) dialog dengan filsafat Barat, (2) pendekatan hermeneutika dalam memahami teks suci, (3) respon terhadap sains modern. Contoh: bukti-bukti rasional tentang keberadaan Tuhan melalui kosmologi dan desain inteligent, serta kritik terhadap klaim sekularisme yang absolut."
            },
            {
                question: "Jelaskan konsep 'Al-'Adl wa al-Ihsan' (keadilan dan kebaikan) dalam berinteraksi dengan non-muslim berdasarkan QS. Al-Mumtahanah ayat 8 dan praktik Nabi di Madinah!",
                options: [
                    "A. Islam melarang semua bentuk hubungan dengan non-muslim",
                    "B. Berlaku adil kepada semua dan berbuat baik selama tidak memerangi Islam",
                    "C. Keadilan hanya untuk muslim, non-muslim tidak berhak",
                    "D. Piagam Madinah adalah dokumen diskriminatif",
                    "E. Konsep ini sudah tidak berlaku di zaman modern"
                ],
                correctAnswer: 1,
                explanation: "QS. 60:8 membolehkan berbuat baik pada non-muslim yang tidak memerangi Islam. Praktik Nabi: (1) perjanjian Hudaibiyah, (2) perlindungan kepada non-muslim dalam Piagam Madinah, (3) hubungan diplomatik dengan penguasa lain. Implementasi modern: kerjasama sosial, dialog antaragama, dan perlindungan hak minoritas."
            },
            {
                question: "Kritik dan analisis terhadap fenomena 'Islamophobia' di Barat dari perspektif sejarah Perang Salib dan geopolitik kontemporer!",
                options: [
                    "A. Islamophobia hanya imajinasi muslim tanpa dasar nyata",
                    "B. Akar sejarah (Perang Salib, kolonialisme) dan kepentingan politik modern",
                    "C. Umat Islam sendiri yang menyebabkan islamophobia",
                    "D. Semua kritik terhadap Islam adalah islamophobia",
                    "E. Islamophobia adalah konsep yang sengaja dibuat muslim"
                ],
                correctAnswer: 1,
                explanation: "Analisis islamophobia: (1) warisan stereotip masa Perang Salib, (2) ketidaktahuan tentang Islam yang beragam, (3) kepentingan politik pasca 9/11, (4) media yang bias. Data menunjukkan peningkatan hate crime terhadap muslim di Eropa dan AS. Solusi: diplomasi budaya, counter-narasi, dan pembuktian melalui kontribusi positif."
            },
            {
                question: "Jelaskan konsep 'Al-Maqasid Al-Khamsah' (lima tujuan syariah) menurut Asy-Syatibi dan analisis relevansinya dalam penetapan hukum darurat seperti vaksinasi wajib!",
                options: [
                    "A. Lima tujuan syariah adalah konspirasi untuk melemahkan Islam",
                    "B. Perlindungan agama, jiwa, akal, keturunan, dan harta sebagai dasar ijtihad",
                    "C. Konsep yang hanya berlaku di masa lalu",
                    "D. Vaksinasi bertentangan dengan semua maqasid syariah",
                    "E. Hanya ulama tertentu yang boleh memahami maqasid"
                ],
                correctAnswer: 1,
                explanation: "Penerapan dalam vaksinasi: (1) perlindungan jiwa (hifzun nafs) lebih utama, (2) fatwa darurat untuk bahan haram jika tidak ada alternatif dan bahaya nyata, (3) pertimbangan kemaslahatan umum. Contoh: fatwa MUI No. 14 tahun 2021 tentang vaksin Covid-19 dengan syarat-syarat syar'i."
            },
            {
                question: "Analisislah perkembangan pendidikan pesantren berbasis 'Tafaqquh Fiddin' (pendalaman agama) di era digital dan tantangan menjaga tradisi keilmuan sanad!",
                options: [
                    "A. Digitalisasi menghancurkan semua nilai pesantren",
                    "B. Integrasi teknologi dengan menjaga metodologi tradisional",
                    "C. Pesantren harus menolak semua bentuk digitalisasi",
                    "D. Sanad keilmuan tidak penting lagi di era internet",
                    "E. Hanya pesantren online yang relevan sekarang"
                ],
                correctAnswer: 1,
                explanation: "Perkembangan positif: (1) akses ke kitab kuning digital, (2) pembelajaran hybrid. Tantangan: (1) risiko pemutus sanad, (2) kedangkalan pemahaman tanpa bimbingan guru. Solusi: (1) sistem blended learning, (2) sertifikasi online dengan tetap mempertahankan ijazah sanad, (3) platform digital yang dikelola pesantren."
            },
            {
                question: "Jelaskan konsep 'Al-Ghazwu al-Fikri' (perang pemikiran) menurut Sayyid Qutb dan analisis manifestasinya dalam bentuk budaya populer global!",
                options: [
                    "A. Semua budaya Barat adalah perang pemikiran yang harus ditolak",
                    "B. Penetrasi nilai-nilai yang bertentangan dengan Islam melalui media dan budaya",
                    "C. Konsep paranoid yang tidak terjadi di realitas",
                    "D. Islam harus menerima semua pengaruh global tanpa filter",
                    "E. Hanya pemerintah yang bisa melawan ghazwu fikri"
                ],
                correctAnswer: 1,
                explanation: "Manifestasi modern: (1) normalisasi hubungan seks bebas melalui film/series, (2) glorifikasi materialisme, (3) relativisme agama. Data menunjukkan pengaruh media terhadap perubahan nilai di kalangan pemuda muslim. Strategi counter: (1) literasi media, (2) produksi konten alternatif, (3) penguatan identitas keislaman."
            },
            {
                question: "Kritik dan analisis terhadap praktik 'Taharrusy' (nikah siri massal) dari perspektif maqasid syariah dan dampak sosialnya berdasarkan penelitian lapangan!",
                options: [
                    "A. Taharrusy adalah solusi syar'i untuk menghindari zina",
                    "B. Menimbulkan masalah sosial (eksploitasi, anak terlantar) bertentangan dengan tujuan syariah",
                    "C. Semua bentuk nikah siri adalah sunnah Nabi",
                    "D. Tidak ada dampak negatif dari praktik taharrusy",
                    "E. Nikah siri lebih baik daripada nikah resmi"
                ],
                correctAnswer: 1,
                explanation: "Analisis dampak: (1) ketiadaan perlindungan hukum bagi perempuan dan anak, (2) sulitnya pembuktian waris, (3) eksploitasi ekonomi. Bertentangan dengan maqasid hifzun nasl (perlindungan keturunan) dan hifzul mal (hak ekonomi). Solusi: sosialisasi nikah yang sah dan tercatat tanpa mengorbankan prinsip syar'i."
            },
            {
                question: "Jelaskan perkembangan ilmu 'Musthalah Hadits' di era digital dan tantangan verifikasi hadits di tengah maraknya penyebaran hadits palsu di media sosial!",
                options: [
                    "A. Semua hadits di internet bisa dipercaya",
                    "B. Pengembangan database digital untuk takhrij tetapi risiko penyebaran hoax meningkat",
                    "C. Ilmu musthalah hadits sudah tidak diperlukan lagi",
                    "D. Hanya ulama zaman dulu yang bisa menilai hadits",
                    "E. Media sosial membantu memastikan semua hadits sahih"
                ],
                correctAnswer: 1,
                explanation: "Perkembangan positif: (1) aplikasi takhrij hadits, (2) database perawi digital. Masalah: (1) hadits palsu yang diviralkan, (2) interpretasi sembarangan. Data menunjukkan 65% hadits yang viral di media sosial bermasalah. Solusi: (1) integrasi teknologi dengan otoritas ulama, (2) fitur verifikasi di platform sosial."
            },
            {
                question: "Analisislah konsep 'Al-Wasathiyyah' (moderasi) dalam QS. Al-Baqarah ayat 143 dan implementasinya dalam kebijakan pendidikan Islam di Indonesia!",
                options: [
                    "A. Wasathiyyah berarti kompromi pada semua prinsip agama",
                    "B. Keseimbangan antara aspek spiritual, intelektual, dan sosial",
                    "C. Konsep yang hanya untuk urusan politik bukan pendidikan",
                    "D. Pendidikan Islam harus ekstrem agar tidak dianggap moderat",
                    "E. Kurikulum harus sepenuhnya agama tanpa ilmu umum"
                ],
                correctAnswer: 1,
                explanation: "Implementasi dalam pendidikan: (1) kurikulum integratif agama-sains, (2) metode pembelajaran yang toleran tetapi tetap berprinsip, (3) pembentukan karakter yang inklusif tetapi menjaga identitas. Contoh: program pertukaran pelajar antar-pesantren berbeda mazhab untuk memperkuat persaudaraan."
            },
            {
                question: "Jelaskan konsep 'Al-'Amr bil Ma'ruf wa an-Nahy 'an al-Munkar' menurut tafsir kontemporer dan analisis metode penerapannya di era media sosial yang penuh dengan konten negatif!",
                options: [
                    "A. Menjadi polisi agama yang memaksa semua orang taat",
                    "B. Dakwah dengan hikmah, nasihat baik, dan debat yang konstruktif",
                    "C. Konsep yang sudah tidak relevan di zaman sekarang",
                    "D. Hanya pemerintah yang berhak melakukan amar makruf",
                    "E. Semua konten negatif harus dilaporkan ke pihak berwajib"
                ],
                correctAnswer: 1,
                explanation: "Metode di media sosial: (1) kontra-narasi melalui konten kreatif, (2) blocking konten asusila tanpa viralisasi, (3) edukasi bukan penghakiman. Data menunjukkan efektivitas kampanye #KindnessThroughIslam dibanding kecaman langsung. Prinsip: perubahan bertahap dengan tetap menjaga etika dakwah."
            },
            {
                question: "Kritik dan analisis terhadap fenomena 'Self-Radicalization' melalui internet berdasarkan penelitian terbaru tentang terorisme global!",
                options: [
                    "A. Internet tidak berperan dalam proses radikalisasi",
                    "B. Proses indoktrinasi mandiri melalui konten ekstrem di dark web dan forum tertutup",
                    "C. Semua pengguna internet pasti akan teradikalisasi",
                    "D. Tidak ada solusi untuk mencegah self-radicalization",
                    "E. Radikalisasi hanya terjadi melalui jaringan fisik"
                ],
                correctAnswer: 1,
                explanation: "Mekanisme self-radicalization: (1) algoritma yang mengarahkan ke konten ekstrem, (2) ruang gema (echo chambers) online, (3) gamifikasi jihad. Data INTERPOL menunjukkan 80% pelaku teror terakhir terpapar online. Solusi: (1) deteksi dini oleh AI, (2) program deradikalisasi digital, (3) kolaborasi dengan platform teknologi."
            },
            {
                question: "Jelaskan perkembangan 'Fiqh Al-Bi'ah' (hukum lingkungan) dalam fatwa kontemporer dan analisis peran masjid dalam gerakan eco-Islam di perkotaan!",
                options: [
                    "A. Islam tidak memiliki aturan tentang lingkungan",
                    "B. Kumpulan fatwa tentang konservasi alam berdasarkan nash-nash syariah",
                    "C. Fiqh bi'ah hanya untuk pedesaan bukan perkotaan",
                    "D. Merusak lingkungan tidak berdosa karena dunia fana",
                    "E. Masjid tidak boleh terlibat dalam isu lingkungan"
                ],
                correctAnswer: 1,
                explanation: "Peran masjid: (1) khutbah tentang konservasi air, (2) program bank sampah jamaah, (3) urban farming di lingkungan masjid. Contoh: Masjid Istiqlal dengan sistem pengolahan air wudhu berkelanjutan. Fatwa MUI No. 22 tahun 2011 tentang pertambangan ramah lingkungan menjadi landasan syar'i."
            },
            {
                question: "Analisislah konsep 'Al-Wala' wal Bara'' secara komprehensif menurut pemahaman Ahlus Sunnah dan penyimpangan kelompok ekstremis dalam mengaplikasikannya!",
                options: [
                    "A. Memusuhi semua non-muslim tanpa pengecualian",
                    "B. Loyalitas pada kebenaran Islam dan berlepas diri dari kesyirikan dengan tetap berbuat adil",
                    "C. Konsep yang sudah tidak berlaku setelah Perang Dunia II",
                    "D. Wala' hanya untuk kelompok sendiri sekalipun salah",
                    "E. Bara' berarti memutus semua hubungan dengan non-muslim"
                ],
                correctAnswer: 1,
                explanation: "Penyimpangan ekstremis: (1) takfiri (mengkafirkan sesama muslim), (2) permusuhan tanpa dasar syar'i. Pemahaman benar: (1) wala' untuk kebenaran bukan fanatisme, (2) bara' dari kesyirikan bukan dari manusia selama tidak memerangi Islam. Contoh praktik Nabi: perlindungan kepada non-muslim dalam Piagam Madinah."
            },
            {
                question: "Jelaskan metodologi 'Istinbath Hukum' dalam Mazhab Syafi'i dan analisis fleksibilitasnya dalam menjawab masalah kontemporer seperti transaksi kripto!",
                options: [
                    "A. Mazhab Syafi'i kaku dan tidak bisa menjawab masalah modern",
                    "B. Berpegang pada Al-Qur'an, Sunnah, Ijma', Qiyas dengan tetap mempertimbangkan urf dan maslahah",
                    "C. Hanya mengikuti pendapat Imam Syafi'i tanpa ijtihad baru",
                    "D. Kripto otomatis haram karena tidak ada di zaman dulu",
                    "E. Istinbath hukum berarti menciptakan hukum baru sesuka hati"
                ],
                correctAnswer: 1,
                explanation: "Aplikasi untuk kripto: (1) analisis sebagai 'mal mutaqawwim' (harta bernilai), (2) ketiadaan gharar dan riba, (3) pertimbangan urf (kebiasaan) pedagang modern. Fatwa berbagai negara berbeda tergantung karakteristik aset kripto tersebut. Contoh: DSN-MUI masih melakukan kajian mendalam sebelum mengeluarkan fatwa."
            },
            {
                question: "Kritik dan analisis terhadap tren 'Halal Tourism' dari perspektif maqasid syariah dan dampaknya terhadap dakwah Islam di negara minoritas muslim!",
                options: [
                    "A. Halal tourism adalah komersialisasi agama yang haram",
                    "B. Peluang dakwah tetapi risiko reduksi Islam sekadar komoditas",
                    "C. Semua bentuk pariwisata adalah haram dalam Islam",
                    "D. Tidak ada dampak positif dari halal tourism",
                    "E. Hanya negara muslim yang boleh mengembangkan halal tourism"
                ],
                correctAnswer: 1,
                explanation: "Analisis dampak: positif - (1) penyediaan fasilitas ibadah, (2) citra Islam yang moderat; negatif - (1) islamisasi yang superficial, (2) komersialisasi simbol agama. Data dari Malaysia menunjukkan peningkatan 23% wisatawan muslim setelah pengembangan sertifikasi halal tourism berbasis syariah."
            },
            {
                question: "Jelaskan konsep 'Al-Futuwwah' (kesatriaan spiritual) dalam tasawuf Islam dan relevansinya dengan pembentukan karakter pemuda muslim di era disruptif!",
                options: [
                    "A. Futuwwah berarti kekerasan atas nama agama",
                    "B. Akhlak mulia: berani membela kebenaran, dermawan, dan menjaga kehormatan",
                    "C. Konsep tasawuf yang tidak cocok untuk pemuda modern",
                    "D. Hanya para kesatria fisik yang bisa mencapai futuwwah",
                    "E. Futuwwah membuat pemuda menjadi fanatik"
                ],
                correctAnswer: 1,
                explanation: "Relevansi untuk pemuda: (1) keberanian melawan korupsi, (2) ketahanan menghadapi bullying digital, (3) jiwa sosial di media sosial. Contoh program: pelatihan kepemimpinan berbasis nilai-nilai futuwwah dengan kombinasi spiritualitas dan keterampilan abad 21."
            },
            {
                question: "Analisislah perkembangan 'Islamic Philanthropy' (filantropi Islam) di Indonesia pasca UU No. 23 Tahun 2011 tentang Pengelolaan Zakat dan tantangan menuju profesionalisme!",
                options: [
                    "A. Filantropi Islam tidak boleh dikelola secara profesional",
                    "B. Pertumbuhan signifikan tetapi tantangan transparansi dan akuntabilitas",
                    "C. UU Zakat justru menghambat perkembangan filantropi",
                    "D. Semua lembaga zakat di Indonesia sudah profesional",
                    "E. Filantropi harus dikelola pemerintah saja"
                ],
                correctAnswer: 1,
                explanation: "Perkembangan positif: (1) digitalisasi pembayaran, (2) program pemberdayaan. Tantangan: (1) hanya 20% muzaki yang membayar melalui lembaga, (2) kepercayaan publik yang masih rendah. Data BAZNAS menunjukkan potensi zakat mencapai Rp327 triliun/tahun tetapi baru terkumpul Rp10 triliun (2022). Solusi: sertifikasi amil, audit syariah, dan laporan real-time."
            },
            {
                question: "Jelaskan konsep 'Al-Mujtama' Al-Madani' (masyarakat madani) dalam pemikiran Islam kontemporer dan analisis prasyarat pembentukannya di Indonesia!",
                options: [
                    "A. Masyarakat madani adalah impor Barat yang tidak Islami",
                    "B. Masyarakat yang beradab dengan prinsip partisipasi, keadilan, dan toleransi",
                    "C. Hanya bisa terwujud dalam sistem khilafah",
                    "D. Indonesia tidak mungkin menjadi masyarakat madani",
                    "E. Konsep yang bertentangan dengan Pancasila"
                ],
                correctAnswer: 1,
                explanation: "Prasyarat di Indonesia: (1) penegakan hukum yang adil, (2) pendidikan karakter, (3) kebebasan pers yang bertanggung jawab, (4) peran organisasi keagamaan sebagai moral force. Contoh praktik baik: komunitas berbasis masjid yang mengadvokasi isu sosial tanpa kekerasan."
            },
            {
                question: "Kritik dan analisis terhadap fenomena 'Cyber Sufism' (komodifikasi ajaran tasawuf di media sosial) dari perspektif otentisitas ilmu tasawuf tradisional!",
                options: [
                    "A. Semua ajaran tasawuf di media sosial adalah palsu",
                    "B. Potensi penyimpangan ajaran tetapi juga perluasan manfaat",
                    "C. Cyber sufism adalah perkembangan positif tanpa risiko",
                    "D. Tasawuf hanya bisa dipelajari di pesantren bukan online",
                    "E. Media sosial tidak boleh digunakan untuk ajaran tasawuf"
                ],
                correctAnswer: 1,
                explanation: "Analisis risiko: (1) simplifikasi ajaran kompleks, (2) guru gadungan. Manfaat: (1) akses untuk kaum urban, (2) konseling spiritual online. Data menunjukkan 60% pengikut kajian tasawuf digital adalah profesional muda. Solusi: sertifikasi konten oleh ulama tasawuf, kombinasi online-offline learning."
            },
            {
                question: "Jelaskan metodologi 'Ijtihad Jama'i' (ijtihad kolektif) dalam Komisi Fatwa modern dan analisis perannya dalam menyatukan perbedaan pendapat ulama kontemporer!",
                options: [
                    "A. Ijtihad jama'i berarti memaksakan satu pendapat untuk semua",
                    "B. Kolaborasi multidisiplin ilmu untuk fatwa yang komprehensif",
                    "C. Hanya ulama senior yang boleh berijtihad kolektif",
                    "D. Ijtihad individu lebih baik daripada kolektif",
                    "E. Tidak mungkin menyatukan perbedaan pendapat ulama"
                ],
                correctAnswer: 1,
                explanation: "Contoh sukses: fatwa DSN-MUI tentang perbankan syariah yang melibatkan: (1) fuqaha, (2) ekonom, (3) praktik. Data menunjukkan 85% fatwa kolektif lebih diterima masyarakat. Tantangan: (1) ego sektoral, (2) kepentingan politik. Solusi: transparansi proses dan sosialisasi metodologi."
            }
                ]
            },
            'SMA/SMK': {
                'Agama Islam': [
                    {
                        question: "Perhatikan hadis berikut: 'Innamal a'mālu binniyyāt...' (HR. Bukhari-Muslim). Kandungan utama hadis tersebut adalah tentang...",
                        options: [
                            "A. Keutamaan niat dalam beramal",
                            "B. Kewajiban ikhlas dalam beribadah",
                            "C. Larangan riya' dalam beramal",
                            "D. Pentingnya ilmu sebelum beramal",
                            "E. Semua jawaban benar"
                        ],
                        correctAnswer: 4,
                        explanation: "Hadis tentang niat ini mengandung semua poin yang disebutkan dalam pilihan jawaban. Niat adalah dasar diterimanya amal, harus ikhlas karena Allah, tidak boleh riya', dan ilmu tentang cara beramal yang benar harus didahulukan sebelum beramal."
                    },
                    {
                        question: "Perhatikan pernyataan tentang hukum waris Islam: 1) Anak laki-laki mendapat bagian lebih besar dari anak perempuan, 2) Suami mendapat 1/2 jika istri tidak meninggalkan anak, 3) Ibu mendapat 1/6 jika ada anak atau cucu, 4) Saudara laki-laki seibu mendapat 1/6. Pernyataan yang benar adalah...",
                        options: [
                            "A. 1 dan 2",
                            "B. 1 dan 3",
                            "C. 2 dan 3",
                            "D. 2 dan 4",
                            "E. 3 dan 4"
                        ],
                        correctAnswer: 1,
                        explanation: "Pernyataan yang benar adalah 1) Anak laki-laki mendapat bagian 2x anak perempuan (QS. An-Nisa: 11), dan 3) Ibu mendapat 1/6 jika ada anak atau cucu (QS. An-Nisa: 11). Pernyataan 2 salah karena suami mendapat 1/2 jika istri tidak meninggalkan anak atau cucu, dan 4 salah karena saudara laki-laki seibu mendapat 1/6 jika hanya satu orang."
                    },
                    {
                        question: "Dalam Islam, transaksi ekonomi yang dilarang adalah...",
                        options: [
                            "A. Jual beli dengan sistem tunai",
                            "B. Kerjasama bagi hasil (mudharabah)",
                            "C. Sewa menyewa dengan akad jelas",
                            "D. Riba dalam pinjaman",
                            "E. Jual beli dengan sistem kredit"
                        ],
                        correctAnswer: 3,
                        explanation: "Riba dalam segala bentuknya dilarang dalam Islam (QS. Al-Baqarah: 275). Transaksi lain seperti jual beli tunai/kredit, mudharabah, dan sewa menyewa yang memenuhi syarat diperbolehkan dalam Islam."
                    },
                    {
                        question: "Perhatikan pernyataan tentang khulafaur rasyidin: 1) Abu Bakar Ash-Shiddiq, 2) Umar bin Khattab, 3) Utsman bin Affan, 4) Ali bin Abi Thalib. Urutan yang benar masa kekhalifahan mereka adalah...",
                        options: [
                            "A. 1-2-3-4",
                            "B. 1-3-2-4",
                            "C. 2-1-3-4",
                            "D. 2-3-1-4",
                            "E. 3-1-2-4"
                        ],
                        correctAnswer: 0,
                        explanation: "Urutan khulafaur rasyidin adalah: 1) Abu Bakar Ash-Shiddiq (11-13 H/632-634 M), 2) Umar bin Khattab (13-23 H/634-644 M), 3) Utsman bin Affan (23-35 H/644-656 M), 4) Ali bin Abi Thalib (35-40 H/656-661 M)."
                    },
                    {
                        question: "Berikut ini yang termasuk syarat sah shalat adalah...",
                        options: [
                            "A. Menutup aurat",
                            "B. Menghadap kiblat",
                            "C. Suci dari hadas kecil dan besar",
                            "D. Masuk waktu shalat",
                            "E. Semua jawaban benar"
                        ],
                        correctAnswer: 4,
                        explanation: "Semua pilihan di atas termasuk syarat sah shalat. Syarat sah shalat lainnya: 1) Mengetahui tata caranya, 2) Suci badan, pakaian dan tempat dari najis, 3) Tidak ada yang membatalkan shalat."
                    },
                    {
                        question: "Perhatikan pernyataan tentang zakat: 1) Zakat fitrah wajib bagi setiap muslim, 2) Zakat mal wajib jika mencapai nishab dan haul, 3) Nishab zakat emas adalah 85 gram, 4) Zakat profesi hukumnya wajib. Pernyataan yang benar adalah...",
                        options: [
                            "A. 1 dan 2",
                            "B. 1 dan 3",
                            "C. 2 dan 3",
                            "D. 2 dan 4",
                            "E. 3 dan 4"
                        ],
                        correctAnswer: 0,
                        explanation: "Pernyataan yang benar adalah 1) Zakat fitrah wajib bagi setiap muslim yang mampu, 2) Zakat mal wajib jika mencapai nishab dan haul. Nishab zakat emas adalah 85 gram emas murni, tetapi ini termasuk zakat mal. Zakat profesi masih menjadi perbedaan pendapat di kalangan ulama."
                    },
                    {
                        question: "Dalam Islam, tujuan utama ibadah haji adalah...",
                        options: [
                            "A. Menghapus dosa-dosa",
                            "B. Mempererat persaudaraan muslim",
                            "C. Mengunjungi tempat-tempat bersejarah",
                            "D. Memenuhi panggilan Allah",
                            "E. Semua jawaban benar"
                        ],
                        correctAnswer: 3,
                        explanation: "Tujuan utama ibadah haji adalah memenuhi panggilan Allah (QS. Al-Hajj: 27). Manfaat lain seperti penghapusan dosa, persaudaraan, dan ziarah adalah efek samping dari pelaksanaan haji."
                    },
                    {
                        question: "Perhatikan ayat berikut: 'Wa lā taqtulū anfusakum innallāha kāna bikum raḥīmā' (QS. An-Nisa: 29). Kandungan utama ayat tersebut adalah...",
                        options: [
                            "A. Larangan membunuh diri sendiri",
                            "B. Perintah menjaga nyawa",
                            "C. Larangan bunuh diri dan pembunuhan",
                            "D. Keharaman bunuh diri dalam Islam",
                            "E. Semua jawaban benar"
                        ],
                        correctAnswer: 4,
                        explanation: "Ayat tersebut berarti 'Dan janganlah kamu membunuh dirimu sendiri. Sesungguhnya Allah Maha Penyayang kepadamu' (QS. An-Nisa: 29). Kandungannya mencakup semua poin dalam pilihan jawaban."
                    },
                    {
                        question: "Berikut ini yang termasuk contoh muamalah yang sesuai syariah adalah...",
                        options: [
                            "A. Jual beli dengan sistem riba",
                            "B. Kerjasama bagi hasil (mudharabah)",
                            "C. Judi dalam bentuk apapun",
                            "D. Transaksi yang mengandung gharar (ketidakjelasan)",
                            "E. Menjual barang haram"
                        ],
                        correctAnswer: 1,
                        explanation: "Kerjasama bagi hasil (mudharabah) adalah contoh muamalah yang sesuai syariah. Sistem riba, judi, gharar, dan jual beli barang haram dilarang dalam Islam."
                    },
                    {
                        question: "Perhatikan pernyataan tentang jihad: 1) Jihad bisa dengan harta, 2) Jihad bisa dengan lisan, 3) Jihad bisa dengan tangan, 4) Jihad bisa dengan hati. Pernyataan yang benar adalah...",
                        options: [
                            "A. 1 dan 2",
                            "B. 1 dan 3",
                            "C. 2 dan 3",
                            "D. 3 dan 4",
                            "E. Semua benar"
                        ],
                        correctAnswer: 4,
                        explanation: "Semua pernyataan benar. Jihad dalam Islam memiliki makna yang luas, tidak hanya perang. Nabi Muhammad SAW bersabda: 'Jihad yang paling utama adalah menyampaikan kebenaran di hadapan penguasa yang zalim' (HR. Abu Daud)."
                    },
                     {
                question: "Jelaskan secara rinci perbedaan antara konsep tauhid dalam Islam dengan konsep ketuhanan dalam agama-agama lain! Berikan contoh konkret dari masing-masing konsep tersebut.",
                options: [
                    "A. Tauhid dalam Islam menekankan keesaan Allah secara mutlak, sedangkan agama lain mungkin mengakui keberadaan banyak tuhan atau trinitas.",
                    "B. Konsep ketuhanan dalam agama lain selalu bertentangan dengan Islam.",
                    "C. Islam mengakui semua bentuk konsep ketuhanan asalkan menyembah Tuhan.",
                    "D. Tidak ada perbedaan signifikan antara konsep tauhid Islam dengan agama lain.",
                    "E. Tauhid hanya relevan dalam konteks sejarah dan tidak aplikatif di zaman modern."
                ],
                correctAnswer: 0,
                explanation: "Tauhid dalam Islam adalah konsep keesaan Allah yang mutlak (QS Al-Ikhlas), sementara agama lain seperti Kristen memiliki konsep trinitas dan Hindu memiliki banyak dewa. Ini adalah perbedaan fundamental dalam aqidah Islam."
            },
            {
                question: "Analisislah hikmah di balik larangan riba dalam Islam dari perspektif ekonomi mikro dan makro! Bagaimana sistem ekonomi Islam menawarkan solusi alternatif?",
                options: [
                    "A. Riba menyebabkan ketimpangan ekonomi, sementara sistem bagi hasil dalam Islam menciptakan keadilan.",
                    "B. Larangan riba hanya bersifat simbolis tanpa dampak ekonomi nyata.",
                    "C. Sistem ekonomi konvensional lebih unggul dari sistem Islam dalam semua aspek.",
                    "D. Riba sebenarnya diperbolehkan dalam kondisi ekonomi tertentu.",
                    "E. Tidak ada hubungan antara riba dengan krisis ekonomi."
                ],
                correctAnswer: 0,
                explanation: "Riba dilarang karena mengeksploitasi pihak lemah dan menciptakan ketidakadilan (QS Al-Baqarah:275). Sistem Islam menawarkan profit-sharing (mudharabah) dan jual beli yang adil sebagai alternatif."
            },
            // Lanjutkan dengan 28 soal lainnya...
            {
                question: "Bagaimana pandangan Islam tentang konsep takdir dan ikhtiar? Jelaskan dengan merujuk pada dalil naqli dan aqli serta contoh aplikasinya dalam kehidupan modern!",
                options: [
                    "A. Islam mengajarkan keseimbangan antara percaya pada takdir dan usaha maksimal.",
                    "B. Takdir bersifat mutlak tanpa ruang untuk ikhtiar manusia.",
                    "C. Ikhtiar manusia bisa mengubah semua takdir yang telah ditetapkan.",
                    "D. Konsep takdir hanya relevan untuk masalah besar bukan kehidupan sehari-hari.",
                    "E. Takdir dan ikhtiar adalah dua konsep yang bertentangan dalam Islam."
                ],
                correctAnswer: 0,
                explanation: "Hadits menyatakan 'Berusahalah seakan-akan kamu akan hidup selamanya' (ikhtiar) dan 'Percayalah pada takdir baik dan buruk' (HR Muslim). Contoh: berobat saat sakit (ikhtiar) sambil percaya hasil di tangan Allah (takdir)."
            },
            {
                question: "Tafsirkan Surah Al-Hujurat ayat 13 tentang konsep kesetaraan manusia dalam Islam! Bagaimana ayat ini relevan dengan isu-isu kontemporer seperti diskriminasi ras dan gender?",
                options: [
                    "A. Ayat ini menegaskan kemuliaan manusia berdasarkan takwa bukan ras/gender.",
                    "B. Islam sebenarnya membedakan derajat manusia berdasarkan ras.",
                    "C. Konsep kesetaraan dalam Islam bertentangan dengan budaya Arab.",
                    "D. Ayat ini hanya berlaku untuk masyarakat zaman Nabi bukan masa kini.",
                    "E. Islam tidak memiliki konsep kesetaraan manusia."
                ],
                correctAnswer: 0,
                explanation: "Ayat ini (QS 49:13) menegaskan Allah menciptakan manusia berbangsa-bangsa untuk saling mengenal, dan yang paling mulia adalah yang paling bertakwa. Ini menjadi dasar Islam menolak semua bentuk diskriminasi."
            },
            {
                question: "Jelaskan perkembangan ilmu hadis sejak zaman Nabi hingga penyusunan kitab-kitab hadis utama! Apa kriteria suatu hadis dapat dikategorikan sebagai shahih?",
                options: [
                    "A. Periode penerimaan, penghafalan, penulisan, hingga verifikasi dengan kriteria sanad dan matan yang ketat.",
                    "B. Hadis cukup diriwayatkan oleh satu orang saja untuk dianggap shahih.",
                    "C. Semua hadis otomatis shahih karena berasal dari Nabi.",
                    "D. Kriteria hadis shahih hanya melihat isi (matan) tanpa memperhatikan rantai periwayatan.",
                    "E. Kitab hadis disusun segera setelah Nabi wafat tanpa proses verifikasi panjang."
                ],
                correctAnswer: 0,
                explanation: "Ilmu hadis berkembang melalui tahapan ketat: 1) Periode Nabi (larangan awal penulisan), 2) Tabi'in (pengumpulan), 3) Penyaringan oleh Bukhari-Muslim dll. Kriteria shahih: sanad bersambung, perawi adil & kuat hafalan, tidak syadz (janggal), dan tidak illat (cacat)."
            },
            {
                question: "Analisislah konsep 'Maqashid Syariah' menurut Imam Al-Ghazali dan Asy-Syatibi serta bagaimana penerapannya dalam menyelesaikan masalah kontemporer seperti transaksi cryptocurrency!",
                options: [
                    "A. Maqashid Syariah melindungi agama, jiwa, akal, keturunan, dan harta - cryptocurrency perlu dinilai berdasarkan kriteria ini",
                    "B. Maqashid Syariah hanya relevan untuk masalah klasik tidak untuk teknologi modern",
                    "C. Semua bentuk cryptocurrency haram tanpa pengecualian menurut Maqashid Syariah",
                    "D. Konsep Maqashid Syariah bertentangan dengan perkembangan ekonomi digital",
                    "E. Imam Al-Ghazali melarang semua bentuk transaksi non-konvensional"
                ],
                correctAnswer: 0,
                explanation: "Maqashid Syariah (tujuan syariah) menurut kedua ulama tersebut bertujuan melindungi 5 hak dasar (ad-daruriyyat al-khams). Cryptocurrency perlu dikaji berdasarkan unsur gharar, riba, dan apakah memenuhi fungsi uang dalam Islam."
            },
            {
                question: "Jelaskan perbedaan pendapat ulama tentang status hukum orang yang murtad beserta dalil-dalilnya! Bagaimana pandangan kontemporer menyikapi fenomena apostasi di era Hak Asasi Manusia?",
                options: [
                    "A. Perbedaan antara pandangan klasik tentang hukuman mati dengan pendekatan modern yang menekankan dialog dan pembinaan",
                    "B. Semua ulama sepakat tidak ada konsekuensi bagi yang murtad",
                    "C. Islam melarang sama sekali adanya kebebasan beragama",
                    "D. Isu murtad tidak pernah dibahas dalam fiqih klasik",
                    "E. Orang yang murtad harus langsung dihukum tanpa proses apapun"
                ],
                correctAnswer: 0,
                explanation: "Mazhab Hanafi dan Maliki membedakan antara murtad individu dan kolektif, sementara pandangan kontemporer (Qaradawi dll) menekankan pendekatan edukasi dan memahami akar penyebab kemurtadan."
            },
            {
                question: "Telaah kritis perkembangan ilmu kalam dari periode klasik (Asy'ariyah, Mu'tazilah) hingga kontemporer (Hasan Hanafi, Nasr Hamid Abu Zayd)! Apa relevansinya dengan tantangan pemikiran Islam modern?",
                options: [
                    "A. Perkembangan dari debat teologis abstrak ke pendekatan yang kontekstual dengan masalah kekinian",
                    "B. Ilmu kalam sudah tidak relevan sejak abad pertengahan",
                    "C. Hanya pandangan Mu'tazilah yang masih berlaku di era modern",
                    "D. Semua pemikir kontemporer menolak warisan ilmu kalam klasik",
                    "E. Tidak ada perkembangan signifikan dalam ilmu kalam selama 14 abad"
                ],
                correctAnswer: 0,
                explanation: "Ilmu kalam berkembang dari debat tentang sifat Allah (klasik) menjadi alat analisis isu modern seperti sekularisme dan multikulturalisme, dengan tetap berpegang pada kerangka tauhid."
            },
            {
                question: "Bagaimana konsep 'Fiqh Prioritas' (Fiqh al-Aulawiyyat) dapat menjadi metodologi dalam menyelesaikan kontradiksi antara teks agama dan kebutuhan masyarakat modern? Berikan contoh kasus!",
                options: [
                    "A. Dengan menimbang maslahat dan mudharat serta mengurutkan prioritas hukum seperti dalam kasus vaksinasi mengandung unsur haram",
                    "B. Dengan selalu mengutamakan teks literal tanpa mempertimbangkan konteks",
                    "C. Dengan menolak semua perkembangan modern yang tidak ada di zaman Nabi",
                    "D. Fiqh Prioritas hanya berlaku untuk ibadah mahdhah bukan muamalah",
                    "E. Konsep ini bertentangan dengan prinsip ijtihad"
                ],
                correctAnswer: 0,
                explanation: "Contoh aplikasi: penggunaan bahan haram untuk obat darurat dibolehkan (QS 2:173) dengan syarat ketat, menunjukkan prinsip 'menghindari mudharat lebih diutamakan daripada menarik manfaat'."
            },
            {
                question: "Analisislah pemikiran politik Islam kontemporer (Al-Maududi, Qutb, Al-Banna) tentang konsep negara Islam dan bagaimana kritik terhadap pemikiran mereka dari kalangan ulama moderat!",
                options: [
                    "A. Perbedaan antara pandangan idealis tentang khilafah dengan pendekatan realis yang menerima nation-state",
                    "B. Semua pemikir sepakat tentang wajibnya mendirikan negara Islam secara revolusioner",
                    "C. Tidak ada varian pemikiran politik dalam Islam",
                    "D. Konsep negara bangsa sepenuhnya bertentangan dengan Islam",
                    "E. Islam tidak memiliki konsep politik sama sekali"
                ],
                correctAnswer: 0,
                explanation: "Ulama moderat (Rasyid Ridha, Thaha Jabir) mengkritik konsep khilafah idealis dengan argumen bahwa sistem politik Islam bersifat prinsip bukan teknis, dan bisa diwujudkan dalam berbagai bentuk pemerintahan."
            },
            {
                question: "Jelaskan perkembangan tafsir Al-Qur'an dari periode klasik (bi al-ma'tsur) hingga kontemporer (ilmi, maqashidi) serta kelebihan dan kelemahan masing-masing metode!",
                options: [
                    "A. Dari penekanan pada riwayat ke pendekatan multidisipliner dengan tetap menjaga otentisitas",
                    "B. Tafsir kontemporer lebih baik mutlak dari tafsir klasik",
                    "C. Hanya tafsir literal yang boleh digunakan",
                    "D. Tidak ada perkembangan metodologi tafsir sejak masa sahabat",
                    "E. Tafsir ilmiah tentang sains adalah bentuk penyimpangan"
                ],
                correctAnswer: 0,
                explanation: "Tafsir klasik (Ath-Thabari) unggul dalam otentisitas tetapi kurang kontekstual, sementara tafsir ilmiah (Tantawi Jawhari) relevan tetapi berisiko reduksionisme jika memaksakan kesesuaian dengan teori sains temporer."
            },
            {
                question: "Bagaimana konsep 'Wasathiyyah' (moderasi beragama) dalam Islam dapat menjadi solusi terhadap fenomena radikalisme dan liberalisme? Jelaskan dengan contoh implementasi!",
                options: [
                    "A. Dengan menyeimbangkan antara teks dan konteks serta menghindari ekstremisme seperti dalam fatwa MUI tentang toleransi beragama",
                    "B. Islam sebenarnya menganjurkan ekstremisme dalam beragama",
                    "C. Konsep wasathiyyah adalah bentuk kompromi terhadap nilai-nilai Barat",
                    "D. Moderasi berarti mengorbankan prinsip-prinsip dasar agama",
                    "E. Tidak ada konsep moderasi dalam sumber Islam"
                ],
                correctAnswer: 0,
                explanation: "Contoh implementasi: fatwa tentang larangan kekerasan atas nama agama tetapi tetap menjaga aqidah (QS 2:143), atau dialog antarumat beragama tanpa sinkretisme."
            },
            {
                question: "Telaah kritis terhadap metode istinbath hukum kontemporer seperti 'fiqh al-aqalliyyat' (fiqih minoritas) dan bagaimana penerapannya bagi muslim di negara non-muslim!",
                options: [
                    "A. Dengan adaptasi hukum tanpa mengorbankan prinsip dasar seperti keringanan shalat bagi pekerja shift",
                    "B. Muslim minoritas harus menerapkan semua hukum sama seperti di negara muslim",
                    "C. Fiqh al-aqalliyyat berarti mengkompromikan semua syariat",
                    "D. Konsep ini hanya dibuat-buat ulama modern tanpa dasar",
                    "E. Tidak ada perbedaan hukum berdasarkan kondisi geografis"
                ],
                correctAnswer: 0,
                explanation: "Contoh: fatwa tentang bolehnya tidak puasa Ramadhan bagi muslim di wilayah kutub dengan pola siang-malam ekstrem, berdasarkan kaidah 'kesulitan menarik kemudahan' (QS 22:78)."
            },
            {
                question: "Jelaskan kontroversi penerapan 'hermeneutika' dalam studi Islam kontemporer beserta pro-kontra di kalangan ulama!",
                options: [
                    "A. Perdebatan antara yang menerima hermeneutika sebagai alat analisis teks dengan yang menolaknya sebagai produk Barat",
                    "B. Semua ulama menerima hermeneutika tanpa reservasi",
                    "C. Hermeneutika sepenuhnya bertentangan dengan ulumul qur'an",
                    "D. Tidak ada perdebatan berarti tentang metode tafsir modern",
                    "E. Hermeneutika adalah satu-satunya metode yang diakui dalam Islam"
                ],
                correctAnswer: 0,
                explanation: "Nasr Hamid Abu Zayd menggunakan hermeneutika untuk kontekstualisasi pesan Al-Qur'an, tetapi dikritik kalangan tradisional karena dianggap mengabaikan otoritas tafsir klasik dan aspek ilahiyah teks."
            },
            {
                question: "Analisislah konsep 'Sirah Nabawiyah' sebagai paradigma gerakan sosial dan bagaimana aplikasinya dalam membangun masyarakat madani di era modern!",
                options: [
                    "A. Dengan memetakan strategi Nabi dalam membangun masyarakat Madinah sebagai model tata kelola sosial inklusif",
                    "B. Sirah hanya relevan sebagai kajian sejarah tanpa aplikasi praktis",
                    "C. Masyarakat modern tidak mungkin menerapkan nilai-nilai sirah",
                    "D. Konsep masyarakat madani bertentangan dengan piagam Madinah",
                    "E. Nabi Muhammad hanya fokus pada ibadah bukan masalah sosial"
                ],
                correctAnswer: 0,
                explanation: "Piagam Madinah menjadi konstitusi pertama yang mengakui pluralitas (Yahudi sebagai ummat wahdah ma'a al-mu'minin), sistem ekonomi berbasis zakat, dan penyelesaian sengketa melalui musyawarah - relevan untuk tata kelola masyarakat modern."
            },
            {
                question: "Bagaimana konsep 'Hifzh al-Bi'ah' (pelestarian lingkungan) dalam fiqih Islam dapat berkontribusi pada solusi krisis ekologi global? Jelaskan dengan dalil dan contoh praktis!",
                options: [
                    "A. Dengan mengembangkan fiqih ekologi berbasis maqashid syariah seperti larangan israf (QS 7:31) dan konsep hima (kawasan lindung)",
                    "B. Islam tidak memiliki ajaran tentang lingkungan",
                    "C. Masalah lingkungan adalah urusan duniawi tanpa dimensi agama",
                    "D. Konsep ekologi bertentangan dengan eksploitasi sumber daya alam dalam fiqih klasik",
                    "E. Ulama sepakat membolehkan semua bentuk eksploitasi lingkungan"
                ],
                correctAnswer: 0,
                explanation: "Praktik Rasulullah melarang pencemaran air (HR Muslim), larangan menebang pohon tanpa perlu (HR Bukhari), dan konsep harim (zona penyangga) sekitar sumber air menunjukkan visi ekologi Islam yang holistik."
            },
            {
                question: "Jelaskan perkembangan metode kritik hadis dari periode awal (ilmu al-jarh wa at-ta'dil) hingga pendekatan kontemporer (analisis matan secara multidisipliner)!",
                options: [
                    "A. Dari fokus pada sanad ke analisis matan dengan pendekatan historis, linguistik, dan sosiologis",
                    "B. Kritik hadis sudah sempurna di abad pertengahan tidak perlu pengembangan",
                    "C. Hanya analisis sanad yang valid dalam ilmu hadis",
                    "D. Semua hadis dalam kitab shahih otomatis valid tanpa perlu dikritik",
                    "E. Metode kritik hadis merusak otentisitas sunnah"
                ],
                correctAnswer: 0,
                explanation: "Ulama kontemporer (Syaraf al-Qudsi) menambahkan analisis konteks historis turunnya hadis dan kesesuaian dengan nilai dasar Islam, melengkapi metode klasik yang ketat dalam menilai periwayat."
            },
            {
                question: "Analisislah konsep 'ijtihad kolektif' dalam menjawab masalah-masalah kontemporer seperti bayi tabung, transplantasi organ, dan rekayasa genetika!",
                options: [
                    "A. Dengan menggabungkan ahli fiqih, dokter, dan etikawan dalam lembaga fatwa seperti Majlis Tarjih Muhammadiyah",
                    "B. Ijtihad harus tetap dilakukan secara individual",
                    "C. Masalah kontemporer tidak perlu difatwakan karena tidak ada di zaman Nabi",
                    "D. Hanya ulama abad pertengahan yang berwenang berijtihad",
                    "E. Ijtihad kolektif adalah bid'ah yang sesat"
                ],
                correctAnswer: 0,
                explanation: "Contoh: fatwa tentang donor organ harus mempertimbangkan prinsip darurat, tidak ada eksploitasi, dan manfaat lebih besar daripada mudharat (QS 2:173), hasil kolaborasi multidisiplin."
            },
            {
                question: "Bagaimana teori 'double movement' Fazlur Rahman dalam metodologi tafsir dapat diaplikasikan untuk memahami ayat-ayat tentang relasi muslim-nonmuslim di era globalisasi?",
                options: [
                    "A. Dengan memahami konteks historis turunnya ayat lalu menemukan prinsip universal untuk konteks kekinian",
                    "B. Dengan mengabaikan sama sekali konteks historis Al-Qur'an",
                    "C. Dengan memaksakan makna literal untuk semua zaman",
                    "D. Teori ini hanya berlaku untuk ayat-ayat ibadah bukan sosial",
                    "E. Tidak ada hubungan antara metodologi tafsir dengan isu globalisasi"
                ],
                correctAnswer: 0,
                explanation: "Contoh aplikasi: ayat-ayat perang (qital) dipahami dalam konteks spesifik perlawanan terhadap agresi, lalu prinsip keadilan dan perdamaian (QS 60:8) dijadikan panduan relasi lintas agama di era modern."
            },
            {
                question: "Jelaskan perdebatan ulama tentang otoritas perempuan sebagai qadi (hakim) dalam peradilan Islam beserta perkembangan pandangan kontemporer!",
                options: [
                    "A. Perbedaan mazhab klasik (Hanafi vs Maliki) dan pendapat kontemporer yang lebih inklusif berdasarkan perubahan sosial",
                    "B. Semua ulama sepakat melarang perempuan menjadi hakim",
                    "C. Tidak ada perbedaan pendapat dalam masalah ini sejak dulu",
                    "D. Islam tidak mengatur tentang kehakiman",
                    "E. Perempuan boleh menjadi hakim untuk semua perkara tanpa pengecualian"
                ],
                correctAnswer: 0,
                explanation: "Mazhab Hanafi membolehkan dengan syarat, sementara kontemporer (Wahbah Zuhaili) berargumen bahwa kompetensi lebih penting daripada gender, selama memenuhi syarat ilmu dan adil."
            },
            {
                question: "Analisislah konsep 'Islam Nusantara' sebagai model akulturasi Islam dengan budaya lokal dan bagaimana relevansinya dengan dakwah di era multikultural!",
                options: [
                    "A. Dengan prinsip 'al-muhafazah ala al-qadim as-shalih wa al-akhdzu bi al-jadid al-aslah' (melestarikan tradisi baik dan mengambil inovasi yang lebih baik)",
                    "B. Islam harus menghapus semua budaya lokal tanpa terkecuali",
                    "C. Konsep ini adalah bentuk penyimpangan dari Islam murni",
                    "D. Tidak ada interaksi antara Islam dengan budaya lokal",
                    "E. Hanya budaya Arab yang bisa menjadi medium dakwah"
                ],
                correctAnswer: 0,
                explanation: "Contoh: wayang sebagai medium dakwah Sunan Kalijaga menunjukkan strategi akulturasi bijak yang menjaga aqidah tetapi menggunakan bentuk lokal, relevan untuk pendekatan dakwah di masyarakat multikultural."
            },
            {
                question: "Bagaimana prinsip 'tadarruj' (gradualisme) dalam penerapan syariah dapat menjadi solusi untuk menerapkan hukum Islam di masyarakat plural? Berikan contoh historis dan kontemporer!",
                options: [
                    "A. Seperti tahapan pelarangan khamr dalam Al-Qur'an atau penerapan perbankan syariah secara bertahap di Indonesia",
                    "B. Syariah harus diterapkan sekaligus secara revolusioner",
                    "C. Tadarruj adalah bentuk kompromi terhadap kemaksiatan",
                    "D. Tidak ada contoh tadarruj dalam sejarah Islam",
                    "E. Konsep ini hanya berlaku untuk ibadah bukan muamalah"
                ],
                correctAnswer: 0,
                explanation: "Contoh historis: larangan khamr melalui 3 tahap (QS 2:219, 4:43, 5:90). Contoh modern: transisi dari sistem konvensional ke syariah melalui dual banking system sebelum full-fledged Islamic banking."
            },
            {
                question: "Jelaskan perkembangan ilmu qira'at dari periode Nabi hingga kodifikasi resmi serta bagaimana implikasinya terhadap studi mushaf Al-Qur'an kontemporer!",
                options: [
                    "A. Dari keragaman bacaan yang diajarkan Rasulullah ke standarisasi qira'at mutawatirah dengan menjaga otentisitas",
                    "B. Qira'at adalah ciptaan ulama abad pertengahan tanpa dasar Nabi",
                    "C. Hanya satu qira'at yang benar lainnya batil",
                    "D. Perbedaan qira'at mengubah makna dasar Al-Qur'an",
                    "E. Ilmu qira'at sudah tidak relevan di era digital"
                ],
                correctAnswer: 0,
                explanation: "Kodifikasi oleh Ibn Mujahid (w. 324 H) memilih 7 qira'at mutawatirah dari Rasulullah. Perbedaan qira'at (seperti مالِك vs مَلِك dalam Fatihah) memperkaya makna tanpa mengubah teks dasar."
            },
            {
                question: "Analisislah konsep 'wilayah al-faqih' dalam politik Syiah dan bandingkan dengan konsep kekuasaan dalam Sunni! Apa implikasinya terhadap relasi Sunni-Syiah kontemporer?",
                options: [
                    "A. Perbedaan fundamental tentang otoritas politik setelah Nabi dan dampaknya pada konflik sektarian modern",
                    "B. Sunni dan Syiah memiliki konsep politik yang identik",
                    "C. Konsep wilayah al-faqih diadopsi oleh semua mazhab Sunni",
                    "D. Islam tidak memiliki sistem politik sama sekali",
                    "E. Perbedaan ini tidak signifikan dalam praktik kekinian"
                ],
                correctAnswer: 0,
                explanation: "Konsep velayat-e faqih (Khomeini) menempatkan ulama sebagai wali absolut, sementara Sunni (al-Mawardi) membatasi wewenang ulama dalam fatwa dan mengakui otoritas politik yang sah meski tidak ideal."
            },
            {
                question: "Bagaimana metodologi 'living fiqh' dapat menjembatani antara teks syariah dengan realitas masyarakat modern yang kompleks? Berikan contoh aplikasi!",
                options: [
                    "A. Dengan pendekatan kontekstual seperti fatwa tentang transaksi digital yang berpegang pada prinsip maslahah mursalah",
                    "B. Dengan selalu berpegang pada pendapat mazhab klasik tanpa adaptasi",
                    "C. Living fiqh berarti mengubah syariat sesuai keinginan masyarakat",
                    "D. Konsep ini bertentangan dengan ushul fiqh",
                    "E. Tidak ada contoh keberhasilan penerapan metodologi ini"
                ],
                correctAnswer: 0,
                explanation: "Contoh: fatwa MUI tentang akad salam paralel untuk produk fintech syariah dengan tetap menjaga prinsip menghindari gharar (ketidakjelasan) dan riba, meski bentuk transaksinya baru."
            },
            {
                question: "Jelaskan kontroversi historisitas hadis-hadis tentang akhir zaman (fitan wa malahim) dan bagaimana menyikapinya di era hoaks dan disinformasi!",
                options: [
                    "A. Dengan kritik sanad-matn dan pendekatan ma'nawi bukan harfiah terhadap hadis-hadis apokaliptik",
                    "B. Menerima semua hadis akhir zaman secara literal tanpa filter",
                    "C. Menolak semua hadis tentang akhir zaman sebagai palsu",
                    "D. Hadis-hadis ini tidak ada dalam kitab shahih",
                    "E. Tidak perlu dikritik karena sudah menjadi keyakinan umum"
                ],
                correctAnswer: 0,
                explanation: "Ulama seperti Ibn Khaldun mengkritik hadis-hadis tentang Dajjal dengan analisis historis, sementara kontemporer menekankan pesan moral tentang ujian iman daripada ramalan temporal."
            },
            {
                question: "Analisislah konsep 'dar al-islam' vs 'dar al-harb' dalam fiqih klasik dan transformasinya dalam wacana kontemporer tentang kewarganegaraan dan hubungan internasional!",
                options: [
                    "A. Dari dikotomi teritorial ke konsep hubungan damai berdasarkan Piagam PBB dengan tetap menjaga identitas muslim",
                    "B. Konsep klasik masih berlaku mutlak tanpa perubahan",
                    "C. Tidak ada konsep negara dalam Islam sama sekali",
                    "D. Semua negara non-muslim adalah dar al-harb yang harus diperangi",
                    "E. Transformasi konsep ini adalah bentuk kompromi kepada Barat"
                ],
                correctAnswer: 0,
                explanation: "Ulama kontemporer (Qaradawi) mengusung konsep 'dar ad-da'wah' atau 'dar al-'ahd' untuk hubungan damai, sementara tetap menjaga hak minoritas muslim (QS 49:13) dan kewajiban dakwah damai (QS 16:125)."
            },
            {
                question: "Bagaimana epistemologi Islam mengintegrasikan wahyu (naql) dan akal ('aql) dalam membangun paradigma keilmuan kontemporer?",
                options: [
                    "A. Dengan model integrasi-interkoneksi (Amin Abdullah) yang mengharmonikan sumber ilahi dan metodologi ilmiah",
                    "B. Hanya wahyu yang valid sebagai sumber ilmu",
                    "C. Akal manusia cukup tanpa perlu wahyu",
                    "D. Tidak mungkin ada integrasi antara dua sumber pengetahuan",
                    "E. Islam menolak semua bentuk ilmu rasional"
                ],
                correctAnswer: 0,
                explanation: "Contoh: Ibnu Sina mengintegrasikan observasi medis dengan konsep jiwa dalam Al-Qur'an, sementara kontemporer mengembangkan sains Islami yang etis dengan dasar tauhid tetapi menggunakan metode empiris."
            },
            {
                question: "Jelaskan perkembangan fiqih perempuan dari periode klasik hingga wacana kesetaraan gender kontemporer beserta tantangan penerapannya!",
                options: [
                    "A. Dari fiqih berbasis perbedaan biologis ke pendekatan yang mempertimbangkan keadilan sosial dengan tetap dalam koridor syariah",
                    "B. Fiqih klasik sudah sempurna dalam masalah perempuan tidak perlu dikembangkan",
                    "C. Semua tuntutan feminis harus diterima tanpa filter syariah",
                    "D. Islam tidak memiliki konsep tentang hak perempuan",
                    "E. Isu gender adalah konspirasi Barat untuk menghancurkan Islam"
                ],
                correctAnswer: 0,
                explanation: "Contoh perkembangan: reinterpretasi hadis tentang kepemimpinan perempuan dengan memisahkan antara larangan spesifik (Qisrah Persia) dan prinsip umum kompetensi (QS 9:71), serta fiqih baru tentang perempuan sebagai hakim dan kepala negara."
            },
            {
                question: "Analisislah konsep 'ibadah ghairu mahdhah' dalam konteks spiritualitas Islam kontemporer dan bagaimana mengembangkan pendekatan hidup yang bernilai ibadah!",
                options: [
                    "A. Dengan memperluas makna ibadah mencakup seluruh aktivitas kehidupan selama memenuhi niat dan syariat",
                    "B. Ibadah hanya terbatas pada ritual formal seperti shalat dan puasa",
                    "C. Semua aktivitas duniawi adalah ibadah tanpa perlu syarat",
                    "D. Konsep ini bertentangan dengan pemurnian tauhid",
                    "E. Tidak mungkin mengintegrasikan spiritualitas dengan kehidupan modern"
                ],
                correctAnswer: 0,
                explanation: "Konsep 'amal saleh' (QS 103:3) mencakup kerja profesional yang ikhlas, aktivitas sosial, bahkan rekreasi halal selama berniat baik dan sesuai syariah, menjadikan seluruh hidup bernilai ibadah."
            },
            {
                question: "Bagaimana metodologi 'fiqh al-waqi' (pemahaman realitas) dapat membantu ulama dalam mengeluarkan fatwa yang relevan dengan perubahan sosial? Berikan contoh!",
                options: [
                    "A. Dengan analisis mendalam tentang kondisi aktual sebelum menentukan hukum seperti fatwa tentang bayi tabung dan donor organ",
                    "B. Dengan mengabaikan realitas dan hanya berpegang pada teks klasik",
                    "C. Fiqh al-waqi berarti mengikuti arus perubahan tanpa filter syariah",
                    "D. Ulama tidak perlu memahami konteks kekinian",
                    "E. Contoh penerapan metodologi ini selalu gagal"
                ],
                correctAnswer: 0,
                explanation: "Fatwa tentang operasi ganti kelamin: mempertimbangkan kondisi interseks (khuntha) sebagai darurat syar'iyyah setelah diagnosis medis ketat, menunjukkan integrasi fiqih dengan realitas medis kontemporer."
            },
            {
                question: "Jelaskan perdebatan tentang otentisitas dan kanonisasi mushaf Utsmani serta implikasinya terhadap kesatuan umat Islam!",
                options: [
                    "A. Proses kodifikasi yang melibatkan sahabat utama dengan menjaga variasi qira'at yang sahih",
                    "B. Mushaf Utsmani adalah satu-satunya versi yang pernah ada tanpa variasi",
                    "C. Ada banyak versi Al-Qur'an yang saling bertentangan",
                    "D. Proses kanonisasi merusak keaslian wahyu",
                    "E. Perdebatan ini tidak ada dalam sejarah Islam"
                ],
                correctAnswer: 0,
                explanation: "Standarisasi Utsmani (25 H) menyatukan umat pada satu rasam dengan menghimpun qira'at mutawatirah, sekaligus menghindari perpecahan seperti di kalangan Ahli Kitab dengan kitab yang berbeda-beda."
            },
            {
                question: "Analisislah konsep 'dakwah kultural' sebagai strategi penyebaran Islam di era globalisasi dan berikan contoh praktisnya!",
                options: [
                    "A. Dengan pendekatan seni, sains, dan kemanusiaan universal seperti karya sastra Islami atau konten kreatif digital",
                    "B. Dakwah harus selalu konfrontatif terhadap budaya lokal",
                    "C. Hanya ceramah formal yang efektif untuk dakwah",
                    "D. Konsep ini bertentangan dengan metode dakwah Nabi",
                    "E. Tidak ada contoh keberhasilan dakwah kultural"
                ],
                correctAnswer: 0,
                explanation: "Contoh: film 'The Message' (1976) yang menyampaikan sirah nabawiyah secara apik, atau karya sastra Taufiq al-Hakim yang memadukan nilai Islam dengan ekspresi artistik, efektif menjangkau kalangan luas."
            },
            {
                question: "Bagaimana konsep 'maslahah mursalah' dapat dijadikan landasan untuk pengembangan ekonomi syariah di sektor-sektor baru seperti fintech dan startup digital?",
                options: [
                    "A. Dengan prinsip memenuhi kebutuhan baru yang tidak diatur teks eksplisit tetapi sejalan dengan maqashid syariah",
                    "B. Dengan menolak semua inovasi finansial karena tidak ada di zaman Nabi",
                    "C. Maslahah mursalah berarti mengabaikan semua batasan syariah",
                    "D. Konsep ini hanya berlaku untuk masalah ibadah",
                    "E. Tidak mungkin mengaplikasikan fiqih klasik untuk ekonomi digital"
                ],
                correctAnswer: 0,
                explanation: "Contoh: fatwa tentang crowdfunding syariah dengan akad mudharabah atau wakalah bil ujrah yang memenuhi prinsip transparansi, adil, dan menghindari gharar/riba, meski mekanismenya baru."
            },
            {
                question: "Jelaskan perkembangan ilmu falak dalam peradaban Islam dan kontribusinya terhadap penentuan waktu ibadah di era sains modern!",
                options: [
                    "A. Dari observasi visual ke perhitungan astronomi presisi tinggi dengan tetap mempertimbangkan kriteria syar'i",
                    "B. Ilmu falak adalah produk Barat tidak ada dalam Islam",
                    "C. Penentuan waktu ibadah harus selalu dengan rukyah langsung",
                    "D. Perhitungan hisab bertentangan dengan sunnah Nabi",
                    "E. Tidak ada perkembangan berarti dalam ilmu falak Islam"
                ],
                correctAnswer: 0,
                explanation: "Kontribusi ulama seperti Al-Battani (w. 929 M) dalam astronomi menjadi dasar perhitungan modern, sementara fatwa kontemporer menggabungkan hisab akurat dengan kriteria imkan rukyah untuk penentuan hilal."
            },
            {
                question: "Analisislah konsep 'ijtihad al-muwazanat' (penimbangan maslahat-mudharat) dalam menyelesaikan dilema bioetika seperti euthanasia dan aborsi!",
                options: [
                    "A. Dengan analisis komprehensif dampak individu-sosial dan alternatif syar'i seperti perawatan paliatif untuk kasus terminal",
                    "B. Dengan selalu memilih solusi yang paling ringan tanpa pertimbangan mendalam",
                    "C. Ijtihad semacam ini adalah bentuk kompromi terhadap nilai sekuler",
                    "D. Semua bentuk aborsi dan euthanasia mutlak haram tanpa pengecualian",
                    "E. Tidak perlu ijtihad untuk masalah kontemporer"
                ],
                correctAnswer: 0,
                explanation: "Fatwa tentang aborsi: boleh sebelum 120 hari hanya untuk darurat medis-psikososial berat setelah konsultasi multidisiplin, menunjukkan keseimbangan antara hak hidup janin dan keselamatan ibu."
            }
                ]
            }
        };

        // Motivational messages based on score
        const MOTIVATIONAL_MESSAGES = {
            '90-100': 'Sempurna! Anda sangat luar biasa dalam menguasai materi agama Islam. Pertahankan prestasi ini.',
            '80-89': 'Hasil yang sangat baik! Anda telah menunjukkan pemahaman yang mendalam tentang agama Islam.',
            '70-79': 'Kerja bagus! Anda memiliki pemahaman yang baik tentang materi agama Islam ini.',
            '60-69': 'Hasil yang cukup baik. Tingkatkan lagi pemahaman Anda untuk hasil yang lebih baik.',
            '50-59': 'Anda sudah memahami dasar-dasarnya. Terus berlatih untuk meningkatkan pemahaman agama.',
            '0-49': 'Jangan menyerah! Gunakan hasil ini sebagai motivasi untuk belajar agama lebih giat lagi.'
        };
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize particles.js for background
            particlesJS('particles-js', {
                "particles": {
                    "number": {
                        "value": 80,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": "#ffffff"
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.5,
                        "random": false,
                        "anim": {
                            "enable": false,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 3,
                        "random": true,
                        "anim": {
                            "enable": false,
                            "speed": 40,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#ffffff",
                        "opacity": 0.4,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 2,
                        "direction": "none",
                        "random": false,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 140,
                            "line_linked": {
                                "opacity": 1
                            }
                        },
                        "bubble": {
                            "distance": 400,
                            "size": 40,
                            "duration": 2,
                            "opacity": 8,
                            "speed": 3
                        },
                        "repulse": {
                            "distance": 200,
                            "duration": 0.4
                        },
                        "push": {
                            "particles_nb": 4
                        },
                        "remove": {
                            "particles_nb": 2
                        }
                    }
                },
                "retina_detect": true
            });
            
            // Initialize celebration particles (hidden by default)
            particlesJS('celebration-particles', {
                "particles": {
                    "number": {
                        "value": 150,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": ["#FF0000", "#00FF00", "#0000FF", "#FFFF00", "#FF00FF", "#00FFFF"]
                    },
                    "shape": {
                        "type": ["circle", "triangle", "star"],
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.7,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 5,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 4,
                            "size_min": 0.3,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": false
                    },
                    "move": {
                        "enable": true,
                        "speed": 6,
                        "direction": "none",
                        "random": true,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": false
                        },
                        "onclick": {
                            "enable": false
                        },
                        "resize": true
                    }
                },
                "retina_detect": true
            });
            
            // Load admin settings
            loadAdminSettings();
            
            // Set greeting message from admin settings
            document.getElementById('greeting-text').textContent = adminSettings.greetingMessage;
            document.getElementById('admin-message').textContent = adminSettings.adminMessage;
            
            // Event listeners for buttons with sound
            document.querySelectorAll('button').forEach(button => {
                button.addEventListener('click', function() {
                    // Play button sound if not disabled
                    if (!this.disabled) {
                        buttonSound.currentTime = 0;
                        buttonSound.play().catch(e => console.log("Button sound prevented:", e));
                    }
                });
            });
            
            // Event listeners
            document.getElementById('login-btn').addEventListener('click', handleLogin);
            document.getElementById('agree-terms').addEventListener('change', toggleContinueButton);
            document.getElementById('continue-btn').addEventListener('click', showParticipantForm);
            
            // Status radio buttons
            document.querySelectorAll('input[name="status"]').forEach(radio => {
                radio.addEventListener('change', toggleParticipantFields);
            });
            
            // School level radio buttons
            document.querySelectorAll('input[name="level"]').forEach(radio => {
                radio.addEventListener('change', showGradeSelection);
            });
            
            document.getElementById('save-participant-btn').addEventListener('click', validateAndStartExam);
            document.getElementById('finish-exam-btn').addEventListener('click', finishExam);
            document.getElementById('skip-question-btn').addEventListener('click', skipQuestion);
            document.getElementById('unanswered-btn').addEventListener('click', showUnansweredQuestions);
            document.getElementById('print-certificate-btn').addEventListener('click', printCertificate);
            document.getElementById('retake-exam-btn').addEventListener('click', retakeExam);
            
            // Floating buttons
            document.getElementById('whatsapp-btn').addEventListener('click', contactAdmin);
            document.getElementById('admin-panel-btn').addEventListener('click', showAdminPanelModal);
            
            // Modal close buttons
            document.getElementById('close-admin-panel-modal').addEventListener('click', hideAdminPanelModal);
            document.getElementById('close-edit-participant-modal').addEventListener('click', hideEditParticipantModal);
            
            // Modal submit buttons
            document.getElementById('submit-admin-panel-code').addEventListener('click', submitAdminPanelCode);
            
            // Check form validity when fields change
            document.getElementById('fullname').addEventListener('input', function() {
                // Convert input to uppercase automatically
                this.value = this.value.toUpperCase();
                validateField(this, 'fullname-error', /^[A-Za-z ]+$/, "Nama lengkap harus diisi dan hanya boleh mengandung huruf");
                checkParticipantFormValidity();
            });
            
            document.getElementById('school-name').addEventListener('input', function() {
                validateField(this, 'school-error', /.+/, "Nama sekolah harus diisi");
                checkParticipantFormValidity();
            });
            
            document.getElementById('student-id').addEventListener('input', function() {
                validateField(this, 'nis-error', /^[0-9]+$/, "NIS harus diisi dan hanya boleh mengandung angka");
                checkParticipantFormValidity();
            });
            
            document.querySelectorAll('input[name="purpose"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.getElementById('purpose-error').style.display = 'none';
                    document.getElementById('purpose-radio-group').classList.remove('radio-group-error');
                    checkParticipantFormValidity();
                });
            });
            
            document.querySelectorAll('input[name="level"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.getElementById('level-error').style.display = 'none';
                    document.getElementById('level-radio-group').classList.remove('radio-group-error');
                    checkParticipantFormValidity();
                });
            });
            
            document.querySelectorAll('input[name="grade"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.getElementById('grade-error').style.display = 'none';
                    checkParticipantFormValidity();
                });
            });
            
            document.querySelectorAll('input[name="subject"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.getElementById('subject-error').style.display = 'none';
                    document.getElementById('subject-radio-group').classList.remove('radio-group-error');
                    checkParticipantFormValidity();
                });
            });

            // Admin panel toggle switches
            document.querySelectorAll('.toggle-switch input').forEach(toggle => {
                toggle.addEventListener('change', function() {
                    const statusElement = document.getElementById(`${this.id}-status`);
                    statusElement.textContent = this.checked ? 'Aktif' : 'Nonaktif';
                });
            });

            // Admin panel buttons
            document.getElementById('save-codes-btn').addEventListener('click', saveCodes);
            document.getElementById('save-content-btn').addEventListener('click', saveContent);
            document.getElementById('save-settings-btn').addEventListener('click', saveSettings);
            
            // Participant management buttons
            document.getElementById('select-all-participants').addEventListener('click', toggleSelectAllParticipants);
            document.getElementById('edit-selected-participants').addEventListener('click', editSelectedParticipants);
            document.getElementById('delete-selected-participants').addEventListener('click', deleteSelectedParticipants);
            document.getElementById('validate-certificate-btn').addEventListener('click', validateCertificate);
            document.getElementById('export-csv-btn').addEventListener('click', exportToCSV);
            document.getElementById('export-json-btn').addEventListener('click', exportToJSON);
            document.getElementById('export-excel-btn').addEventListener('click', exportToExcel);
            
            // Search functionality
            document.getElementById('participant-search').addEventListener('input', searchParticipants);
            
            // Edit participant form
            document.getElementById('save-edit-participant-btn').addEventListener('click', saveEditedParticipant);
            document.querySelectorAll('input[name="edit-status"]').forEach(radio => {
                radio.addEventListener('change', toggleEditParticipantFields);
            });
            document.querySelectorAll('input[name="edit-level"]').forEach(radio => {
                radio.addEventListener('change', showEditGradeSelection);
            });
            
            // Auto uppercase for edit fullname field
            document.getElementById('edit-fullname').addEventListener('input', function() {
                this.value = this.value.toUpperCase();
            });
        });
        
        // Functions
        function loadAdminSettings() {
            // Load exam duration
            document.getElementById('exam-duration').value = adminSettings.examDuration;
            
            // Load greeting message
            document.getElementById('greeting-message-input').value = adminSettings.greetingMessage;
            
            // Load admin message
            document.getElementById('admin-message-input').value = adminSettings.adminMessage;
            
            // Load chairman name
            document.getElementById('chairman-name').value = adminSettings.chairmanName;
            
            // Load subject toggle
            document.getElementById('toggle-religion').checked = adminSettings.enabledSubjects["Agama Islam"];
            document.getElementById('religion-status').textContent = adminSettings.enabledSubjects["Agama Islam"] ? 'Aktif' : 'Nonaktif';
        }
        
        function saveParticipantsData() {
            localStorage.setItem('pergunuParticipantsData', JSON.stringify(participantsData));
        }
        
        function saveAdminSettings() {
            localStorage.setItem('pergunuAdminSettings', JSON.stringify(adminSettings));
        }
        
        function handleLogin() {
            const loginCode = document.getElementById('login-code').value;
            
            if (loginCode === adminSettings.loginCode) {
                // Play opening sound
                openingSound.play().catch(e => console.log("Opening sound prevented:", e));
                
                // Hide welcome screen with slide out animation
                document.getElementById('welcome-screen').classList.add('slide-out');
                
                // Show terms screen after animation completes
                setTimeout(() => {
                    document.getElementById('welcome-screen').style.display = 'none';
                    document.getElementById('terms-screen').style.display = 'block';
                    document.getElementById('terms-screen').classList.add('slide-in');
                    currentScreen = 'terms';
                }, 500);
            } else {
                alert('Kode login salah. Silakan coba lagi.');
            }
        }
        
        function toggleContinueButton() {
            const agreeCheckbox = document.getElementById('agree-terms');
            document.getElementById('continue-btn').disabled = !agreeCheckbox.checked;
        }
        
        function showParticipantForm() {
            // Hide terms screen with slide out animation
            document.getElementById('terms-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('terms-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
            }, 500);
        }
        
        function toggleParticipantFields() {
            // Only student status is available now
            document.getElementById('student-fields').style.display = 'block';
            checkParticipantFormValidity();
        }
        
        function showGradeSelection() {
            const level = document.querySelector('input[name="level"]:checked').value;
            const gradeOptions = document.getElementById('grade-options');
            
            // Clear previous options
            gradeOptions.innerHTML = '';
            
            // Add options based on level
            if (level === 'SD') {
                addGradeOption('grade-4', 'Kelas <span class="roman">IV</span>', '4');
                addGradeOption('grade-5', 'Kelas <span class="roman">V</span>', '5');
                addGradeOption('grade-6', 'Kelas <span class="roman">VI</span>', '6');
            } else if (level === 'SMP') {
                addGradeOption('grade-7', 'Kelas <span class="roman">VII</span>', '7');
                addGradeOption('grade-8', 'Kelas <span class="roman">VIII</span>', '8');
                addGradeOption('grade-9', 'Kelas <span class="roman">IX</span>', '9');
            } else if (level === 'SMA/SMK') {
                addGradeOption('grade-10', 'Kelas <span class="roman">X</span>', '10');
                addGradeOption('grade-11', 'Kelas <span class="roman">XI</span>', '11');
                addGradeOption('grade-12', 'Kelas <span class="roman">XII</span>', '12');
            }
            
            document.getElementById('grade-selection').style.display = 'block';
            checkParticipantFormValidity();
        }
        
        function addGradeOption(id, label, value) {
            const container = document.getElementById('grade-options');
            
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.id = id;
            radio.name = 'grade';
            radio.value = value;
            radio.className = 'radio-option';
            
            const radioLabel = document.createElement('label');
            radioLabel.htmlFor = id;
            radioLabel.className = 'radio-label';
            radioLabel.innerHTML = label;
            
            // Add event listener for grade selection
            radio.addEventListener('change', function() {
                document.getElementById('subject-selection').style.display = 'block';
                checkParticipantFormValidity();
            });
            
            container.appendChild(radio);
            container.appendChild(radioLabel);
        }
        
        function validateField(field, errorId, pattern, errorMessage) {
            const errorElement = document.getElementById(errorId);
            
            if (!field.value.trim() || !pattern.test(field.value.trim())) {
                field.classList.add('input-error');
                errorElement.textContent = errorMessage;
                errorElement.style.display = 'block';
                return false;
            } else {
                field.classList.remove('input-error');
                errorElement.style.display = 'none';
                return true;
            }
        }
        
        function checkParticipantFormValidity() {
            let isValid = true;
            
            // Validate fullname
            const fullname = document.getElementById('fullname');
            if (!validateField(fullname, 'fullname-error', /^[A-Za-z ]+$/, "Nama lengkap harus diisi dan hanya boleh mengandung huruf")) {
                isValid = false;
            }
            
            // Validate school name
            const schoolName = document.getElementById('school-name');
            if (!validateField(schoolName, 'school-error', /.+/, "Nama sekolah harus diisi")) {
                isValid = false;
            }
            
            // Validate student ID
            const studentId = document.getElementById('student-id');
            if (!validateField(studentId, 'nis-error', /^[0-9]+$/, "NIS harus diisi dan hanya boleh mengandung angka")) {
                isValid = false;
            }
            
            // Validate purpose
            if (!document.querySelector('input[name="purpose"]:checked')) {
                document.getElementById('purpose-error').style.display = 'block';
                document.getElementById('purpose-radio-group').classList.add('radio-group-error');
                isValid = false;
            }
            
            // Validate level
            if (!document.querySelector('input[name="level"]:checked')) {
                document.getElementById('level-error').style.display = 'block';
                document.getElementById('level-radio-group').classList.add('radio-group-error');
                isValid = false;
            }
            
            // Validate grade
            if (!document.querySelector('input[name="grade"]:checked')) {
                document.getElementById('grade-error').style.display = 'block';
                isValid = false;
            }
            
            // Validate subject
            if (!document.querySelector('input[name="subject"]:checked')) {
                document.getElementById('subject-error').style.display = 'block';
                document.getElementById('subject-radio-group').classList.add('radio-group-error');
                isValid = false;
            }
            
            document.getElementById('save-participant-btn').disabled = !isValid;
            return isValid;
        }
        
        function validateAndStartExam() {
            if (checkParticipantFormValidity()) {
                startExam();
            } else {
                // Show warning notification
                const warning = document.getElementById('form-warning');
                warning.style.display = 'block';
                
                // Hide after 5 seconds
                setTimeout(() => {
                    warning.style.display = 'none';
                }, 5000);
                
                // Scroll to first error
                const firstError = document.querySelector('.input-error, .radio-group-error');
                if (firstError) {
                    firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
        }
        
        function startExam() {
            // Collect participant data
            participantData = {
                fullname: document.getElementById('fullname').value.trim(),
                status: 'pelajar',
                purpose: document.querySelector('input[name="purpose"]:checked')?.value,
                level: document.querySelector('input[name="level"]:checked')?.value,
                grade: document.querySelector('input[name="grade"]:checked')?.value,
                subject: document.querySelector('input[name="subject"]:checked')?.value,
                school: document.getElementById('school-name')?.value.trim(),
                studentId: document.getElementById('student-id')?.value.trim(),
                examDate: new Date().toISOString(),
                deviceInfo: getDeviceInfo()
            };
            
            // Load questions based on level - hanya Agama Islam
            if (participantData.level && QUESTION_BANK[participantData.level]['Agama Islam']) {
                // Acak urutan soal
                const originalQuestions = QUESTION_BANK[participantData.level]['Agama Islam'];
                questions = shuffleArray(originalQuestions);
                
                // Simpan urutan soal yang diacak
                questionOrder = questions.map((_, index) => index);
            } else {
                // Default questions (SD)
                const originalQuestions = QUESTION_BANK['SD']['Agama Islam'];
                questions = shuffleArray(originalQuestions);
                questionOrder = questions.map((_, index) => index);
            }
            
            // Initialize exam data
            examData = {
                startTime: new Date(),
                answered: 0,
                correct: 0,
                wrong: 0,
                unanswered: questions.length,
                answers: Array(questions.length).fill(null)
            };
            
            // Set exam time from admin settings
            examTimeLeft = adminSettings.examDuration * 60;
            
            // Hide participant form with slide out animation
            document.getElementById('participant-form').classList.add('slide-out');
            
            // Show exam screen after animation completes
            setTimeout(() => {
                document.getElementById('participant-form').style.display = 'none';
                document.getElementById('exam-screen').style.display = 'block';
                document.getElementById('exam-screen').classList.add('slide-in');
                currentScreen = 'exam';
                
                // Start timer
                startTimer();
                
                // Load first question
                loadQuestion(0);
            }, 500);
        }
        
        // Fungsi untuk mendapatkan informasi perangkat
        function getDeviceInfo() {
            const userAgent = navigator.userAgent;
            let deviceType = 'Desktop';
            
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)) {
                deviceType = 'Mobile';
            } else if (/Tablet|iPad/i.test(userAgent)) {
                deviceType = 'Tablet';
            }
            
            return {
                deviceType: deviceType,
                userAgent: userAgent,
                screenWidth: window.screen.width,
                screenHeight: window.screen.height,
                platform: navigator.platform,
                language: navigator.language
            };
        }
        
        // Fungsi untuk mengacak array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        function startTimer() {
            // Update timer display immediately
            updateTimerDisplay();
            
            // Start timer interval
            examTimer = setInterval(function() {
                examTimeLeft--;
                updateTimerDisplay();
                
                // Check if time is up
                if (examTimeLeft <= 0) {
                    clearInterval(examTimer);
                    finishExam();
                }
                
                // Show warning when 10 minutes left
                if (examTimeLeft === 600) { // 10 minutes = 600 seconds
                    showTimeWarning();
                }
                
                // Hide warning when 1 minute left
                if (examTimeLeft === 60) {
                    hideTimeWarning();
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const hours = Math.floor(examTimeLeft / 3600);
            const minutes = Math.floor((examTimeLeft % 3600) / 60);
            const seconds = examTimeLeft % 60;
            
            const timerElement = document.getElementById('exam-timer');
            timerElement.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Change style based on remaining time
            if (examTimeLeft <= 600) { // 10 minutes or less
                timerElement.classList.add('timer-warning');
                
                if (examTimeLeft <= 60) { // 1 minute or less
                    timerElement.classList.remove('timer-warning');
                    timerElement.classList.add('timer-danger');
                }
            } else {
                timerElement.classList.remove('timer-warning', 'timer-danger');
            }
        }
        
        function showTimeWarning() {
            const notification = document.getElementById('time-warning');
            notification.style.display = 'block';
            
            // Auto hide after 9 minutes (540 seconds)
            setTimeout(() => {
                notification.style.display = 'none';
            }, 540 * 1000);
        }
        
        function hideTimeWarning() {
            document.getElementById('time-warning').style.display = 'none';
        }
        
        function loadQuestion(index) {
            if (index < 0 || index >= questions.length) return;
            
            currentQuestionIndex = index;
            const question = questions[index];
            
            // Update question text (tampilkan nomor urut asli dari questionOrder)
            const originalQuestionNumber = questionOrder[index] + 1;
            document.getElementById('question-text').textContent = `Soal ${originalQuestionNumber}: ${question.question}`;
            
            // Clear previous image if exists
            const imageContainer = document.getElementById('question-image-container');
            imageContainer.innerHTML = '';
            
            // Add image if exists
            if (question.image) {
                const img = document.createElement('img');
                img.src = question.image;
                img.style.maxWidth = '100%';
                img.style.maxHeight = '200px';
                img.style.marginBottom = '15px';
                img.style.display = 'block';
                imageContainer.appendChild(img);
            }
            
            // Clear previous options
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            // Add new options
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                
                // Check if this question was already answered
                if (examData.answers[index] !== null) {
                    if (examData.answers[index] === i) {
                        if (i === question.correctAnswer) {
                            optionElement.classList.add('correct');
                        } else {
                            optionElement.classList.add('incorrect');
                        }
                    } else if (i === question.correctAnswer) {
                        optionElement.classList.add('correct');
                    }
                    
                    // Show explanation if answered
                    document.getElementById('explanation-text').style.display = 'block';
                    document.getElementById('explanation-text').innerHTML = `<strong>Penjelasan:</strong> ${question.explanation}`;
                } else {
                    // Add click event for unanswered questions
                    optionElement.addEventListener('click', function() {
                        selectAnswer(index, i);
                    });
                }
                
                optionsContainer.appendChild(optionElement);
            });
            
            // Hide explanation if question not answered
            if (examData.answers[index] === null) {
                document.getElementById('explanation-text').style.display = 'none';
            }
        }
        
        function selectAnswer(questionIndex, answerIndex) {
            const question = questions[questionIndex];
            
            // Record answer
            examData.answers[questionIndex] = answerIndex;
            
            // Update counters
            examData.answered++;
            examData.unanswered--;
            
            if (answerIndex === question.correctAnswer) {
                examData.correct++;
                // Play correct answer sound
                correctAnswerSound.currentTime = 0;
                correctAnswerSound.play().catch(e => console.log("Correct answer sound prevented:", e));
            } else {
                examData.wrong++;
                // Play wrong answer sound
                wrongAnswerSound.currentTime = 0;
                wrongAnswerSound.play().catch(e => console.log("Wrong answer sound prevented:", e));
            }
            
            // Reload question to show result
            loadQuestion(questionIndex);
            
            // Auto move to next question after delay if not last question
            if (questionIndex < questions.length - 1) {
                setTimeout(() => {
                    loadQuestion(questionIndex + 1);
                }, 2000);
            }
        }
        
        function skipQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                loadQuestion(currentQuestionIndex + 1);
            }
        }
        
        function showUnansweredQuestions() {
            // Find first unanswered question
            const unansweredIndex = examData.answers.findIndex(answer => answer === null);
            
            if (unansweredIndex !== -1) {
                loadQuestion(unansweredIndex);
            } else {
                alert('Semua soal sudah dijawab.');
            }
        }
        
        async function finishExam() {
            clearInterval(examTimer);
            
            // Calculate unanswered questions
            examData.unanswered = examData.answers.filter(answer => answer === null).length;
            
            // Generate certificate code
            const certificateCode = generateUniqueCode();
            
            // Calculate score
            const score = Math.round((examData.correct / questions.length) * 100);
            
            // Add participant to data store
            const participantRecord = {
                ...participantData,
                score: score,
                examDate: new Date().toISOString(),
                certificateCode: certificateCode,
                answers: examData.answers,
                questions: questions.map((q, i) => ({
                    question: q.question,
                    selectedAnswer: examData.answers[i],
                    correctAnswer: q.correctAnswer,
                    explanation: q.explanation
                })),
                deviceInfo: participantData.deviceInfo,
                totalQuestions: questions.length,
                correctAnswers: examData.correct,
                wrongAnswers: examData.wrong,
                unanswered: examData.unanswered
            };
            
            // Simpan ke Google Sheets dan localStorage
            try {
                // First try to save to Google Sheets
                const saveResult = await saveToGoogleSheets(participantRecord);
                
                if (saveResult.success) {
                    // If successful, save to localStorage as well
                    participantsData.push(participantRecord);
                    saveParticipantsData();
                    
                    // Show results
                    showResults(participantRecord, certificateCode);
                } else {
                    // If Google Sheets fails, fallback to localStorage
                    console.error('Failed to save to Google Sheets:', saveResult.message);
                    saveToLocalStorage(participantRecord);
                    showResults(participantRecord, certificateCode);
                }
            } catch (error) {
                console.error('Error saving to Google Sheets:', error);
                // Fallback to localStorage
                saveToLocalStorage(participantRecord);
                showResults(participantRecord, certificateCode);
            }
        }
        
        function showResults(participantRecord, certificateCode) {
            // Hide exam screen with slide out animation
            document.getElementById('exam-screen').classList.add('slide-out');
            
            // Show results screen after animation completes
            setTimeout(() => {
                document.getElementById('exam-screen').style.display = 'none';
                document.getElementById('results-screen').style.display = 'block';
                document.getElementById('results-screen').classList.add('slide-in');
                currentScreen = 'results';
                
                // Display results
                displayResults(participantRecord);
                
                // Generate certificate
                generateCertificate(certificateCode);
                
                // Show celebration particles
                showCelebration();
                
                // Play certificate sound (applause)
                certificateSound.currentTime = 0;
                certificateSound.play().catch(e => console.log("Certificate sound prevented:", e));
            }, 500);
        }

        // Fungsi untuk mengirim data ke Google Sheets
        async function saveToGoogleSheets(participantData) {
            const dataToSend = {
                action: 'saveParticipant',
                data: {
                    fullname: participantData.fullname,
                    status: participantData.status,
                    purpose: participantData.purpose,
                    level: participantData.level,
                    grade: participantData.grade,
                    subject: participantData.subject,
                    school: participantData.school,
                    studentId: participantData.studentId,
                    score: participantData.score,
                    certificateCode: participantData.certificateCode,
                    examDate: participantData.examDate,
                    deviceType: participantData.deviceInfo?.deviceType || 'Unknown',
                    totalQuestions: participantData.totalQuestions,
                    correctAnswers: participantData.correctAnswers,
                    wrongAnswers: participantData.wrongAnswers,
                    unanswered: participantData.unanswered
                }
            };

            try {
                const response = await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(dataToSend)
                });

                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }

                const result = await response.json();
                return result;
            } catch (error) {
                console.error('Error saving to Google Sheets:', error);
                throw error;
            }
        }

        function saveToLocalStorage(participantData) {
            const participantRecord = {
                ...participantData,
                totalQuestions: questions.length,
                correctAnswers: examData.correct,
                wrongAnswers: examData.wrong,
                unanswered: examData.unanswered
            };
            
            participantsData.push(participantRecord);
            saveParticipantsData();
        }
            
        function displayResults(participantRecord) {
            document.getElementById('result-name').textContent = participantRecord.fullname;
            document.getElementById('result-status').textContent = 'Pelajar';
            document.getElementById('result-level').textContent = participantRecord.level || '-';
            document.getElementById('result-grade').textContent = participantRecord.grade ? `Kelas ${participantRecord.grade}` : '-';
            document.getElementById('result-subject').textContent = participantRecord.subject || '-';
            document.getElementById('total-questions').textContent = participantRecord.totalQuestions;
            document.getElementById('correct-answers').textContent = participantRecord.correctAnswers;
            document.getElementById('wrong-answers').textContent = participantRecord.wrongAnswers;
            document.getElementById('unanswered-questions').textContent = participantRecord.unanswered;
            
            // Calculate score (percentage)
            const score = Math.round((participantRecord.correctAnswers / participantRecord.totalQuestions) * 100);
            document.getElementById('exam-score').textContent = `${score}%`;
        }
        
        function generateCertificate(certificateCode) {
            const certificateContainer = document.getElementById('certificate-container');
            certificateContainer.innerHTML = '';
            
            // Calculate score
            const score = Math.round((examData.correct / questions.length) * 100);
            
            // Get current date
            const now = new Date();
            const dateString = now.toLocaleDateString('id-ID', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            }).replace(/\//g, '');
            
            // Get motivational message based on score
            let motivation = '';
            for (const range in MOTIVATIONAL_MESSAGES) {
                const [min, max] = range.split('-').map(Number);
                if (score >= min && score <= max) {
                    motivation = MOTIVATIONAL_MESSAGES[range];
                    break;
                }
            }
            
            // Format NIS and school name for certificate code
            const formattedNIS = participantData.studentId ? participantData.studentId : '0000';
            const formattedSchool = participantData.school ? participantData.school.replace(/\s+/g, '-').toUpperCase().substring(0, 10) : 'SEKOLAH';
            
            // Create certificate HTML
            const certificate = document.createElement('div');
            certificate.className = 'certificate';
            
            certificate.innerHTML = `
                <div class="certificate-content">
                    <h1 class="certificate-title">SERTIFIKAT PRESTASI</h1>
                    <p class="certificate-code">${formatName(participantData.fullname)}/${formattedNIS}/${formattedSchool}/${participantData.level || 'UMUM'}/${participantData.subject || 'UMUM'}/${dateString}/${certificateCode}/PERGUNU-STB</p>
                    <p>Diberikan Kepada</p>
                    <h2 class="certificate-recipient">${formatName(participantData.fullname)}</h2>
                    <p class="certificate-body">
                        Atas Partisipasi & Pencapaian Luar Biasa Dalam<br>
                        Ujian Agama Islam Pergunu Situbondo
                    </p>
                    <p class="certificate-body">
                        Sebagai penghargaan atas dedikasi dalam memahami materi agama Islam dan meningkatkan keimanan, 
                        sertifikat ini diberikan sebagai motivasi untuk terus berkembang dalam ilmu agama.
                    </p>
                    <div class="certificate-score">Nilai: ${score}%</div>
                    <p class="certificate-motivation">${motivation}</p>
                    <div class="certificate-footer">
                        <p>Ditetapkan di: Situbondo, ${now.toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })}</p>
                        <div class="certificate-signature">
                            <p>Ketua Pergunu Situbondo</p>
                            <p><strong>${adminSettings.chairmanName}</strong></p>
                        </div>
                        <img src="https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/BARCODE.png" alt="Barcode" class="certificate-barcode">
                    </div>
                </div>
            `;
            
            certificateContainer.appendChild(certificate);
            certificateContainer.style.display = 'block';
        }
        
        function showCelebration() {
            // Show celebration particles
            document.getElementById('celebration-particles').style.display = 'block';
            
            // Hide after 5 seconds
            setTimeout(() => {
                document.getElementById('celebration-particles').style.display = 'none';
            }, 5000);
        }
        
        function formatName(name) {
            return name.split(' ').map(word => 
                word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()
            ).join(' ');
        }
        
        function generateUniqueCode() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = '';
            
            for (let i = 0; i < 4; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            result += '-';
            
            for (let i = 0; i < 4; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            return result;
        }
        
        function printCertificate() {
            // Hide floating buttons
            document.querySelector('.floating-buttons').style.display = 'none';
            
            // Hide other elements in results screen
            document.querySelector('.results-summary').style.display = 'none';
            document.querySelector('.result-actions').style.display = 'none';
            
            // Print the certificate
            window.print();
            
            // Show elements again after printing
            setTimeout(() => {
                document.querySelector('.floating-buttons').style.display = 'flex';
                document.querySelector('.results-summary').style.display = 'block';
                document.querySelector('.result-actions').style.display = 'block';
            }, 500);
        }
        
        function retakeExam() {
            // Hide results screen with slide out animation
            document.getElementById('results-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('results-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
                
                // Reset timer
                examTimeLeft = adminSettings.examDuration * 60;
            }, 500);
        }
        
        function contactAdmin() {
            const message = encodeURIComponent("Assalamualaikum mas admin, saya mau tanya sesuatu nih...");
            window.open(`https://wa.me/6285647709114?text=${message}`, '_blank');
        }
        
        function showAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'flex';
        }
        
        function hideAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'none';
        }
        
        function submitAdminPanelCode() {
            const code = document.getElementById('admin-panel-code').value;
            
            if (code === adminSettings.adminCode) {
                // Show admin panel content
                document.getElementById('admin-panel-content').style.display = 'block';
                // Load participants data
                loadParticipantsData();
            } else {
                alert('Kode admin salah. Silakan coba lagi.');
            }
        }

        function loadParticipantsData() {
            const tableBody = document.getElementById('participants-table-body');
            tableBody.innerHTML = '';
            
            if (participantsData.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="10" style="text-align: center;">Belum ada data peserta</td></tr>';
                return;
            }
            
            // Sort by date (newest first)
            const sortedData = [...participantsData].sort((a, b) => 
                new Date(b.examDate) - new Date(a.examDate));
            
            sortedData.forEach((participant, index) => {
                const date = new Date(participant.examDate);
                const dateStr = date.toLocaleDateString('id-ID', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const row = document.createElement('tr');
                row.dataset.index = index;
                row.innerHTML = `
                    <td>
                        <input type="checkbox" class="select-checkbox" data-index="${index}" onchange="toggleParticipantSelection(${index})">
                    </td>
                    <td>${dateStr}</td>
                    <td>${participant.fullname}</td>
                    <td>${participant.studentId || '-'}</td>
                    <td>Pelajar</td>
                    <td>${participant.level || '-'}</td>
                    <td>${participant.grade ? `Kelas ${participant.grade}` : '-'}</td>
                    <td>${participant.subject || '-'}</td>
                    <td>${participant.score}%</td>
                    <td>${participant.certificateCode || '-'}</td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Reset selected participants
            selectedParticipants = [];
            updateParticipantActionButtons();
        }
        
        function toggleParticipantSelection(index) {
            const checkbox = document.querySelector(`.select-checkbox[data-index="${index}"]`);
            if (checkbox.checked) {
                if (!selectedParticipants.includes(index)) {
                    selectedParticipants.push(index);
                }
            } else {
                selectedParticipants = selectedParticipants.filter(i => i !== index);
            }
            
            // Update select all checkbox
            updateSelectAllCheckbox();
            
            // Update action buttons
            updateParticipantActionButtons();
        }
        
        function toggleSelectAllParticipants() {
            const selectAllCheckbox = document.getElementById('select-all-checkbox');
            const checkboxes = document.querySelectorAll('.select-checkbox');
            
            selectAllCheckbox.checked = !selectAllCheckbox.checked;
            const isChecked = selectAllCheckbox.checked;
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = isChecked;
                const index = parseInt(checkbox.dataset.index);
                
                if (isChecked) {
                    if (!selectedParticipants.includes(index)) {
                        selectedParticipants.push(index);
                    }
                } else {
                    selectedParticipants = selectedParticipants.filter(i => i !== index);
                }
            });
            
            // Update action buttons
            updateParticipantActionButtons();
        }
        
        function updateSelectAllCheckbox() {
            const checkboxes = document.querySelectorAll('.select-checkbox');
            const selectAllCheckbox = document.getElementById('select-all-checkbox');
            
            if (checkboxes.length === 0) {
                selectAllCheckbox.checked = false;
                return;
            }
            
            const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
            selectAllCheckbox.checked = allChecked;
        }
        
        function updateParticipantActionButtons() {
            const hasSelection = selectedParticipants.length > 0;
            
            document.getElementById('edit-selected-participants').disabled = !hasSelection;
            document.getElementById('delete-selected-participants').disabled = !hasSelection;
        }
        
        function editSelectedParticipants() {
            if (selectedParticipants.length === 0) return;
            
            // For now, we'll just edit the first selected participant
            // In a real app, you might want to implement bulk editing
            const index = selectedParticipants[0];
            editParticipant(index);
        }
        
        function editParticipant(index) {
            const participant = participantsData[index];
            
            // Fill the edit form
            document.getElementById('edit-fullname').value = participant.fullname;
            
            // Set status to student (only option now)
            document.getElementById('edit-status-student').checked = true;
            document.getElementById('edit-student-fields').style.display = 'block';
            
            // Fill student fields
            document.getElementById('edit-school-name').value = participant.school || '';
            document.getElementById('edit-student-id').value = participant.studentId || '';
            
            // Set purpose
            if (participant.purpose) {
                const purposeRadio = document.querySelector(`input[name="edit-purpose"][value="${participant.purpose}"]`);
                if (purposeRadio) purposeRadio.checked = true;
            }
            
            // Set level
            if (participant.level) {
                const levelRadio = document.querySelector(`input[name="edit-level"][value="${participant.level}"]`);
                if (levelRadio) levelRadio.checked = true;
                
                // Show grade selection
                showEditGradeSelection();
                
                // Set grade
                if (participant.grade) {
                    const gradeRadio = document.querySelector(`input[name="edit-grade"][value="${participant.grade}"]`);
                    if (gradeRadio) gradeRadio.checked = true;
                }
            }
            
            // Set subject
            if (participant.subject) {
                document.getElementById('edit-subject').value = participant.subject;
            }
            
            // Set score
            document.getElementById('edit-score').value = participant.score;
            
            // Set certificate code
            document.getElementById('edit-certificate-code').value = participant.certificateCode || '-';
            
            // Store index for saving
            document.getElementById('edit-participant-index').value = index;
            
            // Show the modal
            document.getElementById('edit-participant-modal').style.display = 'flex';
        }
        
        function toggleEditParticipantFields() {
            // Only student status is available now
            document.getElementById('edit-student-fields').style.display = 'block';
        }
        
        function showEditGradeSelection() {
            const level = document.querySelector('input[name="edit-level"]:checked')?.value;
            const gradeOptions = document.getElementById('edit-grade-options');
            
            // Clear previous options
            gradeOptions.innerHTML = '';
            
            if (!level) return;
            
            // Add options based on level
            if (level === 'SD') {
                addEditGradeOption('edit-grade-4', 'Kelas <span class="roman">IV</span>', '4');
                addEditGradeOption('edit-grade-5', 'Kelas <span class="roman">V</span>', '5');
                addEditGradeOption('edit-grade-6', 'Kelas <span class="roman">VI</span>', '6');
            } else if (level === 'SMP') {
                addEditGradeOption('edit-grade-7', 'Kelas <span class="roman">VII</span>', '7');
                addEditGradeOption('edit-grade-8', 'Kelas <span class="roman">VIII</span>', '8');
                addEditGradeOption('edit-grade-9', 'Kelas <span class="roman">IX</span>', '9');
            } else if (level === 'SMA/SMK') {
                addEditGradeOption('edit-grade-10', 'Kelas <span class="roman">X</span>', '10');
                addEditGradeOption('edit-grade-11', 'Kelas <span class="roman">XI</span>', '11');
                addEditGradeOption('edit-grade-12', 'Kelas <span class="roman">XII</span>', '12');
            }
        }
        
        function addEditGradeOption(id, label, value) {
            const container = document.getElementById('edit-grade-options');
            
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.id = id;
            radio.name = 'edit-grade';
            radio.value = value;
            radio.className = 'radio-option';
            
            const radioLabel = document.createElement('label');
            radioLabel.htmlFor = id;
            radioLabel.className = 'radio-label';
            radioLabel.innerHTML = label;
            
            container.appendChild(radio);
            container.appendChild(radioLabel);
        }
        
        function saveEditedParticipant() {
            const index = document.getElementById('edit-participant-index').value;
            if (!index) return;
            
            const participant = participantsData[index];
            
            // Update participant data
            participant.fullname = document.getElementById('edit-fullname').value.trim();
            participant.status = 'pelajar';
            participant.school = document.getElementById('edit-school-name').value.trim();
            participant.studentId = document.getElementById('edit-student-id').value.trim();
            participant.purpose = document.querySelector('input[name="edit-purpose"]:checked')?.value || '';
            participant.level = document.querySelector('input[name="edit-level"]:checked')?.value || '';
            participant.grade = document.querySelector('input[name="edit-grade"]:checked')?.value || '';
            participant.subject = document.getElementById('edit-subject').value;
            participant.score = parseInt(document.getElementById('edit-score').value);
            
            // Save to localStorage
            saveParticipantsData();
            
            // Reload participants data
            loadParticipantsData();
            
            // Hide modal
            hideEditParticipantModal();
            
            alert('Perubahan data peserta berhasil disimpan!');
        }
        
        function hideEditParticipantModal() {
            document.getElementById('edit-participant-modal').style.display = 'none';
        }
        
        function deleteSelectedParticipants() {
            if (selectedParticipants.length === 0) return;
            
            if (!confirm(`Apakah Anda yakin ingin menghapus ${selectedParticipants.length} peserta terpilih?`)) {
                return;
            }
            
            // Sort in descending order to avoid index issues when deleting
            const sortedIndices = [...selectedParticipants].sort((a, b) => b - a);
            
            // Delete participants
            sortedIndices.forEach(index => {
                participantsData.splice(index, 1);
            });
            
            // Save to localStorage
            saveParticipantsData();
            
            // Reload participants data
            loadParticipantsData();
            
            alert(`${sortedIndices.length} peserta berhasil dihapus!`);
        }
        
        function searchParticipants() {
            const searchTerm = document.getElementById('participant-search').value.toLowerCase();
            const rows = document.querySelectorAll('#participants-table-body tr');
            
            rows.forEach(row => {
                const index = parseInt(row.dataset.index);
                const participant = participantsData[index];
                const rowText = `
                    ${participant.fullname.toLowerCase()} 
                    ${participant.studentId || ''} 
                    ${participant.certificateCode || ''}
                `;
                
                if (rowText.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
        
        function validateCertificate() {
            const code = document.getElementById('certificate-code-input').value.trim();
            const validationResult = document.getElementById('validation-result');
            
            if (!code) {
                alert('Silakan masukkan kode sertifikat');
                return;
            }
            
            // Find participant with this certificate code
            const participant = participantsData.find(p => p.certificateCode === code);
            
            if (participant) {
                validationResult.innerHTML = `
                    <p class="valid-certificate">Sertifikat Valid!</p>
                    <p>Nama: ${participant.fullname}</p>
                    <p>Status: Pelajar</p>
                    <p>Tingkat: ${participant.level || '-'}</p>
                    <p>Kelas: ${participant.grade ? `Kelas ${participant.grade}` : '-'}</p>
                    <p>Mata Ujian: ${participant.subject || '-'}</p>
                    <p>Nilai: ${participant.score}%</p>
                    <p>Tanggal Ujian: ${new Date(participant.examDate).toLocaleDateString('id-ID')}</p>
                    <p>Perangkat: ${participant.deviceInfo?.deviceType || 'Tidak diketahui'}</p>
                `;
                validationResult.style.display = 'block';
            } else {
                validationResult.innerHTML = '<p class="invalid-certificate">Sertifikat Tidak Valid!</p>';
                validationResult.style.display = 'block';
            }
        }
        
        function saveCodes() {
            const newLoginCode = document.getElementById('new-login-code').value;
            const newAdminCode = document.getElementById('new-admin-code').value;
            
            if (newLoginCode) {
                adminSettings.loginCode = newLoginCode;
                document.getElementById('new-login-code').value = '';
            }
            
            if (newAdminCode) {
                adminSettings.adminCode = newAdminCode;
                document.getElementById('new-admin-code').value = '';
            }
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Kode berhasil diubah!');
        }
        
        function saveContent() {
            const greetingMessage = document.getElementById('greeting-message-input').value;
            const adminMessage = document.getElementById('admin-message-input').value;
            const chairmanName = document.getElementById('chairman-name').value;
            
            // Update admin settings
            adminSettings.greetingMessage = greetingMessage;
            adminSettings.adminMessage = adminMessage;
            adminSettings.chairmanName = chairmanName;
            
            // Update UI
            document.getElementById('greeting-text').textContent = greetingMessage;
            document.getElementById('admin-message').textContent = adminMessage;
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Perubahan konten berhasil disimpan!');
        }
        
        function saveSettings() {
            const examDuration = parseInt(document.getElementById('exam-duration').value);
            
            // Update admin settings
            adminSettings.examDuration = examDuration;
            
            // Update subject toggle
            adminSettings.enabledSubjects = {
                "Agama Islam": document.getElementById('toggle-religion').checked
            };
            
            // Save to localStorage
            saveAdminSettings();
            
            alert('Pengaturan berhasil disimpan!');
        }
        
        function exportToCSV() {
            if (participantsData.length === 0) {
                alert('Tidak ada data peserta untuk diekspor');
                return;
            }
            
            // Create CSV header
            let csv = 'Nama,NIS,Sekolah,Tingkat,Kelas,Subject,Nilai,Kode Sertifikat,Tanggal Ujian,Jenis Perangkat\n';
            
            // Add data rows
            participantsData.forEach(participant => {
                csv += `"${participant.fullname}","${participant.studentId || ''}","${participant.school || ''}",`;
                csv += `"${participant.level || ''}","${participant.grade || ''}","${participant.subject || ''}",`;
                csv += `"${participant.score}","${participant.certificateCode || ''}","${new Date(participant.examDate).toLocaleString('id-ID')}",`;
                csv += `"${participant.deviceInfo?.deviceType || 'Tidak diketahui'}"\n`;
            });
            
            // Create download link
            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.setAttribute('href', url);
            link.setAttribute('download', `data-peserta-${new Date().toISOString().slice(0,10)}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        function exportToJSON() {
            if (participantsData.length === 0) {
                alert('Tidak ada data peserta untuk diekspor');
                return;
            }
            
            // Create JSON data
            const jsonData = JSON.stringify(participantsData, null, 2);
            
            // Create download link
            const blob = new Blob([jsonData], { type: 'application/json;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.setAttribute('href', url);
            link.setAttribute('download', `data-peserta-${new Date().toISOString().slice(0,10)}.json`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        function exportToExcel() {
            if (participantsData.length === 0) {
                alert('Tidak ada data peserta untuk diekspor');
                return;
            }
            
            // Prepare data for Excel
            const excelData = [
                ['Nama', 'NIS', 'Sekolah', 'Tingkat', 'Kelas', 'Mata Ujian', 'Nilai', 'Kode Sertifikat', 'Tanggal Ujian', 'Jenis Perangkat']
            ];
            
            participantsData.forEach(participant => {
                excelData.push([
                    participant.fullname,
                    participant.studentId || '',
                    participant.school || '',
                    participant.level || '',
                    participant.grade || '',
                    participant.subject || '',
                    participant.score,
                    participant.certificateCode || '',
                    new Date(participant.examDate).toLocaleString('id-ID'),
                    participant.deviceInfo?.deviceType || 'Tidak diketahui'
                ]);
            });
            
            // Create worksheet
            const ws = XLSX.utils.aoa_to_sheet(excelData);
            
            // Create workbook
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, "Data Peserta");
            
            // Export to Excel file
            XLSX.writeFile(wb, `data-peserta-${new Date().toISOString().slice(0,10)}.xlsx`);
        }
    </script>
</body>
</html>
